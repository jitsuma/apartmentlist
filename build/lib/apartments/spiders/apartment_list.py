import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/dania-fl-33004/400-to-1000',
        'https://www.apartments.com/tampa-fl-33615/319-to-478',
        'https://www.apartments.com/san-diego-ca-92145/400-to-1000',
        'https://www.apartments.com/colorado-springs-co-80917/400-to-1000',
        'https://www.apartments.com/trenton-mi-48183/400-to-1000',
        'https://www.apartments.com/conroe-tx-77304/560-to-1198',
        'https://www.apartments.com/atmore-al-0/400-to-1000',
        'https://www.apartments.com/villa-park-il-60181/1000-to-1200',
        'https://www.apartments.com/miami-fl-33170/400-to-1000',
        'https://www.apartments.com/sherman-ms-38869/319-to-478',
        'https://www.apartments.com/sacramento-ca-95823/400-to-1000',
        'https://www.apartments.com/plant-city-fl-33566/1000-to-1200',
        'https://www.apartments.com/pompano-beach-fl-33064/400-to-1000',
        'https://www.apartments.com/dallas-ga-30132/400-to-1000',
        'https://www.apartments.com/fall-river-ma-2724/400-to-1000',
        'https://www.apartments.com/shreveport-la-71103/400-to-1000',
        'https://www.apartments.com/burlington-nj-8016/1000-to-1200',
        'https://www.apartments.com/shenandoah-pa-17976/400-to-1000',
        'https://www.apartments.com/daytona-beach-fl-32114/320-to-838',
        'https://www.apartments.com/carolina-beach-nc-28428/400-to-1000',
        'https://www.apartments.com/warner-robins-ga-31088/400-to-1000',
        'https://www.apartments.com/detroit-mi-48227/400-to-1000',
        'https://www.apartments.com/liverpool-pa-17045/400-to-1000',
        'https://www.apartments.com/beverly-ma-1915/400-to-1000',
        'https://www.apartments.com/desoto-tx-75115/400-to-1000',
        'https://www.apartments.com/northampton-pa-18067/400-to-1000',
        'https://www.apartments.com/glendale-ca-91206/400-to-1000',
        'https://www.apartments.com/washington-ga-30673/400-to-1000',
        'https://www.apartments.com/dallas-tx-75202/400-to-1000',
        'https://www.apartments.com/huntsville-tx-77320/400-to-1000',
        'https://www.apartments.com/nan-nan-31319/400-to-1000',
        'https://www.apartments.com/memphis-tn-38114/400-to-1000',
        'https://www.apartments.com/jackson-tn-38305/400-to-1000',
        'https://www.apartments.com/coldwater-mi-49036/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30331/400-to-1000',
        'https://www.apartments.com/eaton-rapids-mi-48827/400-to-1000',
        'https://www.apartments.com/jesup-ga-31546/1000-to-1200',
        'https://www.apartments.com/lancaster-pa-17603/400-to-1000',
        'https://www.apartments.com/bellingham-wa-98226/400-to-1000',
        'https://www.apartments.com/north-myrtle-beach-sc-29582/320-to-838',
        'https://www.apartments.com/snellville-ga-30039/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30337/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46219/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30317/560-to-1198',
        'https://www.apartments.com/rock-hill-sc-29730/400-to-1000',
        'https://www.apartments.com/memphis-tn-38109/400-to-1000',
        'https://www.apartments.com/chesapeake-va-23323/400-to-1000',
        'https://www.apartments.com/newport-news-va-23602/320-to-838',
        'https://www.apartments.com/tucson-az-85745/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19140/560-to-1198',
        'https://www.apartments.com/indianapolis-in-46201/320-to-838',
        'https://www.apartments.com/manchester-center-vt-5255/400-to-1000',
        'https://www.apartments.com/waco-tx-76706/400-to-1000',
        'https://www.apartments.com/independence-mo-64056/560-to-1198',
        'https://www.apartments.com/dayton-oh-45404/400-to-1000',
        'https://www.apartments.com/lithonia-ga-30038/400-to-1000',
        'https://www.apartments.com/euclid-oh-44123/400-to-1000',
        'https://www.apartments.com/detroit-mi-48234/400-to-1000',
        'https://www.apartments.com/muskogee-ok-74401/400-to-1000',
        'https://www.apartments.com/memphis-tn-38115/400-to-1000',
        'https://www.apartments.com/chiefland-fl-32626/400-to-1000',
        'https://www.apartments.com/bangor-me-4401/400-to-1000',
        'https://www.apartments.com/riverside-ca-92507/400-to-1000',
        'https://www.apartments.com/dallas-tx-75216/400-to-1000',
        'https://www.apartments.com/milwaukee-wi-53212/320-to-838',
        'https://www.apartments.com/los-angeles-ca-90006/400-to-1000',
        'https://www.apartments.com/thomaston-ga-30286/400-to-1000',
        'https://www.apartments.com/eugene-or-97402/400-to-1000',
        'https://www.apartments.com/birmingham-al-35215/400-to-1000',
        'https://www.apartments.com/durham-nc-27704/400-to-1000',
        'https://www.apartments.com/houston-tx-77024/320-to-838',
        'https://www.apartments.com/hollister-ca-95023/400-to-1000',
        'https://www.apartments.com/spartanburg-sc-29303/400-to-1000',
        'https://www.apartments.com/saint-petersburg-fl-33713/400-to-1000',
        'https://www.apartments.com/newark-nj-7114/1000-to-1200',
        'https://www.apartments.com/north-providence-ri-2911/400-to-1000',
        'https://www.apartments.com/grand-rapids-mi-49503/560-to-1198',
        'https://www.apartments.com/grafton-oh-44044/320-to-838',
        'https://www.apartments.com/lagrange-ga-30240/400-to-1000',
        'https://www.apartments.com/rossville-tn-38066/400-to-1000',
        'https://www.apartments.com/jacksonville-fl-32207/400-to-1000',
        'https://www.apartments.com/las-vegas-nv-89110/400-to-1000',
        'https://www.apartments.com/caldwell-id-83607/319-to-478',
        'https://www.apartments.com/mishawaka-in-46544/400-to-1000',
        'https://www.apartments.com/tampa-fl-33624/320-to-838',
        'https://www.apartments.com/middletown-oh-45042/320-to-838',
        'https://www.apartments.com/sparta-wi-54656/560-to-1198',
        'https://www.apartments.com/salisbury-md-21801/400-to-1000',
        'https://www.apartments.com/cleveland-ga-30528/400-to-1000',
        'https://www.apartments.com/douglasville-ga-30134/400-to-1000',
        'https://www.apartments.com/greenfield-ma-1301/320-to-838',
        'https://www.apartments.com/charlotte-nc-28216/400-to-1000',
        'https://www.apartments.com/cincinnati-oh-45238/400-to-1000',
        'https://www.apartments.com/altoona-pa-16602/320-to-838',
        'https://www.apartments.com/fayetteville-ar-72703/400-to-1000',
        'https://www.apartments.com/chicago-il-60651/400-to-1000',
        'https://www.apartments.com/cheraw-sc-29520/320-to-838',
        'https://www.apartments.com/cozad-ne-69130/320-to-838',
        'https://www.apartments.com/buffalo-ny-14209/400-to-1000',
        'https://www.apartments.com/new-york-ny-10033/400-to-1000',
        'https://www.apartments.com/oxnard-ca-93033/400-to-1000',
        'https://www.apartments.com/dawsonville-ga-30534/320-to-838',
        'https://www.apartments.com/citrus-heights-ca-95621/400-to-1000',
        'https://www.apartments.com/oklahoma-city-ok-73106/400-to-1000',
        'https://www.apartments.com/saint-joseph-mo-64504/320-to-838',
        'https://www.apartments.com/elkton-md-21921/1000-to-1200',
        'https://www.apartments.com/little-rock-ar-72202/400-to-1000',
        'https://www.apartments.com/stockton-ca-95209/400-to-1000',
        'https://www.apartments.com/portland-or-97217/560-to-1198',
        'https://www.apartments.com/hudson-nh-3051/400-to-1000',
        'https://www.apartments.com/grand-junction-co-81503/1000-to-1200',
        'https://www.apartments.com/dothan-al-36301/400-to-1000',
        'https://www.apartments.com/oxon-hill-md-20745/560-to-1198',
        'https://www.apartments.com/milwaukee-wi-53215/400-to-1000',
        'https://www.apartments.com/wilmington-de-19801/400-to-1000',
        'https://www.apartments.com/hartford-ct-6103/320-to-838',
        'https://www.apartments.com/syracuse-ny-13206/320-to-838',
        'https://www.apartments.com/tualatin-or-97062/400-to-1000',
        'https://www.apartments.com/heathsville-va-22473/400-to-1000',
        'https://www.apartments.com/rio-rancho-nm-87144/400-to-1000',
        'https://www.apartments.com/riverton-nj-8077/1000-to-1200',
        'https://www.apartments.com/memphis-tn-38107/400-to-1000',
        'https://www.apartments.com/salt-lake-city-ut-84108/400-to-1000',
        'https://www.apartments.com/dover-de-19901/400-to-1000',
        'https://www.apartments.com/norman-ok-73071/320-to-838',
        'https://www.apartments.com/shelton-wa-98584/400-to-1000',
        'https://www.apartments.com/uniontown-pa-15401/319-to-478',
        'https://www.apartments.com/east-hampton-ct-6424/400-to-1000',
        'https://www.apartments.com/freeland-pa-18224/400-to-1000',
        'https://www.apartments.com/moreno-valley-ca-92553/400-to-1000',
        'https://www.apartments.com/missoula-mt-59802/400-to-1000',
        'https://www.apartments.com/oklahoma-city-ok-73114/319-to-478',
        'https://www.apartments.com/bridgman-mi-49106/560-to-1198',
        'https://www.apartments.com/san-antonio-tx-78221/320-to-838',
        'https://www.apartments.com/north-las-vegas-nv-89030/400-to-1000',
        'https://www.apartments.com/victorville-ca-92392/400-to-1000',
        'https://www.apartments.com/birmingham-al-35216/400-to-1000',
        'https://www.apartments.com/sanford-fl-32771/400-to-1000',
        'https://www.apartments.com/wellford-sc-29385/400-to-1000',
        'https://www.apartments.com/conway-ar-72034/320-to-838',
        'https://www.apartments.com/cayce-sc-29033/400-to-1000',
        'https://www.apartments.com/timberville-va-22853/400-to-1000',
        'https://www.apartments.com/utica-mi-48317/400-to-1000',
        'https://www.apartments.com/denison-tx-75020/400-to-1000',
        'https://www.apartments.com/turlock-ca-95380/400-to-1000',
        'https://www.apartments.com/wilmer-tx-75172/320-to-838',
        'https://www.apartments.com/parkersburg-wv-26101/400-to-1000',
        'https://www.apartments.com/glendale-az-85304/400-to-1000',
        'https://www.apartments.com/phoenix-az-85086/1000-to-1200',
        'https://www.apartments.com/oklahoma-city-ok-73117/400-to-1000',
        'https://www.apartments.com/turlock-ca-95382/1000-to-1200',
        'https://www.apartments.com/columbus-oh-43211/400-to-1000',
        'https://www.apartments.com/brownsville-ca-95919/400-to-1000',
        'https://www.apartments.com/gary-in-46404/400-to-1000',
        'https://www.apartments.com/tazewell-tn-37879/320-to-838',
        'https://www.apartments.com/el-paso-tx-79905/400-to-1000',
        'https://www.apartments.com/trenton-nj-8609/400-to-1000',
        'https://www.apartments.com/sierra-vista-az-85650/560-to-1198',
        'https://www.apartments.com/houston-tx-77015/400-to-1000',
        'https://www.apartments.com/green-bay-wi-54304/400-to-1000',
        'https://www.apartments.com/asheville-nc-28803/400-to-1000',
        'https://www.apartments.com/new-kensington-pa-15068/400-to-1000',
        'https://www.apartments.com/nan-nan-40072/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46268/320-to-838',
        'https://www.apartments.com/las-vegas-nv-89141/320-to-838',
        'https://www.apartments.com/albuquerque-nm-87105/400-to-1000',
        'https://www.apartments.com/roy-ut-84067/400-to-1000',
        'https://www.apartments.com/columbia-sc-29210/400-to-1000',
        'https://www.apartments.com/houston-tx-77049/400-to-1000',
        'https://www.apartments.com/starke-fl-32091/320-to-838',
        'https://www.apartments.com/cincinnati-oh-45225/400-to-1000',
        'https://www.apartments.com/las-vegas-nv-89119/400-to-1000',
        'https://www.apartments.com/gulfport-ms-39503/320-to-838',
        'https://www.apartments.com/wilmington-nc-28409/400-to-1000',
        'https://www.apartments.com/midland-tx-79707/560-to-1198',
        'https://www.apartments.com/nan-nan-72018/400-to-1000',
        'https://www.apartments.com/stroudsburg-pa-18360/400-to-1000',
        'https://www.apartments.com/mesquite-tx-75150/400-to-1000',
        'https://www.apartments.com/paulsboro-nj-8066/560-to-1198',
        'https://www.apartments.com/waldorf-md-20602/560-to-1198',
        'https://www.apartments.com/brooklyn-ny-11224/320-to-838',
        'https://www.apartments.com/rochester-ny-14624/320-to-838',
        'https://www.apartments.com/lometa-tx-76853/320-to-838',
        'https://www.apartments.com/baltimore-md-21216/320-to-838',
        'https://www.apartments.com/conroe-tx-77302/319-to-478',
        'https://www.apartments.com/hammond-in-46323/400-to-1000',
        'https://www.apartments.com/toledo-oh-43609/319-to-478',
        'https://www.apartments.com/baltimore-md-21223/400-to-1000',
        'https://www.apartments.com/maquoketa-ia-52060/400-to-1000',
        'https://www.apartments.com/terre-haute-in-47802/400-to-1000',
        'https://www.apartments.com/alta-ia-51002/320-to-838',
        'https://www.apartments.com/hope-mills-nc-28348/400-to-1000',
        'https://www.apartments.com/kansas-city-mo-64134/400-to-1000',
        'https://www.apartments.com/lockport-ny-14094/1000-to-1200',
        'https://www.apartments.com/visalia-ca-93292/560-to-1198',
        'https://www.apartments.com/auburndale-fl-33823/400-to-1000',
        'https://www.apartments.com/hixson-tn-37343/400-to-1000',
        'https://www.apartments.com/bakersfield-ca-93306/400-to-1000',
        'https://www.apartments.com/clayton-ga-30525/560-to-1198',
        'https://www.apartments.com/murrieta-ca-92562/1000-to-1200',
        'https://www.apartments.com/vacaville-ca-95688/319-to-478',
        'https://www.apartments.com/carrollton-ga-30117/400-to-1000',
        'https://www.apartments.com/quarryville-pa-17566/560-to-1198',
        'https://www.apartments.com/cincinnati-oh-45212/400-to-1000',
        'https://www.apartments.com/san-francisco-ca-94132/320-to-838',
        'https://www.apartments.com/clementon-nj-8021/400-to-1000',
        'https://www.apartments.com/oroville-ca-95966/320-to-838',
        'https://www.apartments.com/penn-valley-ca-95946/400-to-1000',
        'https://www.apartments.com/eufaula-al-36027/400-to-1000',
        'https://www.apartments.com/lakeland-fl-33809/400-to-1000',
        'https://www.apartments.com/clermont-fl-34711/319-to-478',
        'https://www.apartments.com/denham-springs-la-70726/400-to-1000',
        'https://www.apartments.com/la-quinta-ca-92253/560-to-1198',
        'https://www.apartments.com/gresham-or-97030/400-to-1000',
        'https://www.apartments.com/bakersfield-ca-93307/400-to-1000',
        'https://www.apartments.com/new-philadelphia-oh-44663/400-to-1000',
        'https://www.apartments.com/dallas-tx-75236/400-to-1000',
        'https://www.apartments.com/maynardville-tn-37807/400-to-1000',
        'https://www.apartments.com/arvada-co-80002/319-to-478',
        'https://www.apartments.com/milton-fl-32571/400-to-1000',
        'https://www.apartments.com/fresno-ca-93722/319-to-478',
        'https://www.apartments.com/long-beach-ca-90803/400-to-1000',
        'https://www.apartments.com/billings-mt-59105/320-to-838',
        'https://www.apartments.com/newington-ct-6111/319-to-478',
        'https://www.apartments.com/chicago-il-60649/400-to-1000',
        'https://www.apartments.com/nan-nan-852/400-to-1000',
        'https://www.apartments.com/farmersville-tx-75442/400-to-1000',
        'https://www.apartments.com/killeen-tx-76542/320-to-838',
        'https://www.apartments.com/evansdale-ia-50707/400-to-1000',
        'https://www.apartments.com/newton-tx-75966/400-to-1000',
        'https://www.apartments.com/fountain-nc-27829/320-to-838',
        'https://www.apartments.com/duquesne-pa-15110/400-to-1000',
        'https://www.apartments.com/fresno-ca-93728/400-to-1000',
        'https://www.apartments.com/kingsport-tn-37664/400-to-1000',
        'https://www.apartments.com/savannah-ga-31415/400-to-1000',
        'https://www.apartments.com/birmingham-al-35203/400-to-1000',
        'https://www.apartments.com/blythewood-sc-29016/320-to-838',
        'https://www.apartments.com/paragould-ar-72450/400-to-1000',
        'https://www.apartments.com/tampa-fl-33629/560-to-1198',
        'https://www.apartments.com/columbus-ga-31909/320-to-838',
        'https://www.apartments.com/wilmington-nc-28405/560-to-1198',
        'https://www.apartments.com/gastonia-nc-28052/560-to-1198',
        'https://www.apartments.com/queenstown-md-21658/1000-to-1200',
        'https://www.apartments.com/tyler-tx-75701/400-to-1000',
        'https://www.apartments.com/fort-lauderdale-fl-33304/400-to-1000',
        'https://www.apartments.com/twin-falls-id-83301/320-to-838',
        'https://www.apartments.com/evansville-in-47711/400-to-1000',
        'https://www.apartments.com/fort-walton-beach-fl-32547/400-to-1000',
        'https://www.apartments.com/woonsocket-ri-2895/319-to-478',
        'https://www.apartments.com/jacksonville-fl-32218/400-to-1000',
        'https://www.apartments.com/piqua-oh-45356/320-to-838',
        'https://www.apartments.com/hudson-fl-34667/400-to-1000',
        'https://www.apartments.com/fort-wayne-in-46807/400-to-1000',
        'https://www.apartments.com/oklahoma-city-ok-73162/400-to-1000',
        'https://www.apartments.com/albuquerque-nm-87108/400-to-1000',
        'https://www.apartments.com/baltimore-md-21229/400-to-1000',
        'https://www.apartments.com/sheboygan-wi-53081/320-to-838',
        'https://www.apartments.com/palm-springs-ca-92264/400-to-1000',
        'https://www.apartments.com/andalusia-al-36420/400-to-1000',
        'https://www.apartments.com/lebanon-tn-37087/560-to-1198',
        'https://www.apartments.com/nicholasville-ky-40356/320-to-838',
        'https://www.apartments.com/laurinburg-nc-28352/400-to-1000',
        'https://www.apartments.com/theodore-al-36582/319-to-478',
        'https://www.apartments.com/maricopa-az-85138/400-to-1000',
        'https://www.apartments.com/london-ky-40741/400-to-1000',
        'https://www.apartments.com/morrilton-ar-72110/320-to-838',
        'https://www.apartments.com/shelby-nc-28150/319-to-478',
        'https://www.apartments.com/port-orange-fl-32129/400-to-1000',
        'https://www.apartments.com/strawberry-plains-tn-37871/400-to-1000',
        'https://www.apartments.com/tarpon-springs-fl-34689/400-to-1000',
        'https://www.apartments.com/los-angeles-ca-90031/1000-to-1200',
        'https://www.apartments.com/vancouver-wa-98682/400-to-1000',
        'https://www.apartments.com/lebanon-pa-17042/320-to-838',
        'https://www.apartments.com/dolton-il-60419/320-to-838',
        'https://www.apartments.com/columbia-sc-29203/560-to-1198',
        'https://www.apartments.com/forest-park-ga-30297/560-to-1198',
        'https://www.apartments.com/dallas-tx-75228/560-to-1198',
        'https://www.apartments.com/gainesville-ga-30501/320-to-838',
        'https://www.apartments.com/bay-city-mi-48706/320-to-838',
        'https://www.apartments.com/lakeland-fl-33803/320-to-838',
        'https://www.apartments.com/waterloo-ia-50703/319-to-478',
        'https://www.apartments.com/crystal-springs-ms-39059/319-to-478'


        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
