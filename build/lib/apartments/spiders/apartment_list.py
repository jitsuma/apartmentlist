import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/miami-fl-33147/560-to-1198',
        'https://www.apartments.com/tulsa-ok-74137/320-to-838',
        'https://www.apartments.com/gainesville-ga-30506/320-to-838',
        'https://www.apartments.com/rialto-ca-92376/1000-to-1200',
        'https://www.apartments.com/malvern-ar-72104/320-to-838',
        'https://www.apartments.com/new-caney-tx-77357/320-to-838',
        'https://www.apartments.com/quapaw-ok-74363/320-to-838',
        'https://www.apartments.com/panama-city-fl-0/400-to-1000',
        'https://www.apartments.com/stamford-ct-6905/320-to-838',
        'https://www.apartments.com/detroit-mi-48206/320-to-838',
        'https://www.apartments.com/mansfield-oh-44905/560-to-1198',
        'https://www.apartments.com/pittsburgh-pa-15234/320-to-838',
        'https://www.apartments.com/portland-or-97230/320-to-838',
        'https://www.apartments.com/sanford-nc-27330/1000-to-1200',
        'https://www.apartments.com/ashland-ky-41101/319-to-478',
        'https://www.apartments.com/milford-de-19963/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19128/320-to-838',
        'https://www.apartments.com/macon-ga-31204/320-to-838',
        'https://www.apartments.com/alvarado-tx-76009/560-to-1198',
        'https://www.apartments.com/tulsa-ok-74126/320-to-838',
        'https://www.apartments.com/kalamazoo-mi-49048/320-to-838',
        'https://www.apartments.com/lebanon-pa-17046/320-to-838',
        'https://www.apartments.com/fitchburg-ma-1420/319-to-478',
        'https://www.apartments.com/stockton-ca-95210/319-to-478',
        'https://www.apartments.com/warner-robins-ga-31093/319-to-478',
        'https://www.apartments.com/hermosa-beach-ca-90254/1000-to-1200',
        'https://www.apartments.com/fort-walton-beach-fl-32547/560-to-1198',
        'https://www.apartments.com/henderson-nc-27537/320-to-838',
        'https://www.apartments.com/ortonville-mi-48462/320-to-838',
        'https://www.apartments.com/el-paso-tx-79924/1000-to-1200',
        'https://www.apartments.com/atlanta-ga-30311/319-to-478',
        'https://www.apartments.com/new-albany-in-47150/320-to-838',
        'https://www.apartments.com/la-vernia-tx-78121/320-to-838',
        'https://www.apartments.com/arnold-mo-63010/320-to-838',
        'https://www.apartments.com/dover-fl-33527/320-to-838',
        'https://www.apartments.com/perry-ga-31069/320-to-838',
        'https://www.apartments.com/springfield-oh-45503/319-to-478',
        'https://www.apartments.com/chicago-il-60643/320-to-838',
        'https://www.apartments.com/saint-cloud-fl-34769/319-to-478',
        'https://www.apartments.com/cocoa-fl-32927/560-to-1198',
        'https://www.apartments.com/nan-nan-3866/560-to-1198',
        'https://www.apartments.com/savannah-ga-31406/560-to-1198',
        'https://www.apartments.com/bradenton-fl-34205/319-to-478',
        'https://www.apartments.com/buzzards-bay-ma-2532/1000-to-1200',
        'https://www.apartments.com/lafayette-in-47904/319-to-478',
        'https://www.apartments.com/saint-petersburg-fl-33711/320-to-838',
        'https://www.apartments.com/ohatchee-al-36271/320-to-838',
        'https://www.apartments.com/west-palm-beach-fl-33404/560-to-1198',
        'https://www.apartments.com/morrow-ga-30260/319-to-478',
        'https://www.apartments.com/fort-myers-fl-33916/560-to-1198',
        'https://www.apartments.com/wilmington-de-19802/1000-to-1200',
        'https://www.apartments.com/torrington-ct-6790/560-to-1198',
        'https://www.apartments.com/johnson-city-tn-37601/320-to-838',
        'https://www.apartments.com/eldon-mo-65026/320-to-838',
        'https://www.apartments.com/ephrata-pa-17522/320-to-838',
        'https://www.apartments.com/house-springs-mo-63051/320-to-838',
        'https://www.apartments.com/henderson-nv-89044/560-to-1198',
        'https://www.apartments.com/dublin-ga-31021/320-to-838',
        'https://www.apartments.com/hollywood-fl-33023/320-to-838',
        'https://www.apartments.com/tampa-fl-33606/320-to-838',
        'https://www.apartments.com/baldwin-park-ca-91706/320-to-838',
        'https://www.apartments.com/cottondale-al-35453/319-to-478',
        'https://www.apartments.com/hendersonville-nc-28739/319-to-478',
        'https://www.apartments.com/denver-co-80226/1000-to-1200',
        'https://www.apartments.com/gary-in-46409/320-to-838',
        'https://www.apartments.com/nicholasville-ky-40356/320-to-838',
        'https://www.apartments.com/cullman-al-35057/320-to-838',
        'https://www.apartments.com/chicago-il-60644/560-to-1198',
        'https://www.apartments.com/hammond-in-46327/560-to-1198',
        'https://www.apartments.com/norcross-ga-30093/1000-to-1200',
        'https://www.apartments.com/brooklyn-ny-11205/320-to-838',
        'https://www.apartments.com/milwaukee-wi-53221/320-to-838',
        'https://www.apartments.com/fort-pierce-fl-34949/560-to-1198',
        'https://www.apartments.com/el-paso-tx-79932/560-to-1198',
        'https://www.apartments.com/cary-nc-27513/1000-to-1200',
        'https://www.apartments.com/springfield-il-62704/320-to-838',
        'https://www.apartments.com/pensacola-fl-32534/560-to-1198',
        'https://www.apartments.com/mishawaka-in-46544/319-to-478',
        'https://www.apartments.com/chester-pa-19013/319-to-478',
        'https://www.apartments.com/glendale-heights-il-60139/1000-to-1200',
        'https://www.apartments.com/charlotte-nc-28208/560-to-1198',
        'https://www.apartments.com/bellwood-il-60104/320-to-838',
        'https://www.apartments.com/houston-tx-77075/320-to-838',
        'https://www.apartments.com/houston-tx-77090/320-to-838',
        'https://www.apartments.com/columbia-sc-29210/320-to-838',
        'https://www.apartments.com/deland-fl-32724/320-to-838',
        'https://www.apartments.com/rockmart-ga-30153/320-to-838',
        'https://www.apartments.com/richmond-va-23222/320-to-838',
        'https://www.apartments.com/lake-worth-fl-33463/1000-to-1200',
        'https://www.apartments.com/fayetteville-nc-28304/320-to-838',
        'https://www.apartments.com/norfolk-va-23502/560-to-1198',
        'https://www.apartments.com/temple-tx-76504/1000-to-1200',
        'https://www.apartments.com/jackson-tn-38305/560-to-1198',
        'https://www.apartments.com/columbus-oh-43211/320-to-838',
        'https://www.apartments.com/saint-louis-mo-63114/320-to-838',
        'https://www.apartments.com/ridgefield-wa-98642/1000-to-1200',
        'https://www.apartments.com/theodore-al-36582/320-to-838',
        'https://www.apartments.com/encinitas-ca-92024/320-to-838',
        'https://www.apartments.com/marietta-ga-30060/1000-to-1200',
        'https://www.apartments.com/austell-ga-30168/1000-to-1200',
        'https://www.apartments.com/roosevelt-ut-84066/320-to-838',
        'https://www.apartments.com/birmingham-al-35217/319-to-478',
        'https://www.apartments.com/sioux-falls-sd-57107/320-to-838',
        'https://www.apartments.com/muncie-in-47304/320-to-838',
        'https://www.apartments.com/paducah-ky-42003/320-to-838',
        'https://www.apartments.com/lewisville-tx-75077/560-to-1198',
        'https://www.apartments.com/kansas-city-mo-64116/560-to-1198',
        'https://www.apartments.com/warrenville-sc-29851/319-to-478',
        'https://www.apartments.com/hillsboro-or-97123/560-to-1198',
        'https://www.apartments.com/dalton-ga-30721/560-to-1198',
        'https://www.apartments.com/san-antonio-tx-78242/319-to-478',
        'https://www.apartments.com/annapolis-md-21401/320-to-838',
        'https://www.apartments.com/hammond-in-46324/320-to-838',
        'https://www.apartments.com/norristown-pa-19401/320-to-838',
        'https://www.apartments.com/staten-island-ny-10303/1000-to-1200',
        'https://www.apartments.com/el-paso-tx-79904/560-to-1198',
        'https://www.apartments.com/fillmore-ca-93015/319-to-478',
        'https://www.apartments.com/helena-mt-59602/1000-to-1200',
        'https://www.apartments.com/akron-pa-17501/320-to-838',
        'https://www.apartments.com/springdale-ar-72764/320-to-838',
        'https://www.apartments.com/camden-nj-8104/560-to-1198',
        'https://www.apartments.com/san-fernando-ca-91340/320-to-838',
        'https://www.apartments.com/fulton-ny-13069/320-to-838',
        'https://www.apartments.com/orlando-fl-32810/560-to-1198',
        'https://www.apartments.com/rockdale-tx-76567/320-to-838',
        'https://www.apartments.com/wilmington-de-19808/320-to-838',
        'https://www.apartments.com/carrollton-tx-75006/320-to-838',
        'https://www.apartments.com/bonita-springs-fl-34135/319-to-478',
        'https://www.apartments.com/baltimore-md-21215/1000-to-1200',
        'https://www.apartments.com/tampa-fl-33619/320-to-838',
        'https://www.apartments.com/marion-oh-43302/320-to-838',
        'https://www.apartments.com/leavenworth-ks-66048/560-to-1198',
        'https://www.apartments.com/germantown-md-20874/560-to-1198',
        'https://www.apartments.com/las-vegas-nv-89156/1000-to-1200',
        'https://www.apartments.com/indianapolis-in-46239/560-to-1198',
        'https://www.apartments.com/miami-fl-33166/319-to-478',
        'https://www.apartments.com/fort-valley-ga-31030/560-to-1198',
        'https://www.apartments.com/colorado-springs-co-80904/319-to-478',
        'https://www.apartments.com/casselberry-fl-32707/320-to-838',
        'https://www.apartments.com/burlington-nc-27215/560-to-1198',
        'https://www.apartments.com/fresno-ca-93711/320-to-838',
        'https://www.apartments.com/sacramento-ca-95838/320-to-838',
        'https://www.apartments.com/orlando-fl-32811/320-to-838',
        'https://www.apartments.com/portland-tn-37148/560-to-1198',
        'https://www.apartments.com/auburn-ny-13021/319-to-478',
        'https://www.apartments.com/arcadia-ca-91007/320-to-838',
        'https://www.apartments.com/rochester-ny-14611/320-to-838',
        'https://www.apartments.com/milan-il-61264/320-to-838',
        'https://www.apartments.com/albuquerque-nm-87111/560-to-1198',
        'https://www.apartments.com/jacksonville-fl-32221/319-to-478',
        'https://www.apartments.com/bossier-city-la-71112/560-to-1198',
        'https://www.apartments.com/muskogee-ok-74401/320-to-838',
        'https://www.apartments.com/toledo-oh-43612/1000-to-1200',
        'https://www.apartments.com/columbus-oh-43207/320-to-838',
        'https://www.apartments.com/roanoke-al-36274/320-to-838',
        'https://www.apartments.com/neenah-wi-54956/320-to-838',
        'https://www.apartments.com/council-bluffs-ia-51503/320-to-838',
        'https://www.apartments.com/vancouver-wa-98683/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19124/560-to-1198',
        'https://www.apartments.com/albuquerque-nm-87121/320-to-838',
        'https://www.apartments.com/tucson-az-85710/560-to-1198',
        'https://www.apartments.com/somerset-oh-43783/320-to-838',
        'https://www.apartments.com/hempstead-ny-11550/319-to-478',
        'https://www.apartments.com/las-vegas-nv-89103/560-to-1198',
        'https://www.apartments.com/swainsboro-ga-30401/320-to-838',
        'https://www.apartments.com/bridgeport-ct-6605/319-to-478',
        'https://www.apartments.com/wilmington-oh-45177/319-to-478',
        'https://www.apartments.com/tyler-tx-75702/319-to-478',
        'https://www.apartments.com/waldorf-md-20602/1000-to-1200',
        'https://www.apartments.com/ocala-fl-34479/560-to-1198',
        'https://www.apartments.com/jackson-ms-39213/319-to-478',
        'https://www.apartments.com/winston-salem-nc-27105/320-to-838',
        'https://www.apartments.com/stockton-ca-95206/560-to-1198',
        'https://www.apartments.com/cincinnati-oh-45229/319-to-478',
        'https://www.apartments.com/cape-girardeau-mo-63701/560-to-1198',
        'https://www.apartments.com/waterbury-ct-6708/560-to-1198',
        'https://www.apartments.com/los-angeles-ca-90044/560-to-1198',
        'https://www.apartments.com/bakersfield-ca-93309/319-to-478',
        'https://www.apartments.com/pineville-la-71360/320-to-838',
        'https://www.apartments.com/glendale-az-85302/560-to-1198',
        'https://www.apartments.com/daleville-al-36322/320-to-838',
        'https://www.apartments.com/jacksonville-fl-32209/320-to-838',
        'https://www.apartments.com/winter-haven-fl-33881/1000-to-1200',
        'https://www.apartments.com/tacoma-wa-98405/320-to-838',
        'https://www.apartments.com/poplar-bluff-mo-63901/320-to-838',
        'https://www.apartments.com/bakersfield-ca-93308/560-to-1198',
        'https://www.apartments.com/salt-lake-city-ut-84118/320-to-838',
        'https://www.apartments.com/las-vegas-nv-89129/560-to-1198',
        'https://www.apartments.com/glen-burnie-md-21061/560-to-1198',
        'https://www.apartments.com/gardena-ca-90248/560-to-1198',
        'https://www.apartments.com/springfield-mo-65802/320-to-838',
        'https://www.apartments.com/massillon-oh-44646/320-to-838',
        'https://www.apartments.com/harvey-il-60426/320-to-838',
        'https://www.apartments.com/indian-trail-nc-28079/320-to-838',
        'https://www.apartments.com/woodland-ca-95776/560-to-1198',
        'https://www.apartments.com/citronelle-al-36522/320-to-838',
        'https://www.apartments.com/corning-ny-14830/320-to-838',
        'https://www.apartments.com/new-haven-ct-6511/560-to-1198',
        'https://www.apartments.com/sacramento-ca-95821/319-to-478',
        'https://www.apartments.com/aiken-sc-29801/320-to-838',
        'https://www.apartments.com/reno-nv-89501/320-to-838',
        'https://www.apartments.com/terrell-tx-75160/320-to-838',
        'https://www.apartments.com/yucaipa-ca-92399/560-to-1198',
        'https://www.apartments.com/newark-nj-7106/560-to-1198',
        'https://www.apartments.com/houston-tx-77008/560-to-1198',
        'https://www.apartments.com/artesia-ca-90701/320-to-838',
        'https://www.apartments.com/memphis-tn-38122/320-to-838',
        'https://www.apartments.com/bartow-fl-33830/320-to-838',
        'https://www.apartments.com/cuba-mo-65453/320-to-838',
        'https://www.apartments.com/phoenix-az-85009/560-to-1198',
        'https://www.apartments.com/paragould-ar-72450/320-to-838',
        'https://www.apartments.com/paris-tx-75462/320-to-838',
        'https://www.apartments.com/norwich-ny-13815/319-to-478',
        'https://www.apartments.com/west-memphis-ar-72301/320-to-838',
        'https://www.apartments.com/syracuse-ny-13212/320-to-838',
        'https://www.apartments.com/orange-cove-ca-93646/560-to-1198',
        'https://www.apartments.com/heath-oh-43056/320-to-838',
        'https://www.apartments.com/detroit-mi-48217/319-to-478',
        'https://www.apartments.com/georgetown-sc-29440/320-to-838',
        'https://www.apartments.com/northampton-pa-18067/560-to-1198',
        'https://www.apartments.com/odessa-tx-79762/320-to-838',
        'https://www.apartments.com/green-bay-wi-54303/320-to-838',
        'https://www.apartments.com/san-antonio-tx-78203/320-to-838',
        'https://www.apartments.com/florissant-mo-63031/320-to-838',
        'https://www.apartments.com/saint-johns-fl-32259/1000-to-1200',
        'https://www.apartments.com/virginia-beach-va-23452/319-to-478',
        'https://www.apartments.com/fairfield-oh-45014/320-to-838',
        'https://www.apartments.com/susanville-ca-96130/560-to-1198',
        'https://www.apartments.com/shreveport-la-71103/319-to-478',
        'https://www.apartments.com/pryor-ok-74361/319-to-478',
        'https://www.apartments.com/tucson-az-85716/1000-to-1200',
        'https://www.apartments.com/radcliff-ky-40160/560-to-1198',
        'https://www.apartments.com/albuquerque-nm-87114/560-to-1198',
        'https://www.apartments.com/mifflintown-pa-17059/320-to-838',
        'https://www.apartments.com/knoxville-tn-37914/560-to-1198',
        'https://www.apartments.com/haltom-city-tx-76117/320-to-838',
        'https://www.apartments.com/dayton-oh-45417/320-to-838',
        'https://www.apartments.com/fort-worth-tx-76140/560-to-1198',
        'https://www.apartments.com/indianapolis-in-46203/319-to-478',
        'https://www.apartments.com/dublin-ca-94568/320-to-838',
        'https://www.apartments.com/garland-tx-75040/560-to-1198',
        'https://www.apartments.com/windsor-mo-65360/319-to-478',
        'https://www.apartments.com/casper-wy-82601/320-to-838',
        'https://www.apartments.com/toledo-oh-43606/320-to-838',
        'https://www.apartments.com/cedar-hill-tn-37032/560-to-1198',
        'https://www.apartments.com/hopkinsville-ky-42240/319-to-478',
        'https://www.apartments.com/la-porte-in-46350/320-to-838',
        'https://www.apartments.com/toledo-oh-43623/320-to-838',
        'https://www.apartments.com/cleveland-oh-44120/320-to-838',
        'https://www.apartments.com/alhambra-ca-91803/320-to-838',
        'https://www.apartments.com/veradale-wa-99037/320-to-838',
        'https://www.apartments.com/omaha-ne-68104/320-to-838',
        'https://www.apartments.com/charlotte-nc-28205/320-to-838',
        'https://www.apartments.com/hamden-ct-6514/560-to-1198',
        'https://www.apartments.com/webster-fl-33597/320-to-838',
        'https://www.apartments.com/ogden-ut-84404/560-to-1198',
        'https://www.apartments.com/east-saint-louis-il-62206/320-to-838',
        'https://www.apartments.com/madison-tn-37115/1000-to-1200',
        'https://www.apartments.com/parkville-md-21234/320-to-838',
        'https://www.apartments.com/perris-ca-92570/320-to-838',
        'https://www.apartments.com/carrollton-ga-30116/319-to-478',
        'https://www.apartments.com/greenwood-sc-29646/320-to-838',
        'https://www.apartments.com/visalia-ca-93291/320-to-838',
        'https://www.apartments.com/pittsburg-ca-94565/320-to-838',
        'https://www.apartments.com/pensacola-fl-32505/560-to-1198',
        'https://www.apartments.com/muskegon-mi-49444/560-to-1198',
        'https://www.apartments.com/san-antonio-tx-78227/320-to-838',
        'https://www.apartments.com/north-las-vegas-nv-89030/1000-to-1200',
        'https://www.apartments.com/portland-or-97224/320-to-838',
        'https://www.apartments.com/pontiac-mi-48340/320-to-838',
        'https://www.apartments.com/marysville-wa-98270/1000-to-1200',
        'https://www.apartments.com/terre-haute-in-47807/320-to-838',
        'https://www.apartments.com/fresno-ca-93702/320-to-838',
        'https://www.apartments.com/odessa-tx-79761/319-to-478',
        'https://www.apartments.com/allentown-pa-18102/1000-to-1200',
        'https://www.apartments.com/anderson-sc-29625/320-to-838',
        'https://www.apartments.com/orem-ut-84097/319-to-478',
        'https://www.apartments.com/elkhart-in-46514/560-to-1198',
        'https://www.apartments.com/san-antonio-tx-78201/320-to-838',
        'https://www.apartments.com/flint-mi-48506/320-to-838',
        'https://www.apartments.com/jonesboro-ar-72404/560-to-1198',
        'https://www.apartments.com/columbia-sc-29201/320-to-838',
        'https://www.apartments.com/milwaukee-wi-53208/320-to-838',
        'https://www.apartments.com/imperial-mo-63052/320-to-838',
        'https://www.apartments.com/hamilton-oh-45013/320-to-838',
        'https://www.apartments.com/houston-tx-77082/319-to-478',
        'https://www.apartments.com/phoenix-az-85037/560-to-1198',
        'https://www.apartments.com/springfield-ma-1108/320-to-838'

        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
