import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/jonesboro-ar-72401/320-to-838',
        'https://www.apartments.com/henderson-nc-27537/320-to-838',
        'https://www.apartments.com/batavia-oh-45103/320-to-838',
        'https://www.apartments.com/marion-il-62959/319-to-478',
        'https://www.apartments.com/evansville-in-47711/320-to-838',
        'https://www.apartments.com/lincoln-ne-68521/1000-to-1200',
        'https://www.apartments.com/akron-oh-44333/320-to-838',
        'https://www.apartments.com/atlanta-ga-30331/560-to-1198',
        'https://www.apartments.com/norfolk-va-23513/320-to-838',
        'https://www.apartments.com/chester-pa-0/400-to-1000',
        'https://www.apartments.com/conyers-ga-30013/320-to-838',
        'https://www.apartments.com/owensboro-ky-42303/560-to-1198',
        'https://www.apartments.com/kinston-nc-28501/560-to-1198',
        'https://www.apartments.com/tucson-az-85710/560-to-1198',
        'https://www.apartments.com/buckeye-az-85326/560-to-1198',
        'https://www.apartments.com/austin-ar-72007/320-to-838',
        'https://www.apartments.com/fort-wayne-in-46845/320-to-838',
        'https://www.apartments.com/auburn-wa-98001/560-to-1198',
        'https://www.apartments.com/campbell-oh-44405/320-to-838',
        'https://www.apartments.com/westland-mi-48186/1000-to-1200',
        'https://www.apartments.com/san-antonio-tx-78216/560-to-1198',
        'https://www.apartments.com/north-little-rock-ar-72114/320-to-838',
        'https://www.apartments.com/long-beach-ca-90806/1000-to-1200',
        'https://www.apartments.com/los-angeles-ca-90047/320-to-838',
        'https://www.apartments.com/denville-nj-7834/320-to-838',
        'https://www.apartments.com/newton-ks-67114/320-to-838',
        'https://www.apartments.com/jacksonville-fl-32209/560-to-1198',
        'https://www.apartments.com/battleboro-nc-27809/319-to-478',
        'https://www.apartments.com/hollywood-fl-33021/1000-to-1200',
        'https://www.apartments.com/niles-mi-49120/320-to-838',
        'https://www.apartments.com/goldsboro-nc-27530/319-to-478',
        'https://www.apartments.com/cincinnati-oh-45238/560-to-1198',
        'https://www.apartments.com/indianapolis-in-46218/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19111/320-to-838',
        'https://www.apartments.com/pottsville-pa-17901/319-to-478',
        'https://www.apartments.com/joplin-mo-64801/560-to-1198',
        'https://www.apartments.com/horn-lake-ms-38637/320-to-838',
        'https://www.apartments.com/chattanooga-tn-37415/320-to-838',
        'https://www.apartments.com/rock-hill-sc-29732/560-to-1198',
        'https://www.apartments.com/bowling-green-ky-42101/560-to-1198',
        'https://www.apartments.com/henrico-va-23231/560-to-1198',
        'https://www.apartments.com/amarillo-tx-79104/320-to-838',
        'https://www.apartments.com/vero-beach-fl-32966/560-to-1198',
        'https://www.apartments.com/burlington-nj-8016/560-to-1198',
        'https://www.apartments.com/nan-nan-25402/319-to-478',
        'https://www.apartments.com/appleton-wi-54911/320-to-838',
        'https://www.apartments.com/ennis-tx-75119/320-to-838',
        'https://www.apartments.com/arcadia-fl-34266/320-to-838',
        'https://www.apartments.com/bloomfield-mo-63825/320-to-838',
        'https://www.apartments.com/la-crosse-wi-54603/320-to-838',
        'https://www.apartments.com/conyers-ga-30094/320-to-838',
        'https://www.apartments.com/gulfport-ms-39501/319-to-478',
        'https://www.apartments.com/birmingham-al-35211/319-to-478',
        'https://www.apartments.com/augusta-ga-30907/560-to-1198',
        'https://www.apartments.com/augusta-me-4330/560-to-1198',
        'https://www.apartments.com/columbus-in-47201/320-to-838',
        'https://www.apartments.com/winnsboro-sc-29180/320-to-838',
        'https://www.apartments.com/little-rock-ar-72206/320-to-838',
        'https://www.apartments.com/lafayette-la-70501/320-to-838',
        'https://www.apartments.com/riverdale-ga-30296/1000-to-1200',
        'https://www.apartments.com/southaven-ms-38671/560-to-1198',
        'https://www.apartments.com/des-moines-ia-50315/320-to-838',
        'https://www.apartments.com/abilene-tx-79601/319-to-478',
        'https://www.apartments.com/orange-ma-1364/1000-to-1200',
        'https://www.apartments.com/lancaster-pa-17603/320-to-838',
        'https://www.apartments.com/north-las-vegas-nv-89081/320-to-838',
        'https://www.apartments.com/sandersville-ga-31082/319-to-478',
        'https://www.apartments.com/braddock-pa-15104/320-to-838',
        'https://www.apartments.com/kannapolis-nc-28083/320-to-838',
        'https://www.apartments.com/sayre-pa-18840/319-to-478',
        'https://www.apartments.com/spokane-wa-99207/320-to-838',
        'https://www.apartments.com/rockford-il-61101/560-to-1198',
        'https://www.apartments.com/san-antonio-tx-78207/319-to-478',
        'https://www.apartments.com/las-vegas-nv-89120/320-to-838',
        'https://www.apartments.com/fredericksburg-va-22401/320-to-838',
        'https://www.apartments.com/nan-nan-92513/319-to-478',
        'https://www.apartments.com/saint-joseph-mo-64503/320-to-838',
        'https://www.apartments.com/prescott-valley-az-86314/1000-to-1200',
        'https://www.apartments.com/brigham-city-ut-84302/560-to-1198',
        'https://www.apartments.com/greensboro-nc-27406/560-to-1198',
        'https://www.apartments.com/buford-ga-30518/560-to-1198',
        'https://www.apartments.com/springfield-mo-65802/319-to-478',
        'https://www.apartments.com/washington-dc-20017/319-to-478',
        'https://www.apartments.com/north-las-vegas-nv-89032/1000-to-1200',
        'https://www.apartments.com/davison-mi-48423/1000-to-1200',
        'https://www.apartments.com/emporia-va-23847/320-to-838',
        'https://www.apartments.com/omaha-ne-68104/319-to-478',
        'https://www.apartments.com/pocono-lake-pa-18347/1000-to-1200',
        'https://www.apartments.com/lexington-ga-30648/319-to-478',
        'https://www.apartments.com/cedartown-ga-30125/560-to-1198',
        'https://www.apartments.com/chester-sc-29706/320-to-838',
        'https://www.apartments.com/jensen-beach-fl-34957/560-to-1198',
        'https://www.apartments.com/milford-ma-1757/560-to-1198',
        'https://www.apartments.com/adairsville-ga-30103/320-to-838',
        'https://www.apartments.com/prosperity-sc-29127/320-to-838',
        'https://www.apartments.com/franklin-ky-42134/320-to-838',
        'https://www.apartments.com/trinidad-co-81082/320-to-838',
        'https://www.apartments.com/high-point-nc-27263/320-to-838',
        'https://www.apartments.com/saint-louis-mo-63112/320-to-838',
        'https://www.apartments.com/breeden-wv-25666/1000-to-1200',
        'https://www.apartments.com/lakeland-fl-33801/320-to-838',
        'https://www.apartments.com/endicott-ny-13760/560-to-1198',
        'https://www.apartments.com/tuscaloosa-al-35401/560-to-1198',
        'https://www.apartments.com/huntsville-al-35802/560-to-1198',
        'https://www.apartments.com/olathe-ks-66061/319-to-478',
        'https://www.apartments.com/yuma-az-85365/320-to-838',
        'https://www.apartments.com/pineville-la-71360/320-to-838',
        'https://www.apartments.com/graham-nc-27253/320-to-838',
        'https://www.apartments.com/kansas-city-mo-64130/320-to-838',
        'https://www.apartments.com/eastpointe-mi-48021/319-to-478',
        'https://www.apartments.com/bethany-beach-de-19930/560-to-1198',
        'https://www.apartments.com/leesburg-ga-31763/320-to-838',
        'https://www.apartments.com/salem-or-97301/560-to-1198',
        'https://www.apartments.com/middletown-ct-6457/1000-to-1200',
        'https://www.apartments.com/ashland-oh-44805/320-to-838',
        'https://www.apartments.com/corbin-ky-40701/319-to-478',
        'https://www.apartments.com/southington-ct-6489/560-to-1198',
        'https://www.apartments.com/stockton-ca-95203/320-to-838',
        'https://www.apartments.com/lexington-ky-40508/320-to-838',
        'https://www.apartments.com/greensboro-nc-27455/320-to-838',
        'https://www.apartments.com/dallas-tx-75252/319-to-478',
        'https://www.apartments.com/milwaukee-wi-53208/320-to-838',
        'https://www.apartments.com/romeoville-il-60446/560-to-1198',
        'https://www.apartments.com/highland-park-mi-48203/320-to-838',
        'https://www.apartments.com/columbia-tn-38401/319-to-478',
        'https://www.apartments.com/thomasville-nc-27360/319-to-478',
        'https://www.apartments.com/west-monroe-la-71292/320-to-838',
        'https://www.apartments.com/mcallen-tx-78504/320-to-838',
        'https://www.apartments.com/augusta-ga-30906/560-to-1198',
        'https://www.apartments.com/glendale-az-85310/1000-to-1200',
        'https://www.apartments.com/sallisaw-ok-74955/320-to-838',
        'https://www.apartments.com/lucerne-valley-ca-92356/320-to-838',
        'https://www.apartments.com/la-vergne-tn-37086/560-to-1198',
        'https://www.apartments.com/rocky-mount-nc-27804/319-to-478',
        'https://www.apartments.com/pima-az-85543/560-to-1198',
        'https://www.apartments.com/bristol-va-24201/319-to-478',
        'https://www.apartments.com/nan-nan-44540/560-to-1198',
        'https://www.apartments.com/auburn-me-4210/320-to-838',
        'https://www.apartments.com/los-angeles-ca-90059/320-to-838',
        'https://www.apartments.com/ogden-ut-84401/320-to-838',
        'https://www.apartments.com/belton-sc-29627/319-to-478',
        'https://www.apartments.com/lexington-ky-40511/320-to-838',
        'https://www.apartments.com/kalamazoo-mi-49009/320-to-838',
        'https://www.apartments.com/virginia-beach-va-23451/560-to-1198',
        'https://www.apartments.com/dubuque-ia-52002/320-to-838',
        'https://www.apartments.com/reedley-ca-93654/320-to-838',
        'https://www.apartments.com/brandon-fl-33511/560-to-1198',
        'https://www.apartments.com/durham-nc-27704/320-to-838',
        'https://www.apartments.com/dover-de-19904/560-to-1198',
        'https://www.apartments.com/vero-beach-fl-32967/1000-to-1200',
        'https://www.apartments.com/lilburn-ga-30047/320-to-838',
        'https://www.apartments.com/fort-walton-beach-fl-32548/320-to-838',
        'https://www.apartments.com/knoxville-tn-37921/320-to-838',
        'https://www.apartments.com/asbury-park-nj-7712/319-to-478',
        'https://www.apartments.com/concord-nh-3301/320-to-838',
        'https://www.apartments.com/searcy-ar-72143/320-to-838',
        'https://www.apartments.com/grand-rapids-mi-49544/1000-to-1200',
        'https://www.apartments.com/omaha-ne-68110/560-to-1198',
        'https://www.apartments.com/apple-valley-ca-92308/319-to-478',
        'https://www.apartments.com/rosemead-ca-91770/320-to-838',
        'https://www.apartments.com/dalton-ga-30721/320-to-838',
        'https://www.apartments.com/altoona-pa-16602/319-to-478',
        'https://www.apartments.com/orlando-fl-32835/319-to-478',
        'https://www.apartments.com/carrollton-tx-75006/560-to-1198',
        'https://www.apartments.com/salisbury-md-21801/560-to-1198',
        'https://www.apartments.com/avondale-az-85323/560-to-1198',
        'https://www.apartments.com/san-antonio-tx-78201/320-to-838',
        'https://www.apartments.com/beloit-wi-53511/320-to-838',
        'https://www.apartments.com/trumbauersville-pa-18970/320-to-838',
        'https://www.apartments.com/westville-nj-8093/1000-to-1200',
        'https://www.apartments.com/mobile-al-36619/320-to-838',
        'https://www.apartments.com/twin-falls-id-83301/319-to-478',
        'https://www.apartments.com/phoenix-az-85008/319-to-478',
        'https://www.apartments.com/barstow-ca-92311/320-to-838',
        'https://www.apartments.com/peoria-az-85345/560-to-1198',
        'https://www.apartments.com/roxboro-nc-27574/320-to-838',
        'https://www.apartments.com/washington-dc-20020/320-to-838',
        'https://www.apartments.com/missoula-mt-59803/320-to-838',
        'https://www.apartments.com/olyphant-pa-18447/320-to-838',
        'https://www.apartments.com/jonesboro-ga-30236/1000-to-1200',
        'https://www.apartments.com/bolivar-ny-14715/320-to-838',
        'https://www.apartments.com/central-point-or-97502/560-to-1198',
        'https://www.apartments.com/azle-tx-76020/319-to-478',
        'https://www.apartments.com/memphis-tn-38106/320-to-838',
        'https://www.apartments.com/gainesville-ga-30506/320-to-838',
        'https://www.apartments.com/tampa-fl-33610/320-to-838',
        'https://www.apartments.com/elkton-md-21921/560-to-1198',
        'https://www.apartments.com/hollywood-fl-33025/320-to-838',
        'https://www.apartments.com/allentown-pa-18104/320-to-838',
        'https://www.apartments.com/fresh-meadows-ny-11365/560-to-1198',
        'https://www.apartments.com/memphis-tn-38115/320-to-838',
        'https://www.apartments.com/jackson-ms-39213/320-to-838',
        'https://www.apartments.com/cedar-park-tx-78613/1000-to-1200',
        'https://www.apartments.com/lake-placid-fl-33852/319-to-478',
        'https://www.apartments.com/norfolk-va-23505/320-to-838',
        'https://www.apartments.com/gaston-sc-29053/320-to-838',
        'https://www.apartments.com/lodi-ca-95240/320-to-838',
        'https://www.apartments.com/boca-raton-fl-33498/560-to-1198',
        'https://www.apartments.com/cleveland-tn-37312/320-to-838',
        'https://www.apartments.com/dracut-ma-1826/560-to-1198',
        'https://www.apartments.com/cudahy-wi-53110/560-to-1198',
        'https://www.apartments.com/detroit-mi-48221/319-to-478',
        'https://www.apartments.com/daytona-beach-fl-32119/320-to-838',
        'https://www.apartments.com/perris-ca-92570/560-to-1198',
        'https://www.apartments.com/newport-news-va-23606/320-to-838',
        'https://www.apartments.com/colorado-springs-co-80905/320-to-838',
        'https://www.apartments.com/havelock-nc-28532/320-to-838',
        'https://www.apartments.com/las-vegas-nv-89183/1000-to-1200',
        'https://www.apartments.com/newark-nj-7108/320-to-838',
        'https://www.apartments.com/green-cove-springs-fl-32043/560-to-1198',
        'https://www.apartments.com/lebanon-mo-65536/320-to-838',
        'https://www.apartments.com/poplar-bluff-mo-63901/320-to-838',
        'https://www.apartments.com/phoenix-az-85040/560-to-1198',
        'https://www.apartments.com/muskegon-mi-49445/560-to-1198',
        'https://www.apartments.com/stockton-ca-95212/1000-to-1200',
        'https://www.apartments.com/pensacola-fl-32505/560-to-1198',
        'https://www.apartments.com/largo-fl-33771/560-to-1198',
        'https://www.apartments.com/san-antonio-tx-78233/560-to-1198',
        'https://www.apartments.com/portland-in-47371/320-to-838',
        'https://www.apartments.com/rockford-il-61104/320-to-838',
        'https://www.apartments.com/albany-ca-94706/320-to-838',
        'https://www.apartments.com/hannibal-mo-63401/320-to-838',
        'https://www.apartments.com/omaha-ne-68127/320-to-838',
        'https://www.apartments.com/woodland-ca-95776/560-to-1198',
        'https://www.apartments.com/chicago-il-60633/319-to-478',
        'https://www.apartments.com/san-antonio-tx-78209/560-to-1198',
        'https://www.apartments.com/atlanta-ga-30349/560-to-1198',
        'https://www.apartments.com/fort-myers-fl-33919/560-to-1198',
        'https://www.apartments.com/roanoke-va-24018/560-to-1198',
        'https://www.apartments.com/cadillac-mi-49601/319-to-478',
        'https://www.apartments.com/milwaukee-wi-53207/320-to-838',
        'https://www.apartments.com/nan-nan-63221/319-to-478',
        'https://www.apartments.com/anderson-sc-29621/319-to-478',
        'https://www.apartments.com/tampa-fl-33612/1000-to-1200',
        'https://www.apartments.com/puyallup-wa-98375/1000-to-1200',
        'https://www.apartments.com/hogansville-ga-30230/319-to-478',
        'https://www.apartments.com/philadelphia-pa-19151/560-to-1198',
        'https://www.apartments.com/greenville-nc-27834/320-to-838',
        'https://www.apartments.com/fort-pierce-fl-34950/320-to-838',
        'https://www.apartments.com/birmingham-al-35235/320-to-838',
        'https://www.apartments.com/jamestown-ny-14701/320-to-838',
        'https://www.apartments.com/chicago-il-60615/320-to-838',
        'https://www.apartments.com/san-antonio-tx-78227/560-to-1198',
        'https://www.apartments.com/ypsilanti-mi-48198/560-to-1198',
        'https://www.apartments.com/detroit-mi-48227/319-to-478',
        'https://www.apartments.com/middlefield-oh-44062/320-to-838',
        'https://www.apartments.com/miami-fl-33147/560-to-1198',
        'https://www.apartments.com/dothan-al-36301/320-to-838',
        'https://www.apartments.com/rialto-ca-92376/320-to-838',
        'https://www.apartments.com/charlotte-nc-28215/320-to-838',
        'https://www.apartments.com/osseo-mi-49266/320-to-838',
        'https://www.apartments.com/greenville-sc-29601/320-to-838',
        'https://www.apartments.com/perris-ca-92571/1000-to-1200',
        'https://www.apartments.com/sacramento-ca-95826/560-to-1198',
        'https://www.apartments.com/bay-city-mi-48708/560-to-1198',
        'https://www.apartments.com/springdale-ar-72762/320-to-838',
        'https://www.apartments.com/belews-creek-nc-27009/1000-to-1200',
        'https://www.apartments.com/dyersburg-tn-38024/319-to-478',
        'https://www.apartments.com/houston-tx-77008/1000-to-1200',
        'https://www.apartments.com/marysville-ca-95901/320-to-838'

        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
