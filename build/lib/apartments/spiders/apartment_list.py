import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/marshall-mn-0/400-to-1000',
        'https://www.apartments.com/bowling-green-ky-42101/320-to-838',
        'https://www.apartments.com/staffordsville-va-24167/320-to-838',
        'https://www.apartments.com/braselton-ga-30517/320-to-838',
        'https://www.apartments.com/pfafftown-nc-27040/400-to-1000',
        'https://www.apartments.com/anderson-in-46016/400-to-1000',
        'https://www.apartments.com/owosso-mi-48867/400-to-1000',
        'https://www.apartments.com/endicott-ny-13760/320-to-838',
        'https://www.apartments.com/dallas-tx-75228/400-to-1000',
        'https://www.apartments.com/country-club-hills-il-60478/400-to-1000',
        'https://www.apartments.com/lincolnville-me-4849/320-to-838',
        'https://www.apartments.com/statesville-nc-28625/319-to-478',
        'https://www.apartments.com/sharon-pa-16146/400-to-1000',
        'https://www.apartments.com/houston-tx-77088/320-to-838',
        'https://www.apartments.com/buffalo-ny-14208/319-to-478',
        'https://www.apartments.com/honolulu-hi-96819/400-to-1000',
        'https://www.apartments.com/jacksonville-fl-32209/400-to-1000',
        'https://www.apartments.com/greensboro-nc-27405/320-to-838',
        'https://www.apartments.com/conley-ga-30288/320-to-838',
        'https://www.apartments.com/matthews-nc-28104/400-to-1000',
        'https://www.apartments.com/gainesville-ga-30506/560-to-1198',
        'https://www.apartments.com/columbus-oh-43219/320-to-838',
        'https://www.apartments.com/huntsville-al-35806/319-to-478',
        'https://www.apartments.com/little-elm-tx-75068/400-to-1000',
        'https://www.apartments.com/fayetteville-nc-28301/560-to-1198',
        'https://www.apartments.com/kill-devil-hills-nc-27948/320-to-838',
        'https://www.apartments.com/fort-worth-tx-76105/320-to-838',
        'https://www.apartments.com/lima-oh-45805/320-to-838',
        'https://www.apartments.com/saint-louis-mo-63101/400-to-1000',
        'https://www.apartments.com/saint-petersburg-fl-33704/400-to-1000',
        'https://www.apartments.com/petersburg-va-23803/560-to-1198',
        'https://www.apartments.com/pennsauken-nj-8110/400-to-1000',
        'https://www.apartments.com/south-bend-in-46613/320-to-838',
        'https://www.apartments.com/germantown-md-20874/400-to-1000',
        'https://www.apartments.com/white-plains-ny-10607/400-to-1000',
        'https://www.apartments.com/farmington-mi-48334/400-to-1000',
        'https://www.apartments.com/alexandria-la-71303/400-to-1000',
        'https://www.apartments.com/gary-in-46404/319-to-478',
        'https://www.apartments.com/cornelius-nc-28031/320-to-838',
        'https://www.apartments.com/marinette-wi-54143/320-to-838',
        'https://www.apartments.com/valdosta-ga-31601/319-to-478',
        'https://www.apartments.com/columbus-oh-43209/320-to-838',
        'https://www.apartments.com/indianapolis-in-46241/400-to-1000',
        'https://www.apartments.com/saginaw-mi-48638/320-to-838',
        'https://www.apartments.com/madison-wi-53714/400-to-1000',
        'https://www.apartments.com/fayetteville-nc-28314/320-to-838',
        'https://www.apartments.com/arcadia-fl-34266/320-to-838',
        'https://www.apartments.com/kenner-la-70065/400-to-1000',
        'https://www.apartments.com/columbus-oh-43227/400-to-1000',
        'https://www.apartments.com/killeen-tx-76541/320-to-838',
        'https://www.apartments.com/springfield-oh-45502/560-to-1198',
        'https://www.apartments.com/providence-ri-2908/320-to-838',
        'https://www.apartments.com/adrian-mi-49221/400-to-1000',
        'https://www.apartments.com/stanton-tx-79782/320-to-838',
        'https://www.apartments.com/melvindale-mi-48122/400-to-1000',
        'https://www.apartments.com/san-diego-ca-92104/320-to-838',
        'https://www.apartments.com/roswell-ga-30076/400-to-1000',
        'https://www.apartments.com/ponte-vedra-fl-32081/319-to-478',
        'https://www.apartments.com/san-diego-ca-92119/400-to-1000',
        'https://www.apartments.com/jackson-mi-49202/400-to-1000',
        'https://www.apartments.com/belleville-il-62220/400-to-1000',
        'https://www.apartments.com/new-haven-ct-6513/400-to-1000',
        'https://www.apartments.com/homestead-fl-33034/560-to-1198',
        'https://www.apartments.com/searcy-ar-72143/400-to-1000',
        'https://www.apartments.com/baytown-tx-77520/400-to-1000',
        'https://www.apartments.com/slocomb-al-36375/400-to-1000',
        'https://www.apartments.com/kingsport-tn-37665/320-to-838',
        'https://www.apartments.com/calhoun-ga-30701/560-to-1198',
        'https://www.apartments.com/rochester-ny-14621/400-to-1000',
        'https://www.apartments.com/baltimore-md-21223/400-to-1000',
        'https://www.apartments.com/hattiesburg-ms-39401/320-to-838',
        'https://www.apartments.com/nashville-tn-37218/400-to-1000',
        'https://www.apartments.com/front-royal-va-22630/1000-to-1200',
        'https://www.apartments.com/morley-mo-63767/319-to-478',
        'https://www.apartments.com/columbus-ga-31909/560-to-1198',
        'https://www.apartments.com/arlington-tx-76011/400-to-1000',
        'https://www.apartments.com/rockledge-fl-32955/400-to-1000',
        'https://www.apartments.com/waco-tx-76705/400-to-1000',
        'https://www.apartments.com/nan-nan-40910/400-to-1000',
        'https://www.apartments.com/kansas-city-mo-64127/400-to-1000',
        'https://www.apartments.com/nan-nan-20285/400-to-1000',
        'https://www.apartments.com/garland-tx-75041/400-to-1000',
        'https://www.apartments.com/colorado-springs-co-80904/400-to-1000',
        'https://www.apartments.com/mesa-az-85203/320-to-838',
        'https://www.apartments.com/oklahoma-city-ok-73109/400-to-1000',
        'https://www.apartments.com/springfield-mo-65803/320-to-838',
        'https://www.apartments.com/beech-grove-in-46107/400-to-1000',
        'https://www.apartments.com/newark-nj-7102/400-to-1000',
        'https://www.apartments.com/jupiter-fl-33469/560-to-1198',
        'https://www.apartments.com/hickory-nc-28602/400-to-1000',
        'https://www.apartments.com/elkton-md-21921/400-to-1000',
        'https://www.apartments.com/little-rock-ar-72211/400-to-1000',
        'https://www.apartments.com/payson-az-85541/319-to-478',
        'https://www.apartments.com/kansas-city-mo-64128/400-to-1000',
        'https://www.apartments.com/beattyville-ky-41311/400-to-1000',
        'https://www.apartments.com/holts-summit-mo-65043/319-to-478',
        'https://www.apartments.com/nan-nan-2140/400-to-1000',
        'https://www.apartments.com/lubbock-tx-79412/320-to-838',
        'https://www.apartments.com/clarkston-mi-48346/560-to-1198',
        'https://www.apartments.com/hamilton-oh-45011/400-to-1000',
        'https://www.apartments.com/chesterfield-va-23838/320-to-838',
        'https://www.apartments.com/phoenix-az-85008/400-to-1000',
        'https://www.apartments.com/north-little-rock-ar-72118/400-to-1000',
        'https://www.apartments.com/san-antonio-tx-78245/560-to-1198',
        'https://www.apartments.com/rio-rancho-nm-87144/400-to-1000',
        'https://www.apartments.com/springfield-mo-65802/320-to-838',
        'https://www.apartments.com/harrodsburg-ky-40330/320-to-838',
        'https://www.apartments.com/joplin-mo-64804/400-to-1000',
        'https://www.apartments.com/denver-co-80233/400-to-1000',
        'https://www.apartments.com/laveen-az-85339/560-to-1198',
        'https://www.apartments.com/green-bay-wi-54302/320-to-838',
        'https://www.apartments.com/aurora-co-80010/400-to-1000',
        'https://www.apartments.com/oroville-ca-95966/560-to-1198',
        'https://www.apartments.com/winter-haven-fl-33881/400-to-1000',
        'https://www.apartments.com/roanoke-rapids-nc-27870/560-to-1198',
        'https://www.apartments.com/marion-il-62959/320-to-838',
        'https://www.apartments.com/jamestown-ny-14701/319-to-478',
        'https://www.apartments.com/bakersfield-ca-93309/400-to-1000',
        'https://www.apartments.com/nan-nan-717/400-to-1000',
        'https://www.apartments.com/knoxville-tn-37917/400-to-1000',
        'https://www.apartments.com/las-vegas-nv-89117/1000-to-1200',
        'https://www.apartments.com/upper-marlboro-md-20774/400-to-1000',
        'https://www.apartments.com/austell-ga-30106/560-to-1198',
        'https://www.apartments.com/savannah-ga-31405/560-to-1198',
        'https://www.apartments.com/lewistown-pa-17044/400-to-1000',
        'https://www.apartments.com/detroit-mi-48227/400-to-1000',
        'https://www.apartments.com/muskegon-mi-49444/320-to-838',
        'https://www.apartments.com/clinton-township-mi-48036/560-to-1198',
        'https://www.apartments.com/providence-ri-2907/400-to-1000',
        'https://www.apartments.com/dowagiac-mi-49047/400-to-1000',
        'https://www.apartments.com/saint-paul-mn-55128/320-to-838',
        'https://www.apartments.com/roseburg-or-97470/320-to-838',
        'https://www.apartments.com/council-bluffs-ia-51503/319-to-478',
        'https://www.apartments.com/albuquerque-nm-87110/400-to-1000',
        'https://www.apartments.com/fort-myers-fl-33916/400-to-1000',
        'https://www.apartments.com/columbus-oh-43213/400-to-1000',
        'https://www.apartments.com/jacksonville-fl-32205/400-to-1000',
        'https://www.apartments.com/chattanooga-tn-37411/400-to-1000',
        'https://www.apartments.com/orange-park-fl-32065/320-to-838',
        'https://www.apartments.com/goldsboro-nc-27534/320-to-838',
        'https://www.apartments.com/hemet-ca-92544/400-to-1000',
        'https://www.apartments.com/owings-mills-md-21117/560-to-1198',
        'https://www.apartments.com/nan-nan-11986/400-to-1000',
        'https://www.apartments.com/baltimore-md-21217/400-to-1000',
        'https://www.apartments.com/north-las-vegas-nv-89031/320-to-838',
        'https://www.apartments.com/nan-nan-92552/400-to-1000',
        'https://www.apartments.com/plainview-tx-79072/319-to-478',
        'https://www.apartments.com/colorado-springs-co-80907/400-to-1000',
        'https://www.apartments.com/chino-ca-91708/560-to-1198',
        'https://www.apartments.com/little-rock-ar-72204/319-to-478',
        'https://www.apartments.com/clayton-nc-27520/320-to-838',
        'https://www.apartments.com/davenport-ia-52804/400-to-1000',
        'https://www.apartments.com/bennettsville-sc-29512/400-to-1000',
        'https://www.apartments.com/austell-ga-30168/320-to-838',
        'https://www.apartments.com/kelseyville-ca-95451/560-to-1198',
        'https://www.apartments.com/tucson-az-85716/400-to-1000',
        'https://www.apartments.com/albuquerque-nm-87102/400-to-1000',
        'https://www.apartments.com/pevely-mo-63070/400-to-1000',
        'https://www.apartments.com/nan-nan-83570/320-to-838',
        'https://www.apartments.com/augusta-ga-30901/400-to-1000',
        'https://www.apartments.com/palmdale-ca-93550/400-to-1000',
        'https://www.apartments.com/morrow-ga-30260/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30331/400-to-1000',
        'https://www.apartments.com/emeryville-ca-94608/400-to-1000',
        'https://www.apartments.com/pittsburgh-pa-15204/400-to-1000',
        'https://www.apartments.com/santa-ana-ca-92707/400-to-1000',
        'https://www.apartments.com/salem-or-97305/560-to-1198',
        'https://www.apartments.com/roxboro-nc-27573/400-to-1000',
        'https://www.apartments.com/ozone-park-ny-11417/400-to-1000',
        'https://www.apartments.com/milwaukee-wi-53210/400-to-1000',
        'https://www.apartments.com/deland-fl-32720/320-to-838',
        'https://www.apartments.com/newport-ri-2840/320-to-838',
        'https://www.apartments.com/brandon-fl-33511/400-to-1000',
        'https://www.apartments.com/saint-louis-mo-63115/400-to-1000',
        'https://www.apartments.com/killeen-tx-76542/400-to-1000',
        'https://www.apartments.com/indian-orchard-ma-1151/320-to-838',
        'https://www.apartments.com/tracy-ca-95376/320-to-838',
        'https://www.apartments.com/atlanta-ga-30311/400-to-1000',
        'https://www.apartments.com/san-jose-ca-95117/1000-to-1200',
        'https://www.apartments.com/westborough-ma-1581/319-to-478',
        'https://www.apartments.com/marietta-ga-30060/400-to-1000',
        'https://www.apartments.com/grove-city-oh-43123/400-to-1000',
        'https://www.apartments.com/fountain-co-80817/400-to-1000',
        'https://www.apartments.com/dalton-ga-30721/400-to-1000',
        'https://www.apartments.com/durham-nc-27704/400-to-1000',
        'https://www.apartments.com/las-vegas-nv-89122/400-to-1000',
        'https://www.apartments.com/bakersfield-ca-93305/320-to-838',
        'https://www.apartments.com/columbia-mo-65202/400-to-1000',
        'https://www.apartments.com/las-vegas-nv-89121/319-to-478',
        'https://www.apartments.com/orland-ca-95963/560-to-1198',
        'https://www.apartments.com/nan-nan-83606/400-to-1000',
        'https://www.apartments.com/houston-tx-77060/400-to-1000',
        'https://www.apartments.com/bryan-tx-77803/320-to-838',
        'https://www.apartments.com/milwaukee-wi-53214/400-to-1000',
        'https://www.apartments.com/san-pablo-ca-94806/400-to-1000',
        'https://www.apartments.com/decatur-al-35601/319-to-478',
        'https://www.apartments.com/newark-nj-7108/400-to-1000',
        'https://www.apartments.com/chula-vista-ca-91910/400-to-1000',
        'https://www.apartments.com/passaic-nj-7055/400-to-1000',
        'https://www.apartments.com/east-chicago-in-46312/400-to-1000',
        'https://www.apartments.com/wabash-in-46992/320-to-838',
        'https://www.apartments.com/greensboro-nc-27406/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46218/400-to-1000',
        'https://www.apartments.com/lynchburg-va-24501/400-to-1000',
        'https://www.apartments.com/fresno-ca-93725/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46222/400-to-1000',
        'https://www.apartments.com/allen-park-mi-48101/1000-to-1200',
        'https://www.apartments.com/lithonia-ga-30058/400-to-1000',
        'https://www.apartments.com/long-beach-ca-90808/319-to-478',
        'https://www.apartments.com/elkhart-in-46517/560-to-1198',
        'https://www.apartments.com/heppner-or-97836/400-to-1000',
        'https://www.apartments.com/racine-wi-53405/400-to-1000',
        'https://www.apartments.com/bethany-ok-73008/400-to-1000'

        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
