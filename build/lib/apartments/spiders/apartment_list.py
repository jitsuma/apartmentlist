import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/biloxi-ms-39532/500-to-1500',
        'https://www.apartments.com/bradenton-fl-34208/500-to-1500',
        'https://www.apartments.com/jacksonville-fl-32209/500-to-1500',
        'https://www.apartments.com/reading-pa-19608/500-to-1500',
        'https://www.apartments.com/phoenix-az-85009/500-to-1500',
        'https://www.apartments.com/eastaboga-al-36260/500-to-1500',
        'https://www.apartments.com/shelbyville-tn-37160/500-to-1500',
        'https://www.apartments.com/mount-orab-oh-45154/500-to-1500',
        'https://www.apartments.com/rochester-ny-14611/500-to-1500',
        'https://www.apartments.com/jacksonville-fl-32218/500-to-1500',
        'https://www.apartments.com/hyattsville-md-20785/500-to-1500',
        'https://www.apartments.com/hallandale-fl-33009/500-to-1500',
        'https://www.apartments.com/brooklyn-ny-11236/500-to-1500',
        'https://www.apartments.com/reno-nv-89506/500-to-1500',
        'https://www.apartments.com/wyoming-mi-49519/500-to-1500',
        'https://www.apartments.com/pocatello-id-83201/500-to-1500',
        'https://www.apartments.com/new-castle-de-19720/500-to-1500',
        'https://www.apartments.com/atlanta-ga-30329/500-to-1500',
        'https://www.apartments.com/woodstock-va-22664/500-to-1500',
        'https://www.apartments.com/mc-kees-rocks-pa-15136/500-to-1500',
        'https://www.apartments.com/houston-tx-77078/500-to-1500',
        'https://www.apartments.com/hot-springs-national-park-ar-71913/500-to-1500',
        'https://www.apartments.com/mogadore-oh-44260/500-to-1500',
        'https://www.apartments.com/stoughton-ma-02072/500-to-1500',
        'https://www.apartments.com/rockwood-tn-37854/500-to-1500',
        'https://www.apartments.com/gulfport-ms-39503/500-to-1500',
        'https://www.apartments.com/perry-fl-32348/500-to-1500',
        'https://www.apartments.com/saint-joseph-mo-64506/500-to-1500',
        'https://www.apartments.com/brooksville-fl-34601/500-to-1500',
        'https://www.apartments.com/salt-lake-city-ut-84107/500-to-1500',
        'https://www.apartments.com/augusta-ga-30909/500-to-1500',
        'https://www.apartments.com/pearl-ms-39208/500-to-1500',
        'https://www.apartments.com/spartanburg-sc-29307/500-to-1500',
        'https://www.apartments.com/manchester-ct-06042/500-to-1500',
        'https://www.apartments.com/lithonia-ga-30058/500-to-1500',
        'https://www.apartments.com/bristow-ok-74010/500-to-1500',
        'https://www.apartments.com/norfolk-va-23505/500-to-1500',
        'https://www.apartments.com/winston-salem-nc-27127/500-to-1500',
        'https://www.apartments.com/port-clinton-oh-43452/500-to-1500',
        'https://www.apartments.com/lancaster-pa-17601/500-to-1500',
        'https://www.apartments.com/paris-tn-38242/500-to-1500',
        'https://www.apartments.com/fort-wayne-in-46802/500-to-1500',
        'https://www.apartments.com/lutz-fl-33559/500-to-1500',
        'https://www.apartments.com/pleasant-garden-nc-27313/500-to-1500',
        'https://www.apartments.com/hialeah-fl-33010/500-to-1500',
        'https://www.apartments.com/bremen-ga-30110/500-to-1500',
        'https://www.apartments.com/victorville-ca-92394/500-to-1500',
        'https://www.apartments.com/lexington-ky-40509/500-to-1500',
        'https://www.apartments.com/las-vegas-nv-89108/500-to-1500',
        'https://www.apartments.com/atlanta-tx-75551/500-to-1500',
        'https://www.apartments.com/norman-ok-73069/500-to-1500',
        'https://www.apartments.com/new-caney-tx-77357/500-to-1500',
        'https://www.apartments.com/raleigh-nc-27609/500-to-1500',
        'https://www.apartments.com/philadelphia-pa-19141/500-to-1500',
        'https://www.apartments.com/hempstead-ny-11550/500-to-1500',
        'https://www.apartments.com/pell-city-al-35128/500-to-1500',
        'https://www.apartments.com/warsaw-in-46580/500-to-1500',
        'https://www.apartments.com/oklahoma-city-ok-73109/500-to-1500',
        'https://www.apartments.com/waverly-tn-37185/500-to-1500',
        'https://www.apartments.com/washington-mo-63090/500-to-1500',
        'https://www.apartments.com/reynoldsburg-oh-43068/500-to-1500',
        'https://www.apartments.com/memphis-tn-38118/500-to-1500',
        'https://www.apartments.com/perry-ia-50220/500-to-1500',
        'https://www.apartments.com/virginia-beach-va-23462/500-to-1500',
        'https://www.apartments.com/el-paso-tx-79912/500-to-1500',
        'https://www.apartments.com/lagrange-ga-30240/500-to-1500',
        'https://www.apartments.com/broadway-nc-27505/500-to-1500',
        'https://www.apartments.com/bullhead-city-az-86442/500-to-1500',
        'https://www.apartments.com/elizabeth-nj-07201/500-to-1500',
        'https://www.apartments.com/tualatin-or-97062/500-to-1500',
        'https://www.apartments.com/chicago-il-60643/500-to-1500',
        'https://www.apartments.com/sunnyvale-ca-94086/500-to-1500',
        'https://www.apartments.com/mcdonough-ga-30253/500-to-1500',
        'https://www.apartments.com/cleveland-tn-37311/500-to-1500',
        'https://www.apartments.com/raleigh-nc-27610/500-to-1500',
        'https://www.apartments.com/rienzi-ms-38865/500-to-1500',
        'https://www.apartments.com/charlotte-nc-28269/500-to-1500',
        'https://www.apartments.com/phoenix-az-85017/500-to-1500',
        'https://www.apartments.com/henderson-nv-89052/500-to-1500',
        'https://www.apartments.com/desert-hot-springs-ca-92240/500-to-1500',
        'https://www.apartments.com/kansas-city-mo-64131/500-to-1500',
        'https://www.apartments.com/aiken-sc-29801/500-to-1500',
        'https://www.apartments.com/brandon-fl-33511/500-to-1500',
        'https://www.apartments.com/northridge-ca-91324/500-to-1500',
        'https://www.apartments.com/knoxville-tn-37920/500-to-1500',
        'https://www.apartments.com/clinton-township-mi-48036/500-to-1500',
        'https://www.apartments.com/holly-ridge-nc-28445/500-to-1500',
        'https://www.apartments.com/benton-ar-72015/500-to-1500',
        'https://www.apartments.com/camden-nj-08104/500-to-1500',
        'https://www.apartments.com/ocean-city-md-21842/500-to-1500',
        'https://www.apartments.com/oklahoma-city-ok-73129/500-to-1500',
        'https://www.apartments.com/reidsville-nc-27320/500-to-1500',
        'https://www.apartments.com/philadelphia-pa-19140/500-to-1500',
        'https://www.apartments.com/canton-oh-44714/500-to-1500',
        'https://www.apartments.com/killeen-tx-76541/500-to-1500',
        'https://www.apartments.com/philadelphia-pa-19124/500-to-1500',
        'https://www.apartments.com/scranton-pa-18504/500-to-1500',
        'https://www.apartments.com/murfreesboro-tn-37129/500-to-1500',
        'https://www.apartments.com/fort-lauderdale-fl-33311/500-to-1500',
        'https://www.apartments.com/los-lunas-nm-87031/500-to-1500',
        'https://www.apartments.com/pensacola-fl-32504/500-to-1500',
        'https://www.apartments.com/enfield-ct-06082/500-to-1500',
        'https://www.apartments.com/grove-city-oh-43123/500-to-1500',
        'https://www.apartments.com/nan-nan-eager/500-to-1500',
        'https://www.apartments.com/panama-city-fl-32404/500-to-1500',
        'https://www.apartments.com/lubbock-tx-79415/500-to-1500',
        'https://www.apartments.com/lockport-ny-14094/500-to-1500',
        'https://www.apartments.com/bonney-lake-wa-98391/500-to-1500',
        'https://www.apartments.com/jackson-mi-49203/500-to-1500',
        'https://www.apartments.com/concord-nc-28025/500-to-1500',
        'https://www.apartments.com/green-bay-wi-54302/500-to-1500',
        'https://www.apartments.com/memphis-tn-38116/500-to-1500',
        'https://www.apartments.com/west-palm-beach-fl-33404/500-to-1500',
        'https://www.apartments.com/oklahoma-city-ok-73112/500-to-1500',
        'https://www.apartments.com/hempstead-tx-77445/500-to-1500',
        'https://www.apartments.com/asheville-nc-28806/500-to-1500',
        'https://www.apartments.com/apple-valley-ca-92308/500-to-1500',
        'https://www.apartments.com/ruskin-fl-33570/500-to-1500',
        'https://www.apartments.com/gastonia-nc-28054/500-to-1500',
        'https://www.apartments.com/columbus-oh-43207/500-to-1500',
        'https://www.apartments.com/akron-oh-44320/500-to-1500',
        'https://www.apartments.com/pulaski-tn-38478/500-to-1500',
        'https://www.apartments.com/lowell-ma-01851/500-to-1500',
        'https://www.apartments.com/cleveland-oh-44111/500-to-1500',
        'https://www.apartments.com/conneautville-pa-16406/500-to-1500',
        'https://www.apartments.com/little-rock-ar-72204/500-to-1500',
        'https://www.apartments.com/milwaukee-wi-53204/500-to-1500',
        'https://www.apartments.com/flint-mi-48507/500-to-1500',
        'https://www.apartments.com/saint-petersburg-fl-33703/500-to-1500',
        'https://www.apartments.com/nan-nan-77301/500-to-1500',
        'https://www.apartments.com/tucson-az-85712/500-to-1500',
        'https://www.apartments.com/springfield-il-62702/500-to-1500',
        'https://www.apartments.com/elizabeth-city-nc-27909/500-to-1500',
        'https://www.apartments.com/marion-sc-29571/500-to-1500',
        'https://www.apartments.com/portland-or-97230/500-to-1500',
        'https://www.apartments.com/nan-nan-810/500-to-1500',
        'https://www.apartments.com/winston-salem-nc-27107/500-to-1500',
        'https://www.apartments.com/miami-fl-33147/500-to-1500',
        'https://www.apartments.com/indianapolis-in-46201/500-to-1500',
        'https://www.apartments.com/detroit-mi-48202/500-to-1500',
        'https://www.apartments.com/baton-rouge-la-70812/500-to-1500',
        'https://www.apartments.com/poquoson-va-23662/500-to-1500',
        'https://www.apartments.com/hobbs-nm-88240/500-to-1500',
        'https://www.apartments.com/jacksonville-beach-fl-32250/500-to-1500',
        'https://www.apartments.com/bridgeport-ct-06610/500-to-1500',
        'https://www.apartments.com/philadelphia-tn-37846/500-to-1500',
        'https://www.apartments.com/watertown-tn-37184/500-to-1500',
        'https://www.apartments.com/orlando-fl-32839/500-to-1500',
        'https://www.apartments.com/fort-smith-ar-72903/500-to-1500',
        'https://www.apartments.com/montebello-ca-90640/500-to-1500',
        'https://www.apartments.com/bozeman-mt-59718/500-to-1500',
        'https://www.apartments.com/loganville-ga-30052/500-to-1500',
        'https://www.apartments.com/birmingham-al-35221/500-to-1500',
        'https://www.apartments.com/detroit-mi-48213/500-to-1500',
        'https://www.apartments.com/fairfield-ct-06824/500-to-1500',
        'https://www.apartments.com/cincinnati-oh-45239/500-to-1500',
        'https://www.apartments.com/roanoke-va-24018/500-to-1500',
        'https://www.apartments.com/san-bernardino-ca-92407/500-to-1500',
        'https://www.apartments.com/phoenix-az-85043/500-to-1500',
        'https://www.apartments.com/tobaccoville-nc-27050/500-to-1500',
        'https://www.apartments.com/massillon-oh-44647/500-to-1500',
        'https://www.apartments.com/idaho-falls-id-83404/500-to-1500',
        'https://www.apartments.com/concord-ga-30206/500-to-1500',
        'https://www.apartments.com/spring-city-pa-19475/500-to-1500',
        'https://www.apartments.com/lancaster-pa-17603/500-to-1500',
        'https://www.apartments.com/mebane-nc-27302/500-to-1500',
        'https://www.apartments.com/north-chicago-il-60064/500-to-1500',
        'https://www.apartments.com/middletown-oh-45042/500-to-1500',
        'https://www.apartments.com/grand-haven-mi-49417/500-to-1500',
        'https://www.apartments.com/detroit-mi-48227/500-to-1500',
        'https://www.apartments.com/milwaukee-wi-53206/500-to-1500',
        'https://www.apartments.com/taylor-tx-76574/500-to-1500',
        'https://www.apartments.com/meriden-ct-06451/500-to-1500',
        'https://www.apartments.com/tulsa-ok-74112/500-to-1500',
        'https://www.apartments.com/brighton-co-80601/500-to-1500',
        'https://www.apartments.com/jonesboro-ga-30238/500-to-1500',
        'https://www.apartments.com/miami-fl-33145/500-to-1500',
        'https://www.apartments.com/bronx-ny-10469/500-to-1500',
        'https://www.apartments.com/rancho-cordova-ca-95670/500-to-1500',
        'https://www.apartments.com/palmetto-fl-34221/500-to-1500',
        'https://www.apartments.com/richmond-va-23223/500-to-1500',
        'https://www.apartments.com/jacksonville-fl-32208/500-to-1500',
        'https://www.apartments.com/lake-charles-la-70605/500-to-1500',
        'https://www.apartments.com/jonesboro-ga-30236/500-to-1500',
        'https://www.apartments.com/troy-tn-38260/500-to-1500',
        'https://www.apartments.com/carlisle-pa-17013/500-to-1500',
        'https://www.apartments.com/pasco-wa-99301/500-to-1500',
        'https://www.apartments.com/springfield-mo-65803/500-to-1500',
        'https://www.apartments.com/sacramento-ca-95842/500-to-1500',
        'https://www.apartments.com/odon-in-47562/500-to-1500',
        'https://www.apartments.com/lafayette-la-70501/500-to-1500',
        'https://www.apartments.com/columbia-sc-29229/500-to-1500',
        'https://www.apartments.com/gulfport-ms-39501/500-to-1500',
        'https://www.apartments.com/arlington-tx-76017/500-to-1500',
        'https://www.apartments.com/salisbury-nc-28144/500-to-1500',
        'https://www.apartments.com/detroit-mi-48205/500-to-1500',
        'https://www.apartments.com/smiths-station-al-36877/500-to-1500',
        'https://www.apartments.com/layton-ut-84041/500-to-1500',
        'https://www.apartments.com/detroit-mi-48219/500-to-1500',
        'https://www.apartments.com/atlanta-ga-30344/500-to-1500',
        'https://www.apartments.com/conyers-ga-30012/500-to-1500',
        'https://www.apartments.com/piqua-oh-45356/500-to-1500',
        'https://www.apartments.com/mabank-tx-75147/500-to-1500',
        'https://www.apartments.com/defuniak-springs-fl-32433/500-to-1500',
        'https://www.apartments.com/apache-junction-az-85119/500-to-1500',
        'https://www.apartments.com/wichita-falls-tx-76309/500-to-1500',
        'https://www.apartments.com/toledo-oh-43612/500-to-1500',
        'https://www.apartments.com/edenton-nc-27932/500-to-1500',
        'https://www.apartments.com/fitzgerald-ga-31750/500-to-1500',
        'https://www.apartments.com/detroit-mi-48221/500-to-1500',
        'https://www.apartments.com/tampa-fl-33647/500-to-1500',
        'https://www.apartments.com/hamilton-oh-45013/500-to-1500',
        'https://www.apartments.com/dallas-tx-75227/500-to-1500',
        'https://www.apartments.com/metairie-la-70003/500-to-1500',
        'https://www.apartments.com/denver-co-80239/500-to-1500',
        'https://www.apartments.com/oxford-ga-30054/500-to-1500',
        'https://www.apartments.com/oakley-ca-94561/500-to-1500',
        'https://www.apartments.com/manor-tx-78653/500-to-1500',
        'https://www.apartments.com/albuquerque-nm-87107/500-to-1500',
        'https://www.apartments.com/bessemer-al-35020/500-to-1500',
        'https://www.apartments.com/eustis-fl-32736/500-to-1500',
        'https://www.apartments.com/baltimore-md-21213/500-to-1500',
        'https://www.apartments.com/valparaiso-in-46385/500-to-1500',
        'https://www.apartments.com/portsmouth-va-23703/500-to-1500',
        'https://www.apartments.com/columbia-tn-38401/500-to-1500',
        'https://www.apartments.com/philadelphia-pa-19147/500-to-1500',
        'https://www.apartments.com/savannah-ga-31406/500-to-1500',
        'https://www.apartments.com/issaquah-wa-98029/500-to-1500',
        'https://www.apartments.com/las-vegas-nv-89156/500-to-1500',
        'https://www.apartments.com/saint-louis-mo-63147/500-to-1500',
        'https://www.apartments.com/erie-pa-16507/500-to-1500',
        'https://www.apartments.com/peoria-az-85345/500-to-1500',
        'https://www.apartments.com/sacramento-ca-95820/500-to-1500',
        'https://www.apartments.com/green-bay-wi-54304/500-to-1500',
        'https://www.apartments.com/south-bend-in-46617/500-to-1500',
        'https://www.apartments.com/monroe-nc-28110/500-to-1500',
        'https://www.apartments.com/cheyenne-wy-82007/500-to-1500',
        'https://www.apartments.com/columbia-mo-65203/500-to-1500',
        'https://www.apartments.com/salt-lake-city-ut-84119/500-to-1500',
        'https://www.apartments.com/warren-mi-48091/500-to-1500',
        'https://www.apartments.com/fairview-tn-37062/500-to-1500',
        'https://www.apartments.com/fort-myers-fl-33966/500-to-1500',
        'https://www.apartments.com/phoenix-az-85040/500-to-1500',
        'https://www.apartments.com/covington-ky-41011/500-to-1500',
        'https://www.apartments.com/southfield-mi-48033/500-to-1500',
        'https://www.apartments.com/riverside-ca-92503/500-to-1500',
        'https://www.apartments.com/fayetteville-tn-37334/500-to-1500',
        'https://www.apartments.com/high-point-nc-27263/500-to-1500',
        'https://www.apartments.com/effort-pa-18330/500-to-1500',
        'https://www.apartments.com/nan-nan-95419/500-to-1500',
        'https://www.apartments.com/orlando-fl-32805/500-to-1500',
        'https://www.apartments.com/stamford-ct-06902/500-to-1500',
        'https://www.apartments.com/las-vegas-nv-89139/500-to-1500',
        'https://www.apartments.com/anniston-al-36201/500-to-1500',
        'https://www.apartments.com/lexington-va-24450/500-to-1500',
        'https://www.apartments.com/stockton-ca-95215/500-to-1500',
        'https://www.apartments.com/lula-ga-30554/500-to-1500',
        'https://www.apartments.com/bridgeport-ne-69336/500-to-1500',
        'https://www.apartments.com/turlock-ca-95382/500-to-1500',
        'https://www.apartments.com/san-bernardino-ca-92411/500-to-1500',
        'https://www.apartments.com/opelika-al-36801/500-to-1500',
        'https://www.apartments.com/stockton-ca-95203/500-to-1500',
        'https://www.apartments.com/mobile-al-36609/500-to-1500',
        'https://www.apartments.com/dallas-or-97338/500-to-1500',
        'https://www.apartments.com/jeannette-pa-15644/500-to-1500',
        'https://www.apartments.com/wilmington-nc-28405/500-to-1500',
        'https://www.apartments.com/cleveland-oh-44120/500-to-1500',
        'https://www.apartments.com/mishawaka-in-46544/500-to-1500',
        'https://www.apartments.com/temecula-ca-92591/500-to-1500'



        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
