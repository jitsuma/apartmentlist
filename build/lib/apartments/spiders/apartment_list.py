import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/lorain-oh-44052/319-to-478',
        'https://www.apartments.com/port-huron-mi-0/400-to-1000',
        'https://www.apartments.com/fort-myers-fl-33905/320-to-838',
        'https://www.apartments.com/morganton-nc-28655/320-to-838',
        'https://www.apartments.com/woodruff-sc-29388/319-to-478',
        'https://www.apartments.com/sylvania-ga-30467/320-to-838',
        'https://www.apartments.com/statesville-nc-28625/560-to-1198',
        'https://www.apartments.com/birmingham-al-35211/320-to-838',
        'https://www.apartments.com/holgate-oh-43527/560-to-1198',
        'https://www.apartments.com/norfolk-va-23504/320-to-838',
        'https://www.apartments.com/duluth-ga-30096/320-to-838',
        'https://www.apartments.com/brooklyn-ny-11203/560-to-1198',
        'https://www.apartments.com/drexel-hill-pa-19026/320-to-838',
        'https://www.apartments.com/highlandville-mo-65669/320-to-838',
        'https://www.apartments.com/tulsa-ok-74104/560-to-1198',
        'https://www.apartments.com/altamonte-springs-fl-32701/1000-to-1200',
        'https://www.apartments.com/asbury-park-nj-7712/320-to-838',
        'https://www.apartments.com/memphis-tn-38116/319-to-478',
        'https://www.apartments.com/saint-louis-mo-63129/560-to-1198',
        'https://www.apartments.com/westland-mi-48186/319-to-478',
        'https://www.apartments.com/kissimmee-fl-34741/560-to-1198',
        'https://www.apartments.com/nan-nan-28062/320-to-838',
        'https://www.apartments.com/sunfield-mi-48890/320-to-838',
        'https://www.apartments.com/taylor-mi-48180/320-to-838',
        'https://www.apartments.com/fort-lauderdale-fl-33324/319-to-478',
        'https://www.apartments.com/temple-tx-76502/560-to-1198',
        'https://www.apartments.com/akron-oh-44305/320-to-838',
        'https://www.apartments.com/north-vernon-in-47265/319-to-478',
        'https://www.apartments.com/laurel-md-20724/560-to-1198',
        'https://www.apartments.com/tacoma-wa-98404/560-to-1198',
        'https://www.apartments.com/poughkeepsie-ny-12603/560-to-1198',
        'https://www.apartments.com/kansas-city-mo-64119/320-to-838',
        'https://www.apartments.com/elizabethtown-ky-42701/320-to-838',
        'https://www.apartments.com/jacksonville-fl-32210/320-to-838',
        'https://www.apartments.com/lakeland-fl-33815/560-to-1198',
        'https://www.apartments.com/tacoma-wa-98444/320-to-838',
        'https://www.apartments.com/muskegon-mi-49441/320-to-838',
        'https://www.apartments.com/amityville-ny-11701/320-to-838',
        'https://www.apartments.com/dallas-tx-75228/560-to-1198',
        'https://www.apartments.com/cross-hill-sc-29332/319-to-478',
        'https://www.apartments.com/nan-nan-37901/320-to-838',
        'https://www.apartments.com/spindale-nc-28160/319-to-478',
        'https://www.apartments.com/port-huron-mi-48060/320-to-838',
        'https://www.apartments.com/milford-oh-45150/320-to-838',
        'https://www.apartments.com/fort-myers-fl-33916/1000-to-1200',
        'https://www.apartments.com/roanoke-va-24017/320-to-838',
        'https://www.apartments.com/calhoun-ga-30701/560-to-1198',
        'https://www.apartments.com/washington-dc-20018/560-to-1198',
        'https://www.apartments.com/sevierville-tn-37876/320-to-838',
        'https://www.apartments.com/lexington-nc-27292/319-to-478',
        'https://www.apartments.com/kennewick-wa-99336/560-to-1198',
        'https://www.apartments.com/walton-ky-41094/320-to-838',
        'https://www.apartments.com/piedmont-sc-29673/560-to-1198',
        'https://www.apartments.com/homestead-fl-33033/320-to-838',
        'https://www.apartments.com/shelbyville-tn-37160/319-to-478',
        'https://www.apartments.com/hamburg-ny-14075/1000-to-1200',
        'https://www.apartments.com/orlando-fl-32811/320-to-838',
        'https://www.apartments.com/burlington-nc-27217/320-to-838',
        'https://www.apartments.com/pitcairn-pa-15140/320-to-838',
        'https://www.apartments.com/atlanta-ga-30314/320-to-838',
        'https://www.apartments.com/new-orleans-la-70121/320-to-838',
        'https://www.apartments.com/sarasota-fl-34239/320-to-838',
        'https://www.apartments.com/crystal-river-fl-34429/319-to-478',
        'https://www.apartments.com/espanola-nm-87532/319-to-478',
        'https://www.apartments.com/indianapolis-in-46201/320-to-838',
        'https://www.apartments.com/hickory-nc-28602/1000-to-1200',
        'https://www.apartments.com/pigeon-forge-tn-37863/320-to-838',
        'https://www.apartments.com/kingman-az-86409/320-to-838',
        'https://www.apartments.com/alma-ar-72921/320-to-838',
        'https://www.apartments.com/zanesville-oh-43701/320-to-838',
        'https://www.apartments.com/alamogordo-nm-88310/320-to-838',
        'https://www.apartments.com/siler-city-nc-27344/320-to-838',
        'https://www.apartments.com/gloversville-ny-12078/319-to-478',
        'https://www.apartments.com/meridian-ms-39307/320-to-838',
        'https://www.apartments.com/akron-oh-44310/320-to-838',
        'https://www.apartments.com/boynton-beach-fl-33435/319-to-478',
        'https://www.apartments.com/new-port-richey-fl-34652/319-to-478',
        'https://www.apartments.com/gastonia-nc-28054/320-to-838',
        'https://www.apartments.com/high-point-nc-27260/560-to-1198',
        'https://www.apartments.com/lawrenceburg-ky-40342/560-to-1198',
        'https://www.apartments.com/forrest-city-ar-72335/320-to-838',
        'https://www.apartments.com/san-antonio-tx-78207/319-to-478',
        'https://www.apartments.com/cortland-ny-13045/560-to-1198',
        'https://www.apartments.com/farmville-va-23901/320-to-838',
        'https://www.apartments.com/saint-albans-wv-25177/560-to-1198',
        'https://www.apartments.com/crystal-lake-il-60014/319-to-478',
        'https://www.apartments.com/saint-louis-mo-63137/560-to-1198',
        'https://www.apartments.com/wilmington-nc-28412/560-to-1198',
        'https://www.apartments.com/wichita-ks-67214/319-to-478',
        'https://www.apartments.com/omaha-ne-68127/320-to-838',
        'https://www.apartments.com/tampa-fl-33612/320-to-838',
        'https://www.apartments.com/lancaster-tx-75146/560-to-1198',
        'https://www.apartments.com/north-las-vegas-nv-89030/560-to-1198',
        'https://www.apartments.com/portsmouth-va-23704/319-to-478',
        'https://www.apartments.com/orlando-fl-32807/320-to-838',
        'https://www.apartments.com/biddeford-me-4005/560-to-1198',
        'https://www.apartments.com/casper-wy-82601/320-to-838',
        'https://www.apartments.com/akron-oh-44320/320-to-838',
        'https://www.apartments.com/high-point-nc-27262/320-to-838',
        'https://www.apartments.com/lagrange-ga-30241/320-to-838',
        'https://www.apartments.com/omaha-ne-68111/560-to-1198',
        'https://www.apartments.com/kokomo-in-46901/319-to-478',
        'https://www.apartments.com/san-antonio-tx-78239/560-to-1198',
        'https://www.apartments.com/houston-tx-77009/320-to-838',
        'https://www.apartments.com/horsham-pa-19044/320-to-838',
        'https://www.apartments.com/fort-lauderdale-fl-33311/560-to-1198',
        'https://www.apartments.com/sulphur-ok-73086/560-to-1198',
        'https://www.apartments.com/sylacauga-al-35150/320-to-838',
        'https://www.apartments.com/pine-bluff-ar-71601/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19138/320-to-838',
        'https://www.apartments.com/sacramento-ca-95825/560-to-1198',
        'https://www.apartments.com/statesville-nc-28677/319-to-478',
        'https://www.apartments.com/auburn-ny-13021/320-to-838',
        'https://www.apartments.com/bellefontaine-oh-43311/320-to-838',
        'https://www.apartments.com/pell-city-al-35125/320-to-838',
        'https://www.apartments.com/port-neches-tx-77651/320-to-838',
        'https://www.apartments.com/memphis-tn-38111/319-to-478',
        'https://www.apartments.com/springfield-il-62703/1000-to-1200',
        'https://www.apartments.com/norfolk-va-23502/1000-to-1200',
        'https://www.apartments.com/artesia-ca-90701/1000-to-1200',
        'https://www.apartments.com/lemoore-ca-93245/560-to-1198',
        'https://www.apartments.com/albuquerque-nm-87105/320-to-838',
        'https://www.apartments.com/parkville-md-21234/1000-to-1200',
        'https://www.apartments.com/milwaukee-wi-53208/320-to-838',
        'https://www.apartments.com/joliet-il-60432/560-to-1198',
        'https://www.apartments.com/greenwood-in-46143/560-to-1198',
        'https://www.apartments.com/chicago-il-60617/320-to-838',
        'https://www.apartments.com/kansas-city-ks-66106/1000-to-1200',
        'https://www.apartments.com/buffalo-ny-14212/560-to-1198',
        'https://www.apartments.com/milwaukee-wi-53224/1000-to-1200',
        'https://www.apartments.com/sun-city-ca-92586/1000-to-1200',
        'https://www.apartments.com/millville-nj-8332/320-to-838',
        'https://www.apartments.com/chatsworth-ca-91311/1000-to-1200',
        'https://www.apartments.com/missouri-city-tx-77489/320-to-838',
        'https://www.apartments.com/san-antonio-tx-78203/319-to-478',
        'https://www.apartments.com/agra-ok-74824/319-to-478',
        'https://www.apartments.com/savannah-ga-31404/319-to-478',
        'https://www.apartments.com/placerville-ca-95667/560-to-1198',
        'https://www.apartments.com/la-habra-ca-90631/1000-to-1200',
        'https://www.apartments.com/homestead-fl-33030/320-to-838',
        'https://www.apartments.com/amelia-oh-45102/320-to-838',
        'https://www.apartments.com/albuquerque-nm-87109/320-to-838',
        'https://www.apartments.com/ingram-tx-78025/320-to-838',
        'https://www.apartments.com/palmetto-ga-30268/320-to-838',
        'https://www.apartments.com/pittsburgh-pa-15210/560-to-1198',
        'https://www.apartments.com/spokane-wa-99207/560-to-1198',
        'https://www.apartments.com/reno-nv-89509/1000-to-1200',
        'https://www.apartments.com/los-angeles-ca-90044/320-to-838',
        'https://www.apartments.com/mcdonough-ga-30253/320-to-838',
        'https://www.apartments.com/union-city-tn-38261/319-to-478',
        'https://www.apartments.com/chapmansboro-tn-37035/560-to-1198',
        'https://www.apartments.com/hesperia-ca-92345/320-to-838',
        'https://www.apartments.com/blaine-wa-98230/1000-to-1200',
        'https://www.apartments.com/jacksonville-al-36265/319-to-478',
        'https://www.apartments.com/glendale-ca-91201/320-to-838',
        'https://www.apartments.com/memphis-tn-38128/560-to-1198',
        'https://www.apartments.com/san-pablo-ca-94806/320-to-838',
        'https://www.apartments.com/stone-mountain-ga-30088/560-to-1198',
        'https://www.apartments.com/galveston-tx-77551/320-to-838',
        'https://www.apartments.com/milwaukee-wi-53207/560-to-1198',
        'https://www.apartments.com/harlingen-tx-78550/320-to-838',
        'https://www.apartments.com/clarksville-tn-37042/320-to-838',
        'https://www.apartments.com/decatur-ga-30034/560-to-1198',
        'https://www.apartments.com/saint-petersburg-fl-33705/560-to-1198',
        'https://www.apartments.com/milford-mi-48381/1000-to-1200',
        'https://www.apartments.com/marietta-ga-30064/320-to-838',
        'https://www.apartments.com/darlington-sc-29532/320-to-838',
        'https://www.apartments.com/mobile-al-36611/320-to-838',
        'https://www.apartments.com/louisville-ky-40299/320-to-838',
        'https://www.apartments.com/enid-ok-73703/560-to-1198',
        'https://www.apartments.com/sallisaw-ok-74955/320-to-838',
        'https://www.apartments.com/wind-gap-pa-18091/320-to-838',
        'https://www.apartments.com/brooksville-fl-34601/320-to-838',
        'https://www.apartments.com/louisville-ky-40229/319-to-478',
        'https://www.apartments.com/marietta-sc-29661/320-to-838',
        'https://www.apartments.com/metamora-mi-48455/319-to-478',
        'https://www.apartments.com/chicago-il-60637/560-to-1198',
        'https://www.apartments.com/bruceton-mills-wv-26525/560-to-1198',
        'https://www.apartments.com/inglewood-ca-90305/320-to-838',
        'https://www.apartments.com/punxsutawney-pa-15767/320-to-838',
        'https://www.apartments.com/freeport-ny-11520/319-to-478',
        'https://www.apartments.com/memphis-tn-38115/560-to-1198',
        'https://www.apartments.com/rogers-ar-72756/320-to-838',
        'https://www.apartments.com/toledo-oh-43613/1000-to-1200',
        'https://www.apartments.com/richmond-tx-77469/320-to-838',
        'https://www.apartments.com/west-palm-beach-fl-33404/319-to-478',
        'https://www.apartments.com/wilmington-nc-28403/320-to-838',
        'https://www.apartments.com/corunna-mi-48817/320-to-838',
        'https://www.apartments.com/hamden-ct-6517/319-to-478',
        'https://www.apartments.com/beloit-wi-53511/320-to-838',
        'https://www.apartments.com/portland-or-97220/319-to-478',
        'https://www.apartments.com/miami-fl-33169/560-to-1198',
        'https://www.apartments.com/newport-news-va-23608/560-to-1198',
        'https://www.apartments.com/clio-mi-48420/560-to-1198',
        'https://www.apartments.com/tucson-az-85739/1000-to-1200',
        'https://www.apartments.com/indianapolis-in-46208/319-to-478',
        'https://www.apartments.com/covington-ga-30016/560-to-1198',
        'https://www.apartments.com/colton-ca-92324/560-to-1198',
        'https://www.apartments.com/albuquerque-nm-87107/320-to-838',
        'https://www.apartments.com/phoenix-az-85033/1000-to-1200',
        'https://www.apartments.com/san-antonio-tx-78247/1000-to-1200',
        'https://www.apartments.com/las-vegas-nv-89122/320-to-838',
        'https://www.apartments.com/greenwood-sc-29649/320-to-838',
        'https://www.apartments.com/cameron-mo-64429/320-to-838',
        'https://www.apartments.com/virginia-mn-55792/319-to-478',
        'https://www.apartments.com/bessemer-al-35020/320-to-838',
        'https://www.apartments.com/waukegan-il-60085/320-to-838',
        'https://www.apartments.com/abilene-tx-79605/1000-to-1200',
        'https://www.apartments.com/montgomery-al-36109/320-to-838',
        'https://www.apartments.com/long-beach-ca-90805/319-to-478',
        'https://www.apartments.com/canton-ga-30115/560-to-1198',
        'https://www.apartments.com/baton-rouge-la-70806/320-to-838',
        'https://www.apartments.com/hamilton-oh-45011/320-to-838',
        'https://www.apartments.com/scottsdale-az-85256/560-to-1198',
        'https://www.apartments.com/saint-louis-mo-63118/560-to-1198',
        'https://www.apartments.com/phoenix-az-85050/1000-to-1200',
        'https://www.apartments.com/pulaski-va-24301/320-to-838',
        'https://www.apartments.com/nan-nan-11442/319-to-478',
        'https://www.apartments.com/columbus-oh-43206/319-to-478',
        'https://www.apartments.com/wendell-nc-27591/320-to-838',
        'https://www.apartments.com/northridge-ca-91325/1000-to-1200',
        'https://www.apartments.com/killeen-tx-76549/320-to-838',
        'https://www.apartments.com/north-little-rock-ar-72116/319-to-478',
        'https://www.apartments.com/reno-nv-89506/1000-to-1200',
        'https://www.apartments.com/jonesboro-ar-72404/1000-to-1200',
        'https://www.apartments.com/north-berwick-me-3906/1000-to-1200',
        'https://www.apartments.com/ellensburg-wa-98926/320-to-838',
        'https://www.apartments.com/memphis-tn-38135/320-to-838',
        'https://www.apartments.com/chapin-sc-29036/320-to-838',
        'https://www.apartments.com/asheboro-nc-27205/320-to-838',
        'https://www.apartments.com/san-jose-ca-95112/320-to-838',
        'https://www.apartments.com/nan-nan-92711/320-to-838',
        'https://www.apartments.com/saint-louis-mo-63111/560-to-1198',
        'https://www.apartments.com/detroit-mi-48201/319-to-478',
        'https://www.apartments.com/orlando-fl-32825/319-to-478',
        'https://www.apartments.com/twin-falls-id-83301/319-to-478',
        'https://www.apartments.com/woodstown-nj-8098/320-to-838',
        'https://www.apartments.com/kansas-city-mo-64127/320-to-838',
        'https://www.apartments.com/ellenwood-ga-30294/1000-to-1200',
        'https://www.apartments.com/greenville-pa-16125/319-to-478',
        'https://www.apartments.com/lancaster-pa-17602/320-to-838',
        'https://www.apartments.com/monroe-nc-28110/320-to-838',
        'https://www.apartments.com/birmingham-al-35205/320-to-838',
        'https://www.apartments.com/dallas-tx-75209/560-to-1198',
        'https://www.apartments.com/rockford-il-61102/320-to-838',
        'https://www.apartments.com/waco-tx-76708/320-to-838',
        'https://www.apartments.com/lansdale-pa-19446/319-to-478',
        'https://www.apartments.com/san-antonio-tx-78201/319-to-478',
        'https://www.apartments.com/chicago-il-60619/560-to-1198',
        'https://www.apartments.com/cookeville-tn-38501/319-to-478',
        'https://www.apartments.com/titusville-fl-32796/320-to-838',
        'https://www.apartments.com/springdale-ar-72764/1000-to-1200',
        'https://www.apartments.com/hungry-horse-mt-59919/1000-to-1200',
        'https://www.apartments.com/fort-myers-fl-33901/320-to-838',
        'https://www.apartments.com/trenton-nj-8609/560-to-1198',
        'https://www.apartments.com/maricopa-az-85138/1000-to-1200',
        'https://www.apartments.com/palm-coast-fl-32164/560-to-1198',
        'https://www.apartments.com/keansburg-nj-7734/320-to-838',
        'https://www.apartments.com/las-vegas-nv-89102/320-to-838',
        'https://www.apartments.com/miami-fl-33173/560-to-1198',
        'https://www.apartments.com/rialto-ca-92376/320-to-838'

        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
