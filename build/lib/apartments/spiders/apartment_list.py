import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/hagerstown-md-21740/400-to-1000',
        'https://www.apartments.com/columbia-sc-29203/400-to-1000',
        'https://www.apartments.com/forest-city-nc-28043/400-to-1000',
        'https://www.apartments.com/pinellas-park-fl-33781/400-to-1000',
        'https://www.apartments.com/san-antonio-tx-0/400-to-1000',
        'https://www.apartments.com/south-bend-in-46601/400-to-1000',
        'https://www.apartments.com/spring-lake-nc-28390/1000-to-1200',
        'https://www.apartments.com/springfield-il-62704/320-to-838',
        'https://www.apartments.com/grover-nc-28073/320-to-838',
        'https://www.apartments.com/lebanon-pa-17042/400-to-1000',
        'https://www.apartments.com/charlotte-nc-28216/400-to-1000',
        'https://www.apartments.com/mcdonough-ga-30253/560-to-1198',
        'https://www.apartments.com/oceanside-ca-92054/400-to-1000',
        'https://www.apartments.com/decatur-ga-30032/560-to-1198',
        'https://www.apartments.com/lincoln-park-mi-48146/400-to-1000',
        'https://www.apartments.com/gurnee-il-60031/400-to-1000',
        'https://www.apartments.com/justin-tx-76247/400-to-1000',
        'https://www.apartments.com/milwaukee-wi-53214/400-to-1000',
        'https://www.apartments.com/milwaukee-wi-53223/400-to-1000',
        'https://www.apartments.com/richmond-va-23222/400-to-1000',
        'https://www.apartments.com/taylor-mi-48180/400-to-1000',
        'https://www.apartments.com/bryceville-fl-32009/400-to-1000',
        'https://www.apartments.com/bridgeville-de-19933/400-to-1000',
        'https://www.apartments.com/montgomery-al-36117/320-to-838',
        'https://www.apartments.com/statesville-nc-28625/320-to-838',
        'https://www.apartments.com/long-beach-ca-90813/400-to-1000',
        'https://www.apartments.com/easley-sc-29640/320-to-838',
        'https://www.apartments.com/glenolden-pa-19036/400-to-1000',
        'https://www.apartments.com/detroit-mi-48214/400-to-1000',
        'https://www.apartments.com/blue-springs-mo-64014/400-to-1000',
        'https://www.apartments.com/columbus-ga-31907/319-to-478',
        'https://www.apartments.com/tampa-fl-33612/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46203/400-to-1000',
        'https://www.apartments.com/nan-nan-42513/400-to-1000',
        'https://www.apartments.com/milwaukee-wi-53209/400-to-1000',
        'https://www.apartments.com/los-angeles-ca-90018/400-to-1000',
        'https://www.apartments.com/philadelphia-pa-19133/319-to-478',
        'https://www.apartments.com/huntsville-al-35810/319-to-478',
        'https://www.apartments.com/clarksville-tn-37043/319-to-478',
        'https://www.apartments.com/hartford-ct-6105/560-to-1198',
        'https://www.apartments.com/china-grove-nc-28023/320-to-838',
        'https://www.apartments.com/jacksonville-fl-32244/400-to-1000',
        'https://www.apartments.com/ellijay-ga-30540/319-to-478',
        'https://www.apartments.com/aberdeen-md-21001/400-to-1000',
        'https://www.apartments.com/rosedale-md-21237/320-to-838',
        'https://www.apartments.com/payson-az-85541/320-to-838',
        'https://www.apartments.com/shelbyville-ky-40065/1000-to-1200',
        'https://www.apartments.com/nan-nan-32050/560-to-1198',
        'https://www.apartments.com/belleville-il-62220/400-to-1000',
        'https://www.apartments.com/oklahoma-city-ok-73120/319-to-478',
        'https://www.apartments.com/cincinnati-oh-45205/400-to-1000',
        'https://www.apartments.com/de-soto-ia-50069/400-to-1000',
        'https://www.apartments.com/lincoln-ne-68503/320-to-838',
        'https://www.apartments.com/lubbock-tx-79412/1000-to-1200',
        'https://www.apartments.com/muskegon-mi-49442/400-to-1000',
        'https://www.apartments.com/yucca-valley-ca-92284/400-to-1000',
        'https://www.apartments.com/forest-park-ga-30297/400-to-1000',
        'https://www.apartments.com/crystal-river-fl-34429/320-to-838',
        'https://www.apartments.com/lincoln-ne-68502/400-to-1000',
        'https://www.apartments.com/commerce-tx-75428/400-to-1000',
        'https://www.apartments.com/jacksonville-fl-32208/400-to-1000',
        'https://www.apartments.com/akron-oh-44333/320-to-838',
        'https://www.apartments.com/hamilton-oh-45013/320-to-838',
        'https://www.apartments.com/atlanta-ga-30313/400-to-1000',
        'https://www.apartments.com/wilmette-il-60091/400-to-1000',
        'https://www.apartments.com/flint-mi-48532/319-to-478',
        'https://www.apartments.com/winchester-tn-37398/400-to-1000',
        'https://www.apartments.com/muskegon-mi-49440/400-to-1000',
        'https://www.apartments.com/saint-marys-oh-45885/400-to-1000',
        'https://www.apartments.com/lenoir-nc-28645/560-to-1198',
        'https://www.apartments.com/sanford-fl-32773/560-to-1198',
        'https://www.apartments.com/saint-louis-mo-63134/400-to-1000',
        'https://www.apartments.com/rock-hill-sc-29732/400-to-1000',
        'https://www.apartments.com/oklahoma-city-ok-73110/320-to-838',
        'https://www.apartments.com/modesto-ca-95350/560-to-1198',
        'https://www.apartments.com/charlotte-nc-28205/400-to-1000',
        'https://www.apartments.com/denver-co-80233/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30363/400-to-1000',
        'https://www.apartments.com/whiteville-nc-28472/400-to-1000',
        'https://www.apartments.com/abilene-tx-79601/400-to-1000',
        'https://www.apartments.com/cadillac-mi-49601/320-to-838',
        'https://www.apartments.com/denver-co-80229/400-to-1000',
        'https://www.apartments.com/gainesville-fl-32607/400-to-1000',
        'https://www.apartments.com/woonsocket-ri-2895/1000-to-1200',
        'https://www.apartments.com/miami-fl-33155/400-to-1000',
        'https://www.apartments.com/peekskill-ny-10566/320-to-838',
        'https://www.apartments.com/blue-island-il-60406/400-to-1000',
        'https://www.apartments.com/kingsland-ga-31548/319-to-478',
        'https://www.apartments.com/savannah-ga-31419/400-to-1000',
        'https://www.apartments.com/the-colony-tx-75056/319-to-478',
        'https://www.apartments.com/washington-dc-20019/320-to-838',
        'https://www.apartments.com/huntsville-al-35802/320-to-838',
        'https://www.apartments.com/southport-nc-28461/320-to-838',
        'https://www.apartments.com/gwynn-oak-md-21207/400-to-1000',
        'https://www.apartments.com/brookfield-il-60513/1000-to-1200',
        'https://www.apartments.com/jacksonville-fl-32210/560-to-1198',
        'https://www.apartments.com/gainesville-ga-30501/400-to-1000',
        'https://www.apartments.com/round-lake-il-60073/320-to-838',
        'https://www.apartments.com/covington-ky-41014/400-to-1000',
        'https://www.apartments.com/rochester-ny-14619/400-to-1000',
        'https://www.apartments.com/albuquerque-nm-87108/400-to-1000',
        'https://www.apartments.com/myrtle-beach-sc-29577/400-to-1000',
        'https://www.apartments.com/sedalia-mo-65301/320-to-838',
        'https://www.apartments.com/charlotte-nc-28206/400-to-1000',
        'https://www.apartments.com/willis-tx-77318/320-to-838',
        'https://www.apartments.com/novi-mi-48374/400-to-1000',
        'https://www.apartments.com/san-pablo-ca-94806/1000-to-1200',
        'https://www.apartments.com/tampa-fl-33607/320-to-838',
        'https://www.apartments.com/riverview-fl-33578/560-to-1198',
        'https://www.apartments.com/boyne-city-mi-49712/1000-to-1200',
        'https://www.apartments.com/los-angeles-ca-90020/400-to-1000',
        'https://www.apartments.com/warren-pa-16365/320-to-838',
        'https://www.apartments.com/houston-tx-77061/400-to-1000',
        'https://www.apartments.com/kalamazoo-mi-49009/320-to-838',
        'https://www.apartments.com/casper-wy-82601/400-to-1000',
        'https://www.apartments.com/urbana-oh-43078/320-to-838',
        'https://www.apartments.com/rome-ga-30161/400-to-1000',
        'https://www.apartments.com/fort-myers-fl-33913/320-to-838',
        'https://www.apartments.com/baytown-tx-77520/1000-to-1200',
        'https://www.apartments.com/gallatin-tn-37066/560-to-1198',
        'https://www.apartments.com/el-reno-ok-73036/560-to-1198',
        'https://www.apartments.com/kilgore-tx-75662/319-to-478',
        'https://www.apartments.com/bowie-md-20715/1000-to-1200',
        'https://www.apartments.com/montgomery-al-36116/320-to-838',
        'https://www.apartments.com/houston-tx-77067/320-to-838',
        'https://www.apartments.com/holiday-fl-34691/400-to-1000',
        'https://www.apartments.com/wilson-nc-27893/1000-to-1200',
        'https://www.apartments.com/stratford-nj-8084/560-to-1198',
        'https://www.apartments.com/coraopolis-pa-15108/400-to-1000',
        'https://www.apartments.com/danville-va-24540/320-to-838',
        'https://www.apartments.com/ocala-fl-34481/560-to-1198',
        'https://www.apartments.com/west-end-nc-27376/319-to-478',
        'https://www.apartments.com/anderson-in-46016/400-to-1000',
        'https://www.apartments.com/claymont-de-19703/400-to-1000',
        'https://www.apartments.com/york-pa-17401/400-to-1000',
        'https://www.apartments.com/goldsboro-nc-27530/400-to-1000',
        'https://www.apartments.com/goodyear-az-85338/1000-to-1200',
        'https://www.apartments.com/san-antonio-tx-78202/560-to-1198',
        'https://www.apartments.com/bakersfield-ca-93311/320-to-838',
        'https://www.apartments.com/rockford-il-61104/320-to-838',
        'https://www.apartments.com/rosenberg-tx-77471/400-to-1000',
        'https://www.apartments.com/victoria-tx-77901/320-to-838',
        'https://www.apartments.com/pontiac-mi-48341/1000-to-1200',
        'https://www.apartments.com/lake-charles-la-70607/400-to-1000',
        'https://www.apartments.com/brooklyn-ny-11211/400-to-1000',
        'https://www.apartments.com/san-antonio-tx-78210/319-to-478',
        'https://www.apartments.com/aberdeen-wa-98520/400-to-1000',
        'https://www.apartments.com/bradenton-fl-34209/560-to-1198',
        'https://www.apartments.com/new-bern-nc-28562/1000-to-1200',
        'https://www.apartments.com/tulare-ca-93274/400-to-1000',
        'https://www.apartments.com/valdosta-ga-31601/320-to-838',
        'https://www.apartments.com/flippin-ar-72634/400-to-1000',
        'https://www.apartments.com/saint-petersburg-fl-33714/400-to-1000',
        'https://www.apartments.com/cranston-ri-2920/1000-to-1200',
        'https://www.apartments.com/charleston-wv-25314/319-to-478',
        'https://www.apartments.com/johnson-city-tn-37615/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46202/400-to-1000',
        'https://www.apartments.com/phoenix-az-85013/400-to-1000',
        'https://www.apartments.com/starr-sc-29684/400-to-1000',
        'https://www.apartments.com/seattle-wa-98148/320-to-838',
        'https://www.apartments.com/modesto-ca-95351/400-to-1000',
        'https://www.apartments.com/trenton-nj-8610/400-to-1000',
        'https://www.apartments.com/valley-al-36854/320-to-838',
        'https://www.apartments.com/corpus-christi-tx-78415/320-to-838',
        'https://www.apartments.com/new-bedford-ma-2745/560-to-1198',
        'https://www.apartments.com/poplar-bluff-mo-63901/319-to-478',
        'https://www.apartments.com/columbus-ga-31903/400-to-1000',
        'https://www.apartments.com/nan-nan-92423/400-to-1000',
        'https://www.apartments.com/pontiac-mi-48340/400-to-1000',
        'https://www.apartments.com/easley-sc-29642/320-to-838',
        'https://www.apartments.com/southaven-ms-38671/320-to-838',
        'https://www.apartments.com/hermiston-or-97838/400-to-1000',
        'https://www.apartments.com/nan-nan-36167/320-to-838',
        'https://www.apartments.com/gulfport-ms-39501/320-to-838',
        'https://www.apartments.com/mesa-az-85201/320-to-838',
        'https://www.apartments.com/durham-nc-27704/400-to-1000',
        'https://www.apartments.com/satsuma-fl-32189/320-to-838',
        'https://www.apartments.com/topeka-ks-66604/400-to-1000',
        'https://www.apartments.com/allentown-pa-18103/400-to-1000',
        'https://www.apartments.com/lynn-haven-fl-32444/400-to-1000',
        'https://www.apartments.com/auburn-ca-95603/400-to-1000',
        'https://www.apartments.com/lubbock-tx-79424/560-to-1198',
        'https://www.apartments.com/acworth-ga-30102/560-to-1198',
        'https://www.apartments.com/baltimore-md-21229/400-to-1000',
        'https://www.apartments.com/macon-ga-31204/400-to-1000',
        'https://www.apartments.com/salem-or-97305/1000-to-1200',
        'https://www.apartments.com/columbus-oh-43204/320-to-838',
        'https://www.apartments.com/antioch-tn-37013/1000-to-1200',
        'https://www.apartments.com/marengo-oh-43334/560-to-1198',
        'https://www.apartments.com/guysville-oh-45735/400-to-1000',
        'https://www.apartments.com/richmond-ca-94804/400-to-1000',
        'https://www.apartments.com/lewisville-tx-75067/400-to-1000',
        'https://www.apartments.com/robersonville-nc-27871/400-to-1000',
        'https://www.apartments.com/washington-dc-20010/400-to-1000',
        'https://www.apartments.com/woodbridge-va-22192/1000-to-1200',
        'https://www.apartments.com/dallas-tx-75243/400-to-1000',
        'https://www.apartments.com/grants-pass-or-97526/400-to-1000',
        'https://www.apartments.com/springfield-tn-37172/319-to-478',
        'https://www.apartments.com/bastrop-tx-78602/1000-to-1200',
        'https://www.apartments.com/rincon-ga-31326/560-to-1198',
        'https://www.apartments.com/las-vegas-nv-89122/400-to-1000',
        'https://www.apartments.com/fort-collins-co-80526/400-to-1000',
        'https://www.apartments.com/tucson-az-85742/320-to-838',
        'https://www.apartments.com/bell-gardens-ca-90201/400-to-1000',
        'https://www.apartments.com/westminster-md-21157/319-to-478',
        'https://www.apartments.com/tulsa-ok-74126/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46201/400-to-1000',
        'https://www.apartments.com/yreka-ca-96097/320-to-838',
        'https://www.apartments.com/humble-tx-77396/560-to-1198',
        'https://www.apartments.com/saint-thomas-pa-17252/400-to-1000',
        'https://www.apartments.com/myrtle-beach-sc-29572/400-to-1000',
        'https://www.apartments.com/nan-nan-89158/1000-to-1200',
        'https://www.apartments.com/yakima-wa-98908/1000-to-1200',
        'https://www.apartments.com/olive-branch-ms-38654/400-to-1000',
        'https://www.apartments.com/ararat-va-24053/319-to-478',
        'https://www.apartments.com/mckinney-tx-75070/400-to-1000',
        'https://www.apartments.com/norfolk-va-23513/400-to-1000',
        'https://www.apartments.com/carbondale-il-62901/400-to-1000',
        'https://www.apartments.com/scottsdale-az-85251/400-to-1000',
        'https://www.apartments.com/smithfield-nc-27577/400-to-1000',
        'https://www.apartments.com/butte-mt-59701/400-to-1000',
        'https://www.apartments.com/los-angeles-ca-90044/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30344/400-to-1000',
        'https://www.apartments.com/woburn-ma-1801/400-to-1000',
        'https://www.apartments.com/memphis-tn-38112/400-to-1000',
        'https://www.apartments.com/huntington-beach-ca-92648/400-to-1000',
        'https://www.apartments.com/sand-springs-ok-74063/400-to-1000',
        'https://www.apartments.com/philadelphia-pa-19121/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30331/1000-to-1200',
        'https://www.apartments.com/phoenix-az-85053/1000-to-1200',
        'https://www.apartments.com/belleville-il-62221/400-to-1000',
        'https://www.apartments.com/salisbury-nc-28144/400-to-1000',
        'https://www.apartments.com/rockbridge-oh-43149/400-to-1000',
        'https://www.apartments.com/franklinton-nc-27525/320-to-838',
        'https://www.apartments.com/los-angeles-ca-90062/400-to-1000',
        'https://www.apartments.com/cleveland-oh-44109/400-to-1000',
        'https://www.apartments.com/roseville-mi-48066/560-to-1198',
        'https://www.apartments.com/conyers-ga-30012/400-to-1000',
        'https://www.apartments.com/saugerties-ny-12477/320-to-838',
        'https://www.apartments.com/raleigh-nc-27604/400-to-1000',
        'https://www.apartments.com/arlington-va-22201/560-to-1198',
        'https://www.apartments.com/kansas-city-mo-64155/400-to-1000',
        'https://www.apartments.com/joliet-il-60435/560-to-1198',
        'https://www.apartments.com/stony-point-nc-28678/400-to-1000',
        'https://www.apartments.com/chicago-il-60651/400-to-1000',
        'https://www.apartments.com/sun-city-az-85351/320-to-838',
        'https://www.apartments.com/indianapolis-in-46219/400-to-1000',
        'https://www.apartments.com/covington-ga-30016/560-to-1198',
        'https://www.apartments.com/union-city-ca-94587/400-to-1000',
        'https://www.apartments.com/long-beach-ca-90808/319-to-478',
        'https://www.apartments.com/warsaw-in-46582/560-to-1198',
        'https://www.apartments.com/rome-ga-30165/320-to-838',
        'https://www.apartments.com/vallejo-ca-94590/400-to-1000',
        'https://www.apartments.com/midlothian-tx-76065/400-to-1000',
        'https://www.apartments.com/mobile-al-36606/320-to-838',
        'https://www.apartments.com/walla-walla-wa-99362/400-to-1000',
        'https://www.apartments.com/gallup-nm-87301/319-to-478',
        'https://www.apartments.com/great-falls-mt-59401/400-to-1000',
        'https://www.apartments.com/eugene-or-97402/319-to-478',
        'https://www.apartments.com/eufaula-al-36027/320-to-838',
        'https://www.apartments.com/avon-park-fl-33825/400-to-1000',
        'https://www.apartments.com/la-porte-city-ia-50651/400-to-1000',
        'https://www.apartments.com/kansas-city-mo-64151/400-to-1000'


        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
