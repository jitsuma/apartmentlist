import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/ft-mitchell-ky-41017/1000-to-2000',
        'https://www.apartments.com/cincinnati-oh-45212/1000-to-2000',
        'https://www.apartments.com/madison-tn-37115/1000-to-2000',
        'https://www.apartments.com/albuquerque-nm-87105/1000-to-2000',
        'https://www.apartments.com/palm-coast-fl-32137/1000-to-2000',
        'https://www.apartments.com/chicopee-ma-1020/1000-to-2000',
        'https://www.apartments.com/oak-park-mi-48237/1000-to-2000',
        'https://www.apartments.com/clemson-sc-29631/1000-to-2000',
        'https://www.apartments.com/clearwater-fl-33755/1000-to-2000',
        'https://www.apartments.com/holland-mi-49424/1000-to-2000',
        'https://www.apartments.com/freeport-ny-11520/1000-to-2000',
        'https://www.apartments.com/canton-ga-0/1000-to-2000',
        'https://www.apartments.com/greenville-mi-48838/1000-to-2000',
        'https://www.apartments.com/pompano-beach-fl-33068/1000-to-2000',
        'https://www.apartments.com/fort-valley-ga-31030/1000-to-2000',
        'https://www.apartments.com/trenton-nj-8610/1000-to-2000',
        'https://www.apartments.com/boston-ma-2118/1000-to-2000',
        'https://www.apartments.com/marietta-ga-30064/1000-to-2000',
        'https://www.apartments.com/mesa-az-85205/1000-to-2000',
        'https://www.apartments.com/binghamton-ny-13902/1000-to-2000',
        'https://www.apartments.com/corpus-christi-tx-78416/1000-to-2000',
        'https://www.apartments.com/cartersville-ga-30120/1000-to-2000',
        'https://www.apartments.com/uniondale-ny-11553/1000-to-2000',
        'https://www.apartments.com/west-palm-beach-fl-33407/1000-to-2000',
        'https://www.apartments.com/auburn-wa-98001/1000-to-2000',
        'https://www.apartments.com/houston-tx-77033/1000-to-2000',
        'https://www.apartments.com/o-fallon-mo-63366/1000-to-2000',
        'https://www.apartments.com/tempe-az-85283/1000-to-2000',
        'https://www.apartments.com/marshfield-wi-54449/1000-to-2000',
        'https://www.apartments.com/washington-dc-20019/1000-to-2000',
        'https://www.apartments.com/dayton-oh-45426/1000-to-2000',
        'https://www.apartments.com/mulberry-fl-33860/1000-to-2000',
        'https://www.apartments.com/plattsmouth-ne-68048/1000-to-2000',
        'https://www.apartments.com/athens-al-35613/1000-to-2000',
        'https://www.apartments.com/detroit-mi-48208/1000-to-2000',
        'https://www.apartments.com/titusville-fl-32796/1000-to-2000',
        'https://www.apartments.com/york-pa-17401/1000-to-2000',
        'https://www.apartments.com/greenville-sc-29617/1000-to-2000',
        'https://www.apartments.com/thomasville-nc-27360/1000-to-2000',
        'https://www.apartments.com/jacksonville-fl-32209/1000-to-2000',
        'https://www.apartments.com/chippewa-falls-wi-54729/1000-to-2000',
        'https://www.apartments.com/shelbyville-in-46176/1000-to-2000',
        'https://www.apartments.com/cabool-mo-65689/1000-to-2000',
        'https://www.apartments.com/chowchilla-ca-93610/1000-to-2000',
        'https://www.apartments.com/kenosha-wi-53140/1000-to-2000',
        'https://www.apartments.com/madison-wi-53718/1000-to-2000',
        'https://www.apartments.com/trenton-nc-28585/1000-to-2000',
        'https://www.apartments.com/cleveland-oh-44104/1000-to-2000',
        'https://www.apartments.com/omaha-ne-68134/1000-to-2000',
        'https://www.apartments.com/fyffe-al-35971/1000-to-2000',
        'https://www.apartments.com/junction-city-ks-66441/1000-to-2000',
        'https://www.apartments.com/toledo-oh-43609/1000-to-2000',
        'https://www.apartments.com/athens-al-35611/1000-to-2000',
        'https://www.apartments.com/dayton-oh-45406/1000-to-2000',
        'https://www.apartments.com/mulberry-ar-72947/1000-to-2000',
        'https://www.apartments.com/buffalo-ny-14216/1000-to-2000',
        'https://www.apartments.com/whiteville-nc-28472/1000-to-2000',
        'https://www.apartments.com/albuquerque-nm-87108/1000-to-2000',
        'https://www.apartments.com/lafayette-la-70501/1000-to-2000',
        'https://www.apartments.com/belleville-il-62220/1000-to-2000',
        'https://www.apartments.com/kansas-city-mo-64130/1000-to-2000',
        'https://www.apartments.com/detroit-mi-48227/1000-to-2000',
        'https://www.apartments.com/mayflower-ar-72106/1000-to-2000',
        'https://www.apartments.com/hot-springs-national-park-ar-71913/1000-to-2000',
        'https://www.apartments.com/cleveland-oh-44119/1000-to-2000',
        'https://www.apartments.com/alton-il-62002/1000-to-2000',
        'https://www.apartments.com/chicago-il-60623/1000-to-2000',
        'https://www.apartments.com/pocatello-id-83204/1000-to-2000',
        'https://www.apartments.com/valrico-fl-33594/1000-to-2000',
        'https://www.apartments.com/defuniak-springs-fl-32433/1000-to-2000',
        'https://www.apartments.com/saint-louis-mo-63121/1000-to-2000',
        'https://www.apartments.com/wayne-mi-48184/1000-to-2000',
        'https://www.apartments.com/jacksonville-fl-32208/1000-to-2000',
        'https://www.apartments.com/racine-wi-53403/1000-to-2000',
        'https://www.apartments.com/jackson-mi-49203/1000-to-2000',
        'https://www.apartments.com/los-angeles-ca-90001/1000-to-2000',
        'https://www.apartments.com/reno-nv-89501/1000-to-2000',
        'https://www.apartments.com/glendale-az-85301/1000-to-2000',
        'https://www.apartments.com/norfolk-va-23502/1000-to-2000',
        'https://www.apartments.com/rochester-ny-14616/1000-to-2000',
        'https://www.apartments.com/roanoke-rapids-nc-27870/1000-to-2000',
        'https://www.apartments.com/springfield-ma-1108/1000-to-2000',
        'https://www.apartments.com/modesto-ca-95355/1000-to-2000',
        'https://www.apartments.com/indianapolis-in-46224/1000-to-2000',
        'https://www.apartments.com/bayonne-nj-7002/1000-to-2000',
        'https://www.apartments.com/fort-wayne-in-46816/1000-to-2000',
        'https://www.apartments.com/nan-nan-36125/1000-to-2000',
        'https://www.apartments.com/staunton-va-24401/1000-to-2000',
        'https://www.apartments.com/magee-ms-39111/1000-to-2000',
        'https://www.apartments.com/san-bernardino-ca-92410/1000-to-2000',
        'https://www.apartments.com/mcdonough-ga-30252/1000-to-2000',
        'https://www.apartments.com/jacksonville-al-36265/1000-to-2000',
        'https://www.apartments.com/douglasville-ga-30134/1000-to-2000',
        'https://www.apartments.com/corona-ca-92882/1000-to-2000',
        'https://www.apartments.com/bethany-ok-73008/1000-to-2000',
        'https://www.apartments.com/woodstock-il-60098/1000-to-2000',
        'https://www.apartments.com/stahlstown-pa-15687/1000-to-2000',
        'https://www.apartments.com/grand-junction-co-81501/1000-to-2000',
        'https://www.apartments.com/cedar-creek-tx-78612/1000-to-2000',
        'https://www.apartments.com/terre-haute-in-47803/1000-to-2000',
        'https://www.apartments.com/harrisburg-pa-17111/1000-to-2000',
        'https://www.apartments.com/winterville-nc-28590/1000-to-2000',
        'https://www.apartments.com/cleveland-oh-44106/1000-to-2000',
        'https://www.apartments.com/lima-oh-45801/1000-to-2000',
        'https://www.apartments.com/lawrenceville-ga-30043/1000-to-2000',
        'https://www.apartments.com/roanoke-va-24016/1000-to-2000',
        'https://www.apartments.com/jacksonville-fl-32205/1000-to-2000',
        'https://www.apartments.com/lehi-ut-84043/1000-to-2000',
        'https://www.apartments.com/temple-tx-76501/1000-to-2000',
        'https://www.apartments.com/niles-mi-49120/1000-to-2000',
        'https://www.apartments.com/atlantic-city-nj-8401/1000-to-2000',
        'https://www.apartments.com/milwaukee-wi-53233/1000-to-2000',
        'https://www.apartments.com/west-jordan-ut-84081/1000-to-2000',
        'https://www.apartments.com/dubuque-ia-52001/1000-to-2000',
        'https://www.apartments.com/winchester-va-22602/1000-to-2000',
        'https://www.apartments.com/las-vegas-nv-89183/1000-to-2000',
        'https://www.apartments.com/opelika-al-36801/1000-to-2000',
        'https://www.apartments.com/gretna-va-24557/1000-to-2000',
        'https://www.apartments.com/new-bedford-ma-2744/1000-to-2000',
        'https://www.apartments.com/houston-tx-77028/1000-to-2000',
        'https://www.apartments.com/paterson-nj-7505/1000-to-2000',
        'https://www.apartments.com/san-antonio-tx-78263/1000-to-2000',
        'https://www.apartments.com/bowie-md-20716/1000-to-2000',
        'https://www.apartments.com/augusta-ga-30907/1000-to-2000',
        'https://www.apartments.com/haverstraw-ny-10927/1000-to-2000',
        'https://www.apartments.com/owensville-oh-45160/1000-to-2000',
        'https://www.apartments.com/brownfield-tx-79316/1000-to-2000',
        'https://www.apartments.com/springdale-ar-72764/1000-to-2000',
        'https://www.apartments.com/pueblo-co-81005/1000-to-2000',
        'https://www.apartments.com/crystal-river-fl-34429/1000-to-2000',
        'https://www.apartments.com/dover-de-19904/1000-to-2000',
        'https://www.apartments.com/detroit-mi-48228/1000-to-2000',
        'https://www.apartments.com/beverly-hills-fl-34465/1000-to-2000',
        'https://www.apartments.com/fort-wayne-in-46807/1000-to-2000',
        'https://www.apartments.com/wasilla-ak-99654/1000-to-2000',
        'https://www.apartments.com/fort-worth-tx-76111/1000-to-2000',
        'https://www.apartments.com/highland-park-mi-48203/1000-to-2000',
        'https://www.apartments.com/lubbock-tx-79416/1000-to-2000',
        'https://www.apartments.com/jacksonville-nc-28540/1000-to-2000',
        'https://www.apartments.com/tucson-az-85746/1000-to-2000',
        'https://www.apartments.com/albuquerque-nm-87112/1000-to-2000',
        'https://www.apartments.com/concord-ca-94518/1000-to-2000',
        'https://www.apartments.com/petersburg-va-23803/1000-to-2000',
        'https://www.apartments.com/lexington-ky-40511/1000-to-2000',
        'https://www.apartments.com/fort-smith-ar-72908/1000-to-2000',
        'https://www.apartments.com/memphis-tn-38126/1000-to-2000',
        'https://www.apartments.com/massillon-oh-44647/1000-to-2000',
        'https://www.apartments.com/marion-nc-28752/1000-to-2000',
        'https://www.apartments.com/philadelphia-pa-19119/1000-to-2000',
        'https://www.apartments.com/phoenix-az-85035/1000-to-2000',
        'https://www.apartments.com/pasadena-tx-77502/1000-to-2000',
        'https://www.apartments.com/kent-oh-44240/1000-to-2000',
        'https://www.apartments.com/bunker-hill-wv-25413/1000-to-2000',
        'https://www.apartments.com/henrico-va-23233/1000-to-2000',
        'https://www.apartments.com/spokane-wa-99207/1000-to-2000',
        'https://www.apartments.com/fernley-nv-89408/1000-to-2000',
        'https://www.apartments.com/grand-rapids-mi-49508/1000-to-2000',
        'https://www.apartments.com/thousand-palms-ca-92276/1000-to-2000',
        'https://www.apartments.com/bennettsville-sc-29512/1000-to-2000',
        'https://www.apartments.com/sanford-nc-27330/1000-to-2000',
        'https://www.apartments.com/sanford-nc-27332/1000-to-2000',
        'https://www.apartments.com/plymouth-pa-18651/1000-to-2000',
        'https://www.apartments.com/tampa-fl-33610/1000-to-2000',
        'https://www.apartments.com/melbourne-fl-32935/1000-to-2000',
        'https://www.apartments.com/el-cajon-ca-92020/1000-to-2000',
        'https://www.apartments.com/gaffney-sc-29341/1000-to-2000',
        'https://www.apartments.com/kenosha-wi-53143/1000-to-2000',
        'https://www.apartments.com/menominee-mi-49858/1000-to-2000',
        'https://www.apartments.com/midvale-ut-84047/1000-to-2000',
        'https://www.apartments.com/vancouver-wa-98661/1000-to-2000',
        'https://www.apartments.com/san-diego-ca-92103/1000-to-2000',
        'https://www.apartments.com/houston-tx-77034/1000-to-2000',
        'https://www.apartments.com/jacksonville-fl-32224/1000-to-2000',
        'https://www.apartments.com/akron-oh-44319/1000-to-2000',
        'https://www.apartments.com/morristown-tn-37814/1000-to-2000',
        'https://www.apartments.com/jacksonville-fl-32225/1000-to-2000',
        'https://www.apartments.com/bronx-ny-10466/1000-to-2000',
        'https://www.apartments.com/charlotte-nc-28202/1000-to-2000',
        'https://www.apartments.com/long-branch-nj-7740/1000-to-2000',
        'https://www.apartments.com/las-vegas-nv-89108/1000-to-2000',
        'https://www.apartments.com/las-vegas-nv-89110/1000-to-2000',
        'https://www.apartments.com/port-arthur-tx-77642/1000-to-2000',
        'https://www.apartments.com/fort-worth-tx-76103/1000-to-2000',
        'https://www.apartments.com/hoschton-ga-30548/1000-to-2000',
        'https://www.apartments.com/albemarle-nc-28001/1000-to-2000',
        'https://www.apartments.com/jefferson-city-mo-65109/1000-to-2000',
        'https://www.apartments.com/san-francisco-ca-94103/1000-to-2000',
        'https://www.apartments.com/chicago-il-60647/1000-to-2000',
        'https://www.apartments.com/rialto-ca-92377/1000-to-2000',
        'https://www.apartments.com/farmersville-ca-93223/1000-to-2000',
        'https://www.apartments.com/dallas-or-97338/1000-to-2000',
        'https://www.apartments.com/new-hope-al-35760/1000-to-2000',
        'https://www.apartments.com/hampton-ga-30228/1000-to-2000',
        'https://www.apartments.com/spring-tx-77388/1000-to-2000',
        'https://www.apartments.com/fort-monmouth-nj-7703/1000-to-2000',
        'https://www.apartments.com/jacksonville-nc-28546/1000-to-2000',
        'https://www.apartments.com/knoxville-tn-37919/1000-to-2000',
        'https://www.apartments.com/manassa-co-81141/1000-to-2000',
        'https://www.apartments.com/pearl-city-hi-96782/1000-to-2000',
        'https://www.apartments.com/tallahassee-fl-32305/1000-to-2000',
        'https://www.apartments.com/davenport-ia-52804/1000-to-2000',
        'https://www.apartments.com/new-iberia-la-70560/1000-to-2000',
        'https://www.apartments.com/nan-nan-81502/1000-to-2000',
        'https://www.apartments.com/phoenix-az-85027/1000-to-2000',
        'https://www.apartments.com/riverside-ca-92501/1000-to-2000',
        'https://www.apartments.com/hammond-in-46320/1000-to-2000',
        'https://www.apartments.com/alameda-ca-94501/1000-to-2000',
        'https://www.apartments.com/saint-louis-mo-63118/1000-to-2000',
        'https://www.apartments.com/claymont-de-19703/1000-to-2000',
        'https://www.apartments.com/gulfport-ms-39503/1000-to-2000',
        'https://www.apartments.com/kansas-city-ks-66104/1000-to-2000',
        'https://www.apartments.com/nashville-tn-37221/1000-to-2000',
        'https://www.apartments.com/north-andover-ma-1845/1000-to-2000',
        'https://www.apartments.com/golden-valley-az-86413/1000-to-2000',
        'https://www.apartments.com/burkburnett-tx-76354/1000-to-2000',
        'https://www.apartments.com/elyria-oh-44035/1000-to-2000',
        'https://www.apartments.com/greenville-sc-29605/1000-to-2000',
        'https://www.apartments.com/dayton-oh-45405/1000-to-2000',
        'https://www.apartments.com/horn-lake-ms-38637/1000-to-2000',
        'https://www.apartments.com/saint-louis-mo-63136/1000-to-2000',
        'https://www.apartments.com/tustin-ca-92780/1000-to-2000',
        'https://www.apartments.com/wichita-ks-67218/1000-to-2000',
        'https://www.apartments.com/cleveland-oh-44109/1000-to-2000',
        'https://www.apartments.com/elkhart-in-46514/1000-to-2000',
        'https://www.apartments.com/centerville-tn-37033/1000-to-2000',
        'https://www.apartments.com/keota-ok-74941/1000-to-2000',
        'https://www.apartments.com/montgomery-al-36108/1000-to-2000',
        'https://www.apartments.com/bakersfield-ca-93308/1000-to-2000',
        'https://www.apartments.com/augusta-ga-30906/1000-to-2000',
        'https://www.apartments.com/milwaukee-wi-53209/1000-to-2000',
        'https://www.apartments.com/seattle-wa-98122/1000-to-2000',
        'https://www.apartments.com/davenport-fl-33837/1000-to-2000',
        'https://www.apartments.com/cleveland-oh-44110/1000-to-2000',
        'https://www.apartments.com/rockford-il-61104/1000-to-2000'




            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
