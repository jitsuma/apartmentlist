import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/aberdeen-md-21001/319-to-478',
        'https://www.apartments.com/macon-ga-31220/320-to-838',
        'https://www.apartments.com/tampa-fl-33615/560-to-1198',
        'https://www.apartments.com/reno-nv-89502/1000-to-1200',
        'https://www.apartments.com/martinsville-va-24112/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19128/560-to-1198',
        'https://www.apartments.com/georgetown-de-19947/320-to-838',
        'https://www.apartments.com/jacksonville-fl-32244/560-to-1198',
        'https://www.apartments.com/gastonia-nc-28056/320-to-838',
        'https://www.apartments.com/fraser-mi-0/400-to-1000',
        'https://www.apartments.com/winchester-va-22601/320-to-838',
        'https://www.apartments.com/springdale-ar-72764/320-to-838',
        'https://www.apartments.com/ambridge-pa-15003/320-to-838',
        'https://www.apartments.com/rock-hill-sc-29732/320-to-838',
        'https://www.apartments.com/greeley-co-80631/560-to-1198',
        'https://www.apartments.com/new-braunfels-tx-78130/320-to-838',
        'https://www.apartments.com/naples-fl-34112/560-to-1198',
        'https://www.apartments.com/cleveland-tn-37323/320-to-838',
        'https://www.apartments.com/elizabethton-tn-37643/560-to-1198',
        'https://www.apartments.com/belle-vernon-pa-15012/320-to-838',
        'https://www.apartments.com/opa-locka-fl-33055/320-to-838',
        'https://www.apartments.com/springfield-il-62702/320-to-838',
        'https://www.apartments.com/indianapolis-in-46234/319-to-478',
        'https://www.apartments.com/senoia-ga-30276/320-to-838',
        'https://www.apartments.com/long-beach-ca-90805/560-to-1198',
        'https://www.apartments.com/baltimore-md-21229/560-to-1198',
        'https://www.apartments.com/franklin-nc-28734/320-to-838',
        'https://www.apartments.com/chickamauga-ga-30707/320-to-838',
        'https://www.apartments.com/orlando-fl-32818/560-to-1198',
        'https://www.apartments.com/charleston-sc-29407/319-to-478',
        'https://www.apartments.com/pickens-sc-29671/320-to-838',
        'https://www.apartments.com/jackson-mi-49202/320-to-838',
        'https://www.apartments.com/nan-nan-34633/319-to-478',
        'https://www.apartments.com/erie-pa-16505/320-to-838',
        'https://www.apartments.com/orlando-fl-32808/320-to-838',
        'https://www.apartments.com/hartford-ct-6114/319-to-478',
        'https://www.apartments.com/homestead-fl-33032/1000-to-1200',
        'https://www.apartments.com/flint-mi-48507/320-to-838',
        'https://www.apartments.com/new-haven-ct-6511/560-to-1198',
        'https://www.apartments.com/greenville-sc-29617/319-to-478',
        'https://www.apartments.com/phoenix-az-85018/560-to-1198',
        'https://www.apartments.com/lancaster-sc-29720/320-to-838',
        'https://www.apartments.com/fort-wayne-in-46825/320-to-838',
        'https://www.apartments.com/patchogue-ny-11772/1000-to-1200',
        'https://www.apartments.com/pittsburgh-pa-15202/320-to-838',
        'https://www.apartments.com/port-huron-mi-48060/560-to-1198',
        'https://www.apartments.com/fayetteville-nc-28311/319-to-478',
        'https://www.apartments.com/deptford-nj-8096/319-to-478',
        'https://www.apartments.com/groveport-oh-43125/320-to-838',
        'https://www.apartments.com/portage-in-46368/320-to-838',
        'https://www.apartments.com/louisville-ky-40215/319-to-478',
        'https://www.apartments.com/new-orleans-la-70127/1000-to-1200',
        'https://www.apartments.com/bangor-mi-49013/320-to-838',
        'https://www.apartments.com/lynchburg-va-24501/1000-to-1200',
        'https://www.apartments.com/savannah-ga-31404/319-to-478',
        'https://www.apartments.com/bradenton-fl-34207/320-to-838',
        'https://www.apartments.com/indianapolis-in-46227/320-to-838',
        'https://www.apartments.com/jefferson-city-tn-37760/320-to-838',
        'https://www.apartments.com/warren-mi-48093/320-to-838',
        'https://www.apartments.com/springfield-oh-45504/320-to-838',
        'https://www.apartments.com/el-paso-tx-79930/320-to-838',
        'https://www.apartments.com/knoxville-tn-37922/560-to-1198',
        'https://www.apartments.com/adairsville-ga-30103/320-to-838',
        'https://www.apartments.com/saint-louis-mo-63136/319-to-478',
        'https://www.apartments.com/cleveland-oh-44111/320-to-838',
        'https://www.apartments.com/fort-pierce-fl-34982/320-to-838',
        'https://www.apartments.com/lexington-ky-40508/319-to-478',
        'https://www.apartments.com/pensacola-fl-32526/1000-to-1200',
        'https://www.apartments.com/huntsville-al-35816/320-to-838',
        'https://www.apartments.com/rogersville-mo-65742/320-to-838',
        'https://www.apartments.com/easthampton-ma-1027/319-to-478',
        'https://www.apartments.com/pocatello-id-83204/320-to-838',
        'https://www.apartments.com/victoria-tx-77901/319-to-478',
        'https://www.apartments.com/cleveland-oh-44108/320-to-838',
        'https://www.apartments.com/seaford-de-19973/320-to-838',
        'https://www.apartments.com/fort-myers-fl-33916/320-to-838',
        'https://www.apartments.com/corsicana-tx-75110/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19125/560-to-1198',
        'https://www.apartments.com/tulsa-ok-74104/560-to-1198',
        'https://www.apartments.com/hampton-ga-30228/560-to-1198',
        'https://www.apartments.com/erie-pa-16508/319-to-478',
        'https://www.apartments.com/birmingham-al-35226/320-to-838',
        'https://www.apartments.com/norfolk-va-23518/1000-to-1200',
        'https://www.apartments.com/cleveland-oh-44134/320-to-838',
        'https://www.apartments.com/columbia-mo-65203/1000-to-1200',
        'https://www.apartments.com/corpus-christi-tx-78416/320-to-838',
        'https://www.apartments.com/muskogee-ok-74401/320-to-838',
        'https://www.apartments.com/port-arthur-tx-77640/320-to-838',
        'https://www.apartments.com/pekin-il-61554/320-to-838',
        'https://www.apartments.com/murfreesboro-tn-37130/560-to-1198',
        'https://www.apartments.com/nan-nan-40423/560-to-1198',
        'https://www.apartments.com/aiken-sc-29805/319-to-478',
        'https://www.apartments.com/newport-news-va-23601/560-to-1198',
        'https://www.apartments.com/stockbridge-ga-30281/320-to-838',
        'https://www.apartments.com/kalamazoo-mi-49001/320-to-838',
        'https://www.apartments.com/homeworth-oh-44634/320-to-838',
        'https://www.apartments.com/angier-nc-27501/319-to-478',
        'https://www.apartments.com/hickory-nc-28602/560-to-1198',
        'https://www.apartments.com/dyersburg-tn-38024/319-to-478',
        'https://www.apartments.com/philadelphia-pa-19144/320-to-838',
        'https://www.apartments.com/seattle-wa-98188/1000-to-1200',
        'https://www.apartments.com/jacksonville-fl-32221/319-to-478',
        'https://www.apartments.com/cleveland-oh-44110/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19134/560-to-1198',
        'https://www.apartments.com/saint-louis-mo-63113/320-to-838',
        'https://www.apartments.com/houston-tx-77042/1000-to-1200',
        'https://www.apartments.com/matthews-nc-28105/1000-to-1200',
        'https://www.apartments.com/longmont-co-80504/560-to-1198',
        'https://www.apartments.com/amarillo-tx-79108/320-to-838',
        'https://www.apartments.com/royersford-pa-19468/320-to-838',
        'https://www.apartments.com/atlantic-city-nj-8401/560-to-1198',
        'https://www.apartments.com/denver-co-80228/320-to-838',
        'https://www.apartments.com/memphis-tn-38116/319-to-478',
        'https://www.apartments.com/queensbury-ny-12804/1000-to-1200',
        'https://www.apartments.com/panama-city-fl-32404/1000-to-1200',
        'https://www.apartments.com/tallahassee-fl-32303/1000-to-1200',
        'https://www.apartments.com/little-rock-ar-72227/320-to-838',
        'https://www.apartments.com/anderson-in-46012/320-to-838',
        'https://www.apartments.com/augusta-me-4330/319-to-478',
        'https://www.apartments.com/west-helena-ar-72390/320-to-838',
        'https://www.apartments.com/california-city-ca-93505/1000-to-1200',
        'https://www.apartments.com/park-forest-il-60466/1000-to-1200',
        'https://www.apartments.com/charlotte-nc-28216/560-to-1198',
        'https://www.apartments.com/bremen-ga-30110/320-to-838',
        'https://www.apartments.com/modesto-ca-95351/1000-to-1200',
        'https://www.apartments.com/indianapolis-in-46201/320-to-838',
        'https://www.apartments.com/edinburg-tx-78542/320-to-838',
        'https://www.apartments.com/cheboygan-mi-49721/320-to-838',
        'https://www.apartments.com/canton-oh-44714/320-to-838',
        'https://www.apartments.com/morrow-ga-30260/560-to-1198',
        'https://www.apartments.com/metairie-la-70001/560-to-1198',
        'https://www.apartments.com/akron-oh-44306/320-to-838',
        'https://www.apartments.com/akron-oh-44305/319-to-478',
        'https://www.apartments.com/aliquippa-pa-15001/320-to-838',
        'https://www.apartments.com/nathalie-va-24577/320-to-838',
        'https://www.apartments.com/odessa-tx-79764/320-to-838',
        'https://www.apartments.com/oklahoma-city-ok-73110/319-to-478',
        'https://www.apartments.com/manchester-nh-3102/319-to-478',
        'https://www.apartments.com/memphis-tn-38128/320-to-838',
        'https://www.apartments.com/shreveport-la-71104/560-to-1198',
        'https://www.apartments.com/leland-nc-28451/1000-to-1200',
        'https://www.apartments.com/somerset-ky-42503/319-to-478',
        'https://www.apartments.com/el-mirage-az-85335/1000-to-1200',
        'https://www.apartments.com/london-ky-40744/319-to-478',
        'https://www.apartments.com/las-vegas-nv-89115/320-to-838',
        'https://www.apartments.com/sanford-nc-27330/320-to-838',
        'https://www.apartments.com/fort-mc-coy-fl-32134/320-to-838',
        'https://www.apartments.com/long-beach-ms-39560/560-to-1198',
        'https://www.apartments.com/lakewood-wa-98498/560-to-1198',
        'https://www.apartments.com/houston-tx-77045/1000-to-1200',
        'https://www.apartments.com/superior-wi-54880/320-to-838',
        'https://www.apartments.com/glendale-az-85301/320-to-838',
        'https://www.apartments.com/greenville-nc-27834/320-to-838',
        'https://www.apartments.com/washington-in-47501/1000-to-1200',
        'https://www.apartments.com/perryville-mo-63775/320-to-838',
        'https://www.apartments.com/amarillo-tx-79102/320-to-838',
        'https://www.apartments.com/rock-island-il-61201/320-to-838',
        'https://www.apartments.com/bakersfield-ca-93306/560-to-1198',
        'https://www.apartments.com/forest-city-nc-28043/560-to-1198',
        'https://www.apartments.com/bradenton-fl-34203/319-to-478',
        'https://www.apartments.com/peoria-il-61607/320-to-838',
        'https://www.apartments.com/arlington-tx-76012/560-to-1198',
        'https://www.apartments.com/pomona-ca-91766/320-to-838',
        'https://www.apartments.com/el-paso-tx-79936/560-to-1198',
        'https://www.apartments.com/bridgeport-ct-6610/320-to-838',
        'https://www.apartments.com/montrose-co-81403/560-to-1198',
        'https://www.apartments.com/chicago-il-60619/319-to-478',
        'https://www.apartments.com/largo-fl-33778/319-to-478',
        'https://www.apartments.com/vine-grove-ky-40175/320-to-838',
        'https://www.apartments.com/radcliff-ky-40160/560-to-1198',
        'https://www.apartments.com/rio-linda-ca-95673/1000-to-1200',
        'https://www.apartments.com/beaumont-ca-92223/560-to-1198',
        'https://www.apartments.com/fort-smith-ar-72903/320-to-838',
        'https://www.apartments.com/lathrop-ca-95330/319-to-478',
        'https://www.apartments.com/kansas-city-mo-64137/320-to-838',
        'https://www.apartments.com/seneca-sc-29678/319-to-478',
        'https://www.apartments.com/salisbury-nc-28144/320-to-838',
        'https://www.apartments.com/fayetteville-nc-28304/320-to-838',
        'https://www.apartments.com/lufkin-tx-75904/320-to-838',
        'https://www.apartments.com/oakland-ca-94610/560-to-1198',
        'https://www.apartments.com/chula-vista-ca-91911/560-to-1198',
        'https://www.apartments.com/corpus-christi-tx-78410/560-to-1198',
        'https://www.apartments.com/dundalk-md-21222/1000-to-1200',
        'https://www.apartments.com/statesville-nc-28677/320-to-838',
        'https://www.apartments.com/springfield-or-97477/320-to-838',
        'https://www.apartments.com/louisburg-nc-27549/320-to-838',
        'https://www.apartments.com/rome-ga-30161/560-to-1198',
        'https://www.apartments.com/nan-nan-46432/320-to-838',
        'https://www.apartments.com/fresno-ca-93702/320-to-838',
        'https://www.apartments.com/apple-valley-ca-92307/319-to-478',
        'https://www.apartments.com/bowling-green-ky-42101/320-to-838',
        'https://www.apartments.com/birmingham-al-35206/320-to-838',
        'https://www.apartments.com/sacramento-ca-95826/560-to-1198',
        'https://www.apartments.com/colorado-springs-co-80920/320-to-838',
        'https://www.apartments.com/cedarville-ar-72932/319-to-478',
        'https://www.apartments.com/poplarville-ms-39470/320-to-838',
        'https://www.apartments.com/columbia-sc-29223/320-to-838',
        'https://www.apartments.com/albuquerque-nm-87111/560-to-1198',
        'https://www.apartments.com/valdosta-ga-31602/320-to-838',
        'https://www.apartments.com/leroy-mi-49655/319-to-478',
        'https://www.apartments.com/nan-nan-26905/320-to-838',
        'https://www.apartments.com/sheffield-al-35660/320-to-838',
        'https://www.apartments.com/nan-nan-35895/319-to-478',
        'https://www.apartments.com/indianapolis-in-46226/560-to-1198',
        'https://www.apartments.com/fulton-ny-13069/320-to-838',
        'https://www.apartments.com/west-plains-mo-65775/319-to-478',
        'https://www.apartments.com/phoenix-az-85022/560-to-1198',
        'https://www.apartments.com/perry-ga-31069/319-to-478',
        'https://www.apartments.com/indianapolis-in-46221/320-to-838',
        'https://www.apartments.com/nan-nan-95153/1000-to-1200',
        'https://www.apartments.com/hillsboro-or-97123/560-to-1198',
        'https://www.apartments.com/san-jacinto-ca-92583/320-to-838',
        'https://www.apartments.com/nan-nan-54188/320-to-838',
        'https://www.apartments.com/saint-charles-mo-63303/320-to-838',
        'https://www.apartments.com/richmond-va-23223/1000-to-1200',
        'https://www.apartments.com/nan-nan-36068/320-to-838',
        'https://www.apartments.com/manchester-tn-37355/320-to-838',
        'https://www.apartments.com/benton-harbor-mi-49022/320-to-838',
        'https://www.apartments.com/san-diego-ca-92101/319-to-478',
        'https://www.apartments.com/houston-tx-77066/320-to-838',
        'https://www.apartments.com/beaverton-mi-48612/320-to-838',
        'https://www.apartments.com/elkhart-in-46514/320-to-838',
        'https://www.apartments.com/tucson-az-85706/560-to-1198',
        'https://www.apartments.com/waynesboro-va-22980/560-to-1198',
        'https://www.apartments.com/san-diego-ca-92117/1000-to-1200',
        'https://www.apartments.com/kansas-city-mo-64133/320-to-838',
        'https://www.apartments.com/fort-worth-tx-76116/560-to-1198',
        'https://www.apartments.com/canton-nc-28716/319-to-478',
        'https://www.apartments.com/rose-hill-nc-28458/319-to-478',
        'https://www.apartments.com/buchanan-mi-49107/320-to-838',
        'https://www.apartments.com/flint-mi-48532/320-to-838',
        'https://www.apartments.com/renton-wa-98057/319-to-478',
        'https://www.apartments.com/atwater-ca-95301/1000-to-1200',
        'https://www.apartments.com/seligman-mo-65745/319-to-478',
        'https://www.apartments.com/king-nc-27021/320-to-838',
        'https://www.apartments.com/johnson-city-tn-37604/320-to-838',
        'https://www.apartments.com/chesapeake-va-23323/320-to-838',
        'https://www.apartments.com/culpeper-va-22701/560-to-1198',
        'https://www.apartments.com/benton-ar-72019/1000-to-1200',
        'https://www.apartments.com/alexandria-va-22304/319-to-478',
        'https://www.apartments.com/skowhegan-me-4976/320-to-838',
        'https://www.apartments.com/lee-fl-32059/320-to-838',
        'https://www.apartments.com/kinston-nc-28504/560-to-1198',
        'https://www.apartments.com/laporte-co-80535/320-to-838',
        'https://www.apartments.com/los-angeles-ca-90032/1000-to-1200',
        'https://www.apartments.com/chattanooga-tn-37415/320-to-838',
        'https://www.apartments.com/columbus-oh-43209/560-to-1198',
        'https://www.apartments.com/williamsport-pa-17702/319-to-478',
        'https://www.apartments.com/milton-fl-32583/560-to-1198',
        'https://www.apartments.com/lake-panasoffkee-fl-33538/319-to-478',
        'https://www.apartments.com/summerville-sc-29483/1000-to-1200',
        'https://www.apartments.com/new-castle-de-19720/319-to-478',
        'https://www.apartments.com/blackwell-ok-74631/320-to-838',
        'https://www.apartments.com/lexington-ky-40517/320-to-838',
        'https://www.apartments.com/sacramento-ca-95838/319-to-478',
        'https://www.apartments.com/rockledge-fl-32955/319-to-478',
        'https://www.apartments.com/lexington-nc-27295/320-to-838',
        'https://www.apartments.com/evansville-in-47712/320-to-838',
        'https://www.apartments.com/columbus-in-47203/320-to-838',
        'https://www.apartments.com/houston-tx-77072/1000-to-1200',
        'https://www.apartments.com/wake-forest-nc-27587/560-to-1198',
        'https://www.apartments.com/memphis-tn-38106/320-to-838',
        'https://www.apartments.com/las-vegas-nv-89148/320-to-838',
        'https://www.apartments.com/williamstown-nj-8094/320-to-838',
        'https://www.apartments.com/albuquerque-nm-87106/560-to-1198',
        'https://www.apartments.com/dayton-oh-45426/320-to-838',
        'https://www.apartments.com/winter-park-fl-32789/319-to-478',
        'https://www.apartments.com/knoxville-tn-37919/319-to-478',
        'https://www.apartments.com/saint-louis-mo-63107/1000-to-1200',
        'https://www.apartments.com/joliet-il-60433/320-to-838',
        'https://www.apartments.com/jacksonville-fl-32205/560-to-1198',
        'https://www.apartments.com/kaufman-tx-75142/320-to-838',
        'https://www.apartments.com/waco-tx-76705/320-to-838',
        'https://www.apartments.com/stafford-va-22556/1000-to-1200',
        'https://www.apartments.com/stockton-ca-95204/1000-to-1200',
        'https://www.apartments.com/antioch-ca-94531/320-to-838'

        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
