import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/saco-me-0/500-to-1500',
        'https://www.apartments.com/lockport-ny-14094/500-to-1500',
        'https://www.apartments.com/long-beach-ca-90806/500-to-1500',
        'https://www.apartments.com/nan-nan-34425/500-to-1500',
        'https://www.apartments.com/warner-robins-ga-31088/500-to-1500',
        'https://www.apartments.com/columbus-oh-43224/500-to-1500',
        'https://www.apartments.com/columbus-oh-43227/500-to-1500',
        'https://www.apartments.com/indianapolis-in-46241/500-to-1500',
        'https://www.apartments.com/lumberton-nc-28358/500-to-1500',
        'https://www.apartments.com/saint-charles-mo-63303/500-to-1500',
        'https://www.apartments.com/syracuse-ny-13211/500-to-1500',
        'https://www.apartments.com/lake-panasoffkee-fl-33538/500-to-1500',
        'https://www.apartments.com/milwaukee-wi-53209/500-to-1500',
        'https://www.apartments.com/taylors-sc-29687/500-to-1500',
        'https://www.apartments.com/hallandale-fl-33009/500-to-1500',
        'https://www.apartments.com/huntington-wv-25701/500-to-1500',
        'https://www.apartments.com/fairless-hills-pa-19030/500-to-1500',
        'https://www.apartments.com/jacksonville-beach-fl-32250/500-to-1500',
        'https://www.apartments.com/round-lake-il-60073/500-to-1500',
        'https://www.apartments.com/omaha-ne-68106/500-to-1500',
        'https://www.apartments.com/lockhart-tx-78644/500-to-1500',
        'https://www.apartments.com/stone-mountain-ga-30083/500-to-1500',
        'https://www.apartments.com/franklin-ky-42134/500-to-1500',
        'https://www.apartments.com/memphis-tn-38109/500-to-1500',
        'https://www.apartments.com/leesburg-fl-34748/500-to-1500',
        'https://www.apartments.com/saint-augustine-fl-32086/500-to-1500',
        'https://www.apartments.com/grafton-wi-53024/500-to-1500',
        'https://www.apartments.com/philadelphia-pa-19133/500-to-1500',
        'https://www.apartments.com/interlachen-fl-32148/500-to-1500',
        'https://www.apartments.com/west-lafayette-in-47906/500-to-1500',
        'https://www.apartments.com/west-monroe-la-71291/500-to-1500',
        'https://www.apartments.com/franklin-va-23851/500-to-1500',
        'https://www.apartments.com/clinton-township-mi-48035/500-to-1500',
        'https://www.apartments.com/sterling-heights-mi-48310/500-to-1500',
        'https://www.apartments.com/nan-nan-32513/500-to-1500',
        'https://www.apartments.com/hanford-ca-93230/500-to-1500',
        'https://www.apartments.com/montpelier-va-23192/500-to-1500',
        'https://www.apartments.com/kellyton-al-35089/500-to-1500',
        'https://www.apartments.com/missouri-city-tx-77489/500-to-1500',
        'https://www.apartments.com/charlotte-nc-28226/500-to-1500',
        'https://www.apartments.com/crossville-tn-38555/500-to-1500',
        'https://www.apartments.com/pulaski-va-24301/500-to-1500',
        'https://www.apartments.com/norfolk-va-23513/500-to-1500',
        'https://www.apartments.com/van-buren-ar-72956/500-to-1500',
        'https://www.apartments.com/glen-allen-va-23060/500-to-1500',
        'https://www.apartments.com/augusta-ga-30901/500-to-1500',
        'https://www.apartments.com/memphis-tn-38106/500-to-1500',
        'https://www.apartments.com/dearborn-heights-mi-48125/500-to-1500',
        'https://www.apartments.com/baxley-ga-31513/500-to-1500',
        'https://www.apartments.com/hickory-nc-28602/500-to-1500',
        'https://www.apartments.com/cambridge-mn-55008/500-to-1500',
        'https://www.apartments.com/atlanta-ga-30314/500-to-1500',
        'https://www.apartments.com/springfield-or-97477/500-to-1500',
        'https://www.apartments.com/indianapolis-in-46222/500-to-1500',
        'https://www.apartments.com/bronx-ny-10452/500-to-1500',
        'https://www.apartments.com/middle-river-md-21220/500-to-1500',
        'https://www.apartments.com/clearwater-fl-33756/500-to-1500',
        'https://www.apartments.com/fruita-co-81521/500-to-1500',
        'https://www.apartments.com/hagerstown-md-21740/500-to-1500',
        'https://www.apartments.com/montgomery-al-36105/500-to-1500',
        'https://www.apartments.com/toledo-oh-43609/500-to-1500',
        'https://www.apartments.com/boynton-beach-fl-33426/500-to-1500',
        'https://www.apartments.com/ansonia-ct-6401/500-to-1500',
        'https://www.apartments.com/federal-way-wa-98023/500-to-1500',
        'https://www.apartments.com/kenosha-wi-53142/500-to-1500',
        'https://www.apartments.com/new-madrid-mo-63869/500-to-1500',
        'https://www.apartments.com/butler-pa-16001/500-to-1500',
        'https://www.apartments.com/springfield-mo-65806/500-to-1500',
        'https://www.apartments.com/spartanburg-sc-29301/500-to-1500',
        'https://www.apartments.com/independence-mo-64052/500-to-1500',
        'https://www.apartments.com/covington-ga-30014/500-to-1500',
        'https://www.apartments.com/cleveland-oh-44108/500-to-1500',
        'https://www.apartments.com/palestine-tx-75801/500-to-1500',
        'https://www.apartments.com/stockton-ca-95207/500-to-1500',
        'https://www.apartments.com/pampa-tx-79065/500-to-1500',
        'https://www.apartments.com/arlington-vt-5250/500-to-1500',
        'https://www.apartments.com/fort-pierce-fl-34949/500-to-1500',
        'https://www.apartments.com/kokomo-in-46902/500-to-1500',
        'https://www.apartments.com/demotte-in-46310/500-to-1500',
        'https://www.apartments.com/charlotte-nc-28206/500-to-1500',
        'https://www.apartments.com/pontiac-mi-48342/500-to-1500',
        'https://www.apartments.com/baltimore-md-21215/500-to-1500',
        'https://www.apartments.com/cushing-ok-74023/500-to-1500',
        'https://www.apartments.com/long-beach-ca-90813/500-to-1500',
        'https://www.apartments.com/baltimore-md-21229/500-to-1500',
        'https://www.apartments.com/sevierville-tn-37876/500-to-1500',
        'https://www.apartments.com/grants-pass-or-97526/500-to-1500',
        'https://www.apartments.com/indianapolis-in-46227/500-to-1500',
        'https://www.apartments.com/new-lenox-il-60451/500-to-1500',
        'https://www.apartments.com/searcy-ar-72143/500-to-1500',
        'https://www.apartments.com/joliet-il-60435/500-to-1500',
        'https://www.apartments.com/bountiful-ut-84010/500-to-1500',
        'https://www.apartments.com/royston-ga-30662/500-to-1500',
        'https://www.apartments.com/miami-fl-33136/500-to-1500',
        'https://www.apartments.com/philadelphia-pa-19140/500-to-1500',
        'https://www.apartments.com/hitchcock-tx-77563/500-to-1500',
        'https://www.apartments.com/columbia-sc-29203/500-to-1500',
        'https://www.apartments.com/san-marcos-tx-78666/500-to-1500',
        'https://www.apartments.com/new-haven-ct-6511/500-to-1500',
        'https://www.apartments.com/union-springs-al-36089/500-to-1500',
        'https://www.apartments.com/saratoga-springs-ny-12866/500-to-1500',
        'https://www.apartments.com/charles-city-va-23030/500-to-1500',
        'https://www.apartments.com/anderson-sc-29621/500-to-1500',
        'https://www.apartments.com/attleboro-ma-2703/500-to-1500',
        'https://www.apartments.com/evansville-in-47711/500-to-1500',
        'https://www.apartments.com/elyria-oh-44035/500-to-1500',
        'https://www.apartments.com/philadelphia-pa-19143/500-to-1500',
        'https://www.apartments.com/seminole-ok-74868/500-to-1500',
        'https://www.apartments.com/winter-haven-fl-33884/500-to-1500',
        'https://www.apartments.com/somerset-ky-42501/500-to-1500',
        'https://www.apartments.com/belton-mo-64012/500-to-1500',
        'https://www.apartments.com/dayton-oh-45426/500-to-1500',
        'https://www.apartments.com/sioux-city-ia-51105/500-to-1500',
        'https://www.apartments.com/friendship-ny-14739/500-to-1500',
        'https://www.apartments.com/goldsboro-nc-27530/500-to-1500',
        'https://www.apartments.com/zebulon-nc-27597/500-to-1500',
        'https://www.apartments.com/yulee-fl-32097/500-to-1500',
        'https://www.apartments.com/thomasville-nc-27360/500-to-1500',
        'https://www.apartments.com/homerville-oh-44235/500-to-1500',
        'https://www.apartments.com/richmond-ca-94804/500-to-1500',
        'https://www.apartments.com/carrboro-nc-27510/500-to-1500',
        'https://www.apartments.com/tucson-az-85706/500-to-1500',
        'https://www.apartments.com/waynesville-nc-28786/500-to-1500',
        'https://www.apartments.com/lebanon-mo-65536/500-to-1500',
        'https://www.apartments.com/columbus-oh-43211/500-to-1500',
        'https://www.apartments.com/waycross-ga-31501/500-to-1500',
        'https://www.apartments.com/irving-tx-75062/500-to-1500',
        'https://www.apartments.com/bakersfield-ca-93305/500-to-1500',
        'https://www.apartments.com/harrisonburg-va-22801/500-to-1500',
        'https://www.apartments.com/lafayette-la-70501/500-to-1500',
        'https://www.apartments.com/detroit-mi-48210/500-to-1500',
        'https://www.apartments.com/daytona-beach-fl-32114/500-to-1500',
        'https://www.apartments.com/eau-claire-wi-54703/500-to-1500',
        'https://www.apartments.com/seaford-de-19973/500-to-1500',
        'https://www.apartments.com/san-antonio-tx-78228/500-to-1500',
        'https://www.apartments.com/shelby-nc-28150/500-to-1500',
        'https://www.apartments.com/visalia-ca-93291/500-to-1500',
        'https://www.apartments.com/san-antonio-tx-78201/500-to-1500',
        'https://www.apartments.com/asheboro-nc-27205/500-to-1500',
        'https://www.apartments.com/mountain-home-ar-72653/500-to-1500',
        'https://www.apartments.com/tulsa-ok-74106/500-to-1500',
        'https://www.apartments.com/detroit-mi-48227/500-to-1500',
        'https://www.apartments.com/nan-nan-70990/500-to-1500',
        'https://www.apartments.com/dayton-oh-45431/500-to-1500',
        'https://www.apartments.com/freeland-mi-48623/500-to-1500',
        'https://www.apartments.com/holton-mi-49425/500-to-1500',
        'https://www.apartments.com/dothan-al-36303/500-to-1500',
        'https://www.apartments.com/hamilton-oh-45011/500-to-1500',
        'https://www.apartments.com/chicago-il-60639/500-to-1500',
        'https://www.apartments.com/glenwood-springs-co-81601/500-to-1500',
        'https://www.apartments.com/florence-sc-29501/500-to-1500',
        'https://www.apartments.com/fort-walton-beach-fl-32547/500-to-1500',
        'https://www.apartments.com/upland-ca-91786/500-to-1500',
        'https://www.apartments.com/monroe-nc-28110/500-to-1500',
        'https://www.apartments.com/columbia-sc-29209/500-to-1500',
        'https://www.apartments.com/catoosa-ok-74015/500-to-1500',
        'https://www.apartments.com/zephyrhills-fl-33542/500-to-1500',
        'https://www.apartments.com/cape-may-court-house-nj-8210/500-to-1500',
        'https://www.apartments.com/indianapolis-in-46268/500-to-1500',
        'https://www.apartments.com/grenada-ms-38901/500-to-1500',
        'https://www.apartments.com/sanford-nc-27330/500-to-1500',
        'https://www.apartments.com/brownsville-or-97327/500-to-1500',
        'https://www.apartments.com/norfolk-va-23503/500-to-1500',
        'https://www.apartments.com/matteson-il-60443/500-to-1500',
        'https://www.apartments.com/penryn-ca-95663/500-to-1500',
        'https://www.apartments.com/mancelona-mi-49659/500-to-1500',
        'https://www.apartments.com/fontana-ca-92337/500-to-1500',
        'https://www.apartments.com/waco-tx-76708/500-to-1500',
        'https://www.apartments.com/houston-tx-77093/500-to-1500',
        'https://www.apartments.com/brentwood-ca-94513/500-to-1500',
        'https://www.apartments.com/saint-petersburg-fl-33702/500-to-1500',
        'https://www.apartments.com/bradenton-fl-34208/500-to-1500',
        'https://www.apartments.com/east-alton-il-62024/500-to-1500',
        'https://www.apartments.com/buffalo-ny-14203/500-to-1500',
        'https://www.apartments.com/louisville-ky-40213/500-to-1500',
        'https://www.apartments.com/downingtown-pa-19335/500-to-1500',
        'https://www.apartments.com/los-lunas-nm-87031/500-to-1500',
        'https://www.apartments.com/las-vegas-nv-89104/500-to-1500',
        'https://www.apartments.com/ravenna-oh-44266/500-to-1500',
        'https://www.apartments.com/seagoville-tx-75159/500-to-1500',
        'https://www.apartments.com/bloomfield-hills-mi-48304/500-to-1500',
        'https://www.apartments.com/rochester-ny-14619/500-to-1500',
        'https://www.apartments.com/walla-walla-wa-99362/500-to-1500',
        'https://www.apartments.com/memphis-tn-38122/500-to-1500',
        'https://www.apartments.com/stuart-fl-34996/500-to-1500',
        'https://www.apartments.com/kerrville-tx-78028/500-to-1500',
        'https://www.apartments.com/nan-nan-36536/500-to-1500',
        'https://www.apartments.com/bristol-ct-6010/500-to-1500',
        'https://www.apartments.com/idaho-falls-id-83401/500-to-1500',
        'https://www.apartments.com/nashville-tn-37209/500-to-1500',
        'https://www.apartments.com/detroit-mi-48228/500-to-1500',
        'https://www.apartments.com/mount-morris-mi-48458/500-to-1500',
        'https://www.apartments.com/chambersburg-pa-17201/500-to-1500',
        'https://www.apartments.com/poplar-bluff-mo-63901/500-to-1500',
        'https://www.apartments.com/bradenton-fl-34205/500-to-1500',
        'https://www.apartments.com/pompano-beach-fl-33071/500-to-1500',
        'https://www.apartments.com/jersey-city-nj-7302/500-to-1500',
        'https://www.apartments.com/norfolk-va-23509/500-to-1500',
        'https://www.apartments.com/kissimmee-fl-34747/500-to-1500',
        'https://www.apartments.com/abilene-tx-79603/500-to-1500',
        'https://www.apartments.com/ashland-pa-17921/500-to-1500',
        'https://www.apartments.com/jackson-mi-49201/500-to-1500',
        'https://www.apartments.com/los-angeles-ca-90002/500-to-1500',
        'https://www.apartments.com/phoenix-az-85008/500-to-1500',
        'https://www.apartments.com/macungie-pa-18062/500-to-1500',
        'https://www.apartments.com/dallas-tx-75205/500-to-1500'



        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
