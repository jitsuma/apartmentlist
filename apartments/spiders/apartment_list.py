import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/newark-nj-7108/400-to-1000',
        'https://www.apartments.com/weslaco-tx-78596/560-to-1198',
        'https://www.apartments.com/cedartown-ga-30125/320-to-838',
        'https://www.apartments.com/high-point-nc-27260/400-to-1000',
        'https://www.apartments.com/nan-nan-81540/400-to-1000',
        'https://www.apartments.com/winter-haven-fl-33884/320-to-838',
        'https://www.apartments.com/dallas-ga-30157/400-to-1000',
        'https://www.apartments.com/conley-ga-30288/1000-to-1200',
        'https://www.apartments.com/reynoldsburg-oh-43068/400-to-1000',
        'https://www.apartments.com/garland-tx-75044/400-to-1000',
        'https://www.apartments.com/lubbock-tx-79403/400-to-1000',
        'https://www.apartments.com/santa-ana-ca-92703/1000-to-1200',
        'https://www.apartments.com/morrow-ga-30260/320-to-838',
        'https://www.apartments.com/lincoln-ne-68510/400-to-1000',
        'https://www.apartments.com/douglas-ga-31533/320-to-838',
        'https://www.apartments.com/mesa-az-85204/400-to-1000',
        'https://www.apartments.com/north-little-rock-ar-72118/400-to-1000',
        'https://www.apartments.com/baltimore-md-21229/400-to-1000',
        'https://www.apartments.com/cullman-al-35055/320-to-838',
        'https://www.apartments.com/braddock-pa-15104/400-to-1000',
        'https://www.apartments.com/bronx-ny-10455/1000-to-1200',
        'https://www.apartments.com/fort-lauderdale-fl-33311/400-to-1000',
        'https://www.apartments.com/fort-worth-tx-76119/1000-to-1200',
        'https://www.apartments.com/nan-nan-3247/400-to-1000',
        'https://www.apartments.com/detroit-mi-48226/400-to-1000',
        'https://www.apartments.com/pineville-la-71360/400-to-1000',
        'https://www.apartments.com/marianna-fl-32446/320-to-838',
        'https://www.apartments.com/vero-beach-fl-0/400-to-1000',
        'https://www.apartments.com/chester-pa-19013/400-to-1000',
        'https://www.apartments.com/takoma-park-md-20912/560-to-1198',
        'https://www.apartments.com/stockton-ca-95202/560-to-1198',
        'https://www.apartments.com/clifton-co-81520/400-to-1000',
        'https://www.apartments.com/fort-wayne-in-46808/400-to-1000',
        'https://www.apartments.com/lockhart-tx-78644/560-to-1198',
        'https://www.apartments.com/watertown-ma-2472/319-to-478',
        'https://www.apartments.com/sioux-city-ia-51105/400-to-1000',
        'https://www.apartments.com/hagerstown-md-21740/1000-to-1200',
        'https://www.apartments.com/temple-ga-30179/320-to-838',
        'https://www.apartments.com/milwaukee-wi-53205/400-to-1000',
        'https://www.apartments.com/lake-elsinore-ca-92532/400-to-1000',
        'https://www.apartments.com/talmo-ga-30575/320-to-838',
        'https://www.apartments.com/canon-city-co-81212/560-to-1198',
        'https://www.apartments.com/madisonville-ky-42431/400-to-1000',
        'https://www.apartments.com/gainesville-fl-32641/319-to-478',
        'https://www.apartments.com/knoxville-tn-37915/320-to-838',
        'https://www.apartments.com/ellwood-city-pa-16117/320-to-838',
        'https://www.apartments.com/montpelier-oh-43543/400-to-1000',
        'https://www.apartments.com/webster-tx-77598/560-to-1198',
        'https://www.apartments.com/wilson-nc-27893/320-to-838',
        'https://www.apartments.com/staten-island-ny-10304/1000-to-1200',
        'https://www.apartments.com/temple-tx-76504/400-to-1000',
        'https://www.apartments.com/acworth-ga-30102/320-to-838',
        'https://www.apartments.com/myrtle-beach-sc-29572/400-to-1000',
        'https://www.apartments.com/washington-il-61571/320-to-838',
        'https://www.apartments.com/kansas-city-mo-64133/400-to-1000',
        'https://www.apartments.com/kansas-city-mo-64128/400-to-1000',
        'https://www.apartments.com/york-pa-17401/320-to-838',
        'https://www.apartments.com/sarasota-fl-34234/400-to-1000',
        'https://www.apartments.com/leesburg-va-20175/560-to-1198',
        'https://www.apartments.com/bronx-ny-10462/1000-to-1200',
        'https://www.apartments.com/mount-morris-mi-48458/320-to-838',
        'https://www.apartments.com/lakeside-az-85929/560-to-1198',
        'https://www.apartments.com/pensacola-fl-32507/320-to-838',
        'https://www.apartments.com/millsboro-de-19966/560-to-1198',
        'https://www.apartments.com/inverness-fl-34453/319-to-478',
        'https://www.apartments.com/euclid-oh-44132/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46241/400-to-1000',
        'https://www.apartments.com/orlando-fl-32805/320-to-838',
        'https://www.apartments.com/north-kingstown-ri-2852/400-to-1000',
        'https://www.apartments.com/pittsburgh-pa-15219/320-to-838',
        'https://www.apartments.com/grove-city-oh-43123/560-to-1198',
        'https://www.apartments.com/baltimore-md-21206/560-to-1198',
        'https://www.apartments.com/gadsden-sc-29052/320-to-838',
        'https://www.apartments.com/new-hampton-ny-10958/320-to-838',
        'https://www.apartments.com/newington-ct-6111/560-to-1198',
        'https://www.apartments.com/cape-may-court-house-nj-8210/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30337/400-to-1000',
        'https://www.apartments.com/rapid-city-sd-57702/1000-to-1200',
        'https://www.apartments.com/calabash-nc-28467/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19151/400-to-1000',
        'https://www.apartments.com/orlando-fl-32837/560-to-1198',
        'https://www.apartments.com/clinton-nc-28328/400-to-1000',
        'https://www.apartments.com/inkster-mi-48141/560-to-1198',
        'https://www.apartments.com/gainesville-fl-32606/320-to-838',
        'https://www.apartments.com/chicago-il-60617/320-to-838',
        'https://www.apartments.com/detroit-mi-48235/320-to-838',
        'https://www.apartments.com/seneca-sc-29678/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19149/400-to-1000',
        'https://www.apartments.com/alamo-tx-78516/320-to-838',
        'https://www.apartments.com/sacramento-ca-95822/1000-to-1200',
        'https://www.apartments.com/covington-ga-30016/320-to-838',
        'https://www.apartments.com/detroit-mi-48234/400-to-1000',
        'https://www.apartments.com/prattville-al-36066/400-to-1000',
        'https://www.apartments.com/metairie-la-70001/400-to-1000',
        'https://www.apartments.com/raeford-nc-28376/320-to-838',
        'https://www.apartments.com/toledo-oh-43612/320-to-838',
        'https://www.apartments.com/lenoir-city-tn-37771/400-to-1000',
        'https://www.apartments.com/klamath-falls-or-97603/320-to-838',
        'https://www.apartments.com/jacksonville-fl-32246/1000-to-1200',
        'https://www.apartments.com/sacramento-ca-95824/400-to-1000',
        'https://www.apartments.com/mount-airy-la-70076/319-to-478',
        'https://www.apartments.com/tampa-fl-33637/560-to-1198',
        'https://www.apartments.com/daytona-beach-fl-32114/400-to-1000',
        'https://www.apartments.com/pine-grove-pa-17963/320-to-838',
        'https://www.apartments.com/oswego-ny-13126/560-to-1198',
        'https://www.apartments.com/van-wert-oh-45891/320-to-838',
        'https://www.apartments.com/pittsburgh-pa-15205/400-to-1000',
        'https://www.apartments.com/port-saint-lucie-fl-34983/400-to-1000',
        'https://www.apartments.com/macon-ga-31204/319-to-478',
        'https://www.apartments.com/van-buren-ar-72956/320-to-838',
        'https://www.apartments.com/indianapolis-in-46227/400-to-1000',
        'https://www.apartments.com/hamden-ct-6514/560-to-1198',
        'https://www.apartments.com/greensboro-nc-27405/400-to-1000',
        'https://www.apartments.com/los-banos-ca-93635/400-to-1000',
        'https://www.apartments.com/los-angeles-ca-90031/1000-to-1200',
        'https://www.apartments.com/austin-tx-78701/320-to-838',
        'https://www.apartments.com/lancaster-sc-29720/320-to-838',
        'https://www.apartments.com/fayetteville-tn-37334/560-to-1198',
        'https://www.apartments.com/apple-valley-ca-92307/560-to-1198',
        'https://www.apartments.com/michigan-city-in-46360/560-to-1198',
        'https://www.apartments.com/cleveland-oh-44120/320-to-838',
        'https://www.apartments.com/roanoke-va-24017/400-to-1000',
        'https://www.apartments.com/holyoke-ma-1040/400-to-1000',
        'https://www.apartments.com/opelousas-la-70570/320-to-838',
        'https://www.apartments.com/lawrence-ma-1841/400-to-1000',
        'https://www.apartments.com/nan-nan-27415/400-to-1000',
        'https://www.apartments.com/rio-rancho-nm-87124/1000-to-1200',
        'https://www.apartments.com/fort-worth-tx-76179/560-to-1198',
        'https://www.apartments.com/harrisburg-nc-28075/400-to-1000',
        'https://www.apartments.com/tucson-az-85701/319-to-478',
        'https://www.apartments.com/tacoma-wa-98404/400-to-1000',
        'https://www.apartments.com/plainfield-il-60544/320-to-838',
        'https://www.apartments.com/manassas-va-20111/320-to-838',
        'https://www.apartments.com/los-angeles-ca-90001/1000-to-1200',
        'https://www.apartments.com/fayetteville-ar-72703/400-to-1000',
        'https://www.apartments.com/middletown-oh-45042/560-to-1198',
        'https://www.apartments.com/wilmington-nc-28401/400-to-1000',
        'https://www.apartments.com/crystal-river-fl-34428/400-to-1000',
        'https://www.apartments.com/tulsa-ok-74103/560-to-1198',
        'https://www.apartments.com/jacksonville-fl-32209/320-to-838',
        'https://www.apartments.com/la-grange-nc-28551/560-to-1198',
        'https://www.apartments.com/rialto-ca-92376/400-to-1000',
        'https://www.apartments.com/sevierville-tn-37876/400-to-1000',
        'https://www.apartments.com/cleburne-tx-76031/400-to-1000',
        'https://www.apartments.com/lombard-il-60148/400-to-1000',
        'https://www.apartments.com/norwalk-ca-90650/320-to-838',
        'https://www.apartments.com/tucson-az-85730/400-to-1000',
        'https://www.apartments.com/memphis-tn-38108/400-to-1000',
        'https://www.apartments.com/akron-oh-44311/400-to-1000',
        'https://www.apartments.com/lakeland-fl-33801/320-to-838',
        'https://www.apartments.com/petersburg-va-23805/320-to-838',
        'https://www.apartments.com/ravenna-mi-49451/320-to-838',
        'https://www.apartments.com/horn-lake-ms-38637/320-to-838',
        'https://www.apartments.com/columbus-oh-43232/400-to-1000',
        'https://www.apartments.com/santa-rosa-ca-95407/1000-to-1200',
        'https://www.apartments.com/torrington-ct-6790/560-to-1198',
        'https://www.apartments.com/jefferson-ga-30549/400-to-1000',
        'https://www.apartments.com/chicago-il-60641/400-to-1000',
        'https://www.apartments.com/groveport-oh-43125/400-to-1000',
        'https://www.apartments.com/topeka-ks-66606/560-to-1198',
        'https://www.apartments.com/fayetteville-nc-28301/400-to-1000',
        'https://www.apartments.com/carencro-la-70520/400-to-1000',
        'https://www.apartments.com/adairsville-ga-30103/560-to-1198',
        'https://www.apartments.com/stroudsburg-pa-18360/560-to-1198',
        'https://www.apartments.com/azle-tx-76020/320-to-838',
        'https://www.apartments.com/west-jefferson-nc-28694/400-to-1000',
        'https://www.apartments.com/ripley-tn-38063/560-to-1198',
        'https://www.apartments.com/denver-co-80233/400-to-1000',
        'https://www.apartments.com/richmond-va-23219/560-to-1198',
        'https://www.apartments.com/anniston-al-36206/400-to-1000',
        'https://www.apartments.com/saint-cloud-mn-56301/1000-to-1200',
        'https://www.apartments.com/ventura-ca-93001/1000-to-1200',
        'https://www.apartments.com/lancaster-tx-75146/320-to-838',
        'https://www.apartments.com/perth-amboy-nj-8861/1000-to-1200',
        'https://www.apartments.com/ceres-ca-95307/400-to-1000',
        'https://www.apartments.com/antioch-ca-94509/400-to-1000',
        'https://www.apartments.com/chicago-il-60618/400-to-1000',
        'https://www.apartments.com/egg-harbor-township-nj-8234/400-to-1000',
        'https://www.apartments.com/middletown-ct-6457/400-to-1000',
        'https://www.apartments.com/kingsport-tn-37663/320-to-838',
        'https://www.apartments.com/pompano-beach-fl-33064/400-to-1000',
        'https://www.apartments.com/sacramento-ca-95811/320-to-838',
        'https://www.apartments.com/gary-in-46403/560-to-1198',
        'https://www.apartments.com/lathrop-ca-95330/400-to-1000',
        'https://www.apartments.com/manchester-nh-3101/320-to-838',
        'https://www.apartments.com/ann-arbor-mi-48108/400-to-1000',
        'https://www.apartments.com/gastonia-nc-28054/320-to-838',
        'https://www.apartments.com/medford-or-97504/319-to-478',
        'https://www.apartments.com/marshville-nc-28103/319-to-478',
        'https://www.apartments.com/goshen-in-46526/319-to-478',
        'https://www.apartments.com/punta-gorda-fl-33955/1000-to-1200',
        'https://www.apartments.com/sunland-ca-91040/400-to-1000',
        'https://www.apartments.com/salisbury-md-21804/319-to-478',
        'https://www.apartments.com/nan-nan-29305/1000-to-1200',
        'https://www.apartments.com/ogden-ut-84401/560-to-1198',
        'https://www.apartments.com/myrtle-beach-sc-29579/560-to-1198',
        'https://www.apartments.com/ahoskie-nc-27910/320-to-838',
        'https://www.apartments.com/miami-fl-33137/560-to-1198',
        'https://www.apartments.com/miami-fl-33169/400-to-1000',
        'https://www.apartments.com/quinlan-tx-75474/400-to-1000',
        'https://www.apartments.com/delco-nc-28436/320-to-838',
        'https://www.apartments.com/kenosha-wi-53140/320-to-838',
        'https://www.apartments.com/ulster-pa-18850/319-to-478',
        'https://www.apartments.com/phoenix-az-85027/400-to-1000',
        'https://www.apartments.com/celina-oh-45822/320-to-838',
        'https://www.apartments.com/east-orange-nj-7018/1000-to-1200',
        'https://www.apartments.com/brawley-ca-92227/320-to-838',
        'https://www.apartments.com/longview-wa-98632/400-to-1000',
        'https://www.apartments.com/phoenix-az-85023/400-to-1000',
        'https://www.apartments.com/spokane-wa-99217/319-to-478',
        'https://www.apartments.com/belding-mi-48809/319-to-478',
        'https://www.apartments.com/tulsa-ok-74136/320-to-838',
        'https://www.apartments.com/phoenix-az-85019/320-to-838',
        'https://www.apartments.com/modesto-ca-95351/560-to-1198',
        'https://www.apartments.com/austin-tx-78745/400-to-1000',
        'https://www.apartments.com/okeechobee-fl-34974/320-to-838',
        'https://www.apartments.com/adelanto-ca-92301/400-to-1000',
        'https://www.apartments.com/burlington-nc-27215/320-to-838',
        'https://www.apartments.com/birmingham-al-35211/319-to-478',
        'https://www.apartments.com/north-tonawanda-ny-14120/560-to-1198',
        'https://www.apartments.com/russellville-al-35654/400-to-1000',
        'https://www.apartments.com/kansas-city-mo-64134/560-to-1198',
        'https://www.apartments.com/port-jefferson-station-ny-11776/400-to-1000',
        'https://www.apartments.com/waynesboro-pa-17268/320-to-838',
        'https://www.apartments.com/baltimore-md-21223/320-to-838',
        'https://www.apartments.com/terre-haute-in-47802/400-to-1000',
        'https://www.apartments.com/scranton-pa-18503/320-to-838',
        'https://www.apartments.com/billings-mt-59102/400-to-1000',
        'https://www.apartments.com/nan-nan-96079/319-to-478',
        'https://www.apartments.com/federalsburg-md-21632/319-to-478',
        'https://www.apartments.com/oceanside-ca-92056/400-to-1000',
        'https://www.apartments.com/stockton-ca-95206/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30349/400-to-1000',
        'https://www.apartments.com/dandridge-tn-37725/400-to-1000',
        'https://www.apartments.com/trenton-nj-8609/560-to-1198',
        'https://www.apartments.com/paramount-ca-90723/400-to-1000',
        'https://www.apartments.com/south-bend-in-46619/560-to-1198',
        'https://www.apartments.com/columbus-oh-43224/400-to-1000',
        'https://www.apartments.com/docena-al-35060/560-to-1198',
        'https://www.apartments.com/saint-johnsbury-vt-5819/400-to-1000',
        'https://www.apartments.com/oklahoma-city-ok-73160/320-to-838',
        'https://www.apartments.com/wichita-ks-67218/400-to-1000',
        'https://www.apartments.com/new-haven-in-46774/400-to-1000',
        'https://www.apartments.com/bradenton-fl-34209/320-to-838',
        'https://www.apartments.com/columbia-sc-29205/320-to-838',
        'https://www.apartments.com/kokomo-in-46901/320-to-838',
        'https://www.apartments.com/sugar-land-tx-77479/400-to-1000',
        'https://www.apartments.com/lebanon-tn-37090/319-to-478',
        'https://www.apartments.com/norwood-pa-19074/400-to-1000',
        'https://www.apartments.com/sacramento-ca-95820/560-to-1198',
        'https://www.apartments.com/pittsburg-ca-94565/1000-to-1200',
        'https://www.apartments.com/colorado-springs-co-80911/400-to-1000',
        'https://www.apartments.com/birmingham-al-35212/319-to-478',
        'https://www.apartments.com/new-port-richey-fl-34653/320-to-838',
        'https://www.apartments.com/albuquerque-nm-87105/320-to-838',
        'https://www.apartments.com/las-vegas-nv-89122/400-to-1000',
        'https://www.apartments.com/portsmouth-va-23702/320-to-838',
        'https://www.apartments.com/olympia-fields-il-60461/320-to-838',
        'https://www.apartments.com/calumet-city-il-60409/560-to-1198',
        'https://www.apartments.com/mattapan-ma-2126/400-to-1000',
        'https://www.apartments.com/chattanooga-tn-37406/320-to-838',
        'https://www.apartments.com/texarkana-tx-75503/320-to-838',
        'https://www.apartments.com/phoenix-az-85032/1000-to-1200',
        'https://www.apartments.com/lithonia-ga-30058/320-to-838'



        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
