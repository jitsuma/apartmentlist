import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/pensacola-fl-32514/400-to-1000',
        'https://www.apartments.com/chattanooga-tn-37402/319-to-478',
        'https://www.apartments.com/fort-worth-tx-76103/320-to-838',
        'https://www.apartments.com/chicago-il-60610/400-to-1000',
        'https://www.apartments.com/costa-mesa-ca-92626/1000-to-1200',
        'https://www.apartments.com/salisbury-md-21804/320-to-838',
        'https://www.apartments.com/shallotte-nc-28470/560-to-1198',
        'https://www.apartments.com/largo-fl-33774/400-to-1000',
        'https://www.apartments.com/augusta-ga-30904/560-to-1198',
        'https://www.apartments.com/fresno-ca-93721/400-to-1000',
        'https://www.apartments.com/daytona-beach-fl-32114/400-to-1000',
        'https://www.apartments.com/sarasota-fl-34231/400-to-1000',
        'https://www.apartments.com/fairburn-ga-30213/400-to-1000',
        'https://www.apartments.com/independence-ky-41051/560-to-1198',
        'https://www.apartments.com/springfield-mo-65802/400-to-1000',
        'https://www.apartments.com/mansfield-ma-2048/1000-to-1200',
        'https://www.apartments.com/knoxville-tn-37921/400-to-1000',
        'https://www.apartments.com/london-ky-40741/400-to-1000',
        'https://www.apartments.com/anchorage-ak-99503/400-to-1000',
        'https://www.apartments.com/trumann-ar-72472/320-to-838',
        'https://www.apartments.com/mills-river-nc-28759/320-to-838',
        'https://www.apartments.com/lyman-sc-29365/320-to-838',
        'https://www.apartments.com/edgewater-fl-32141/400-to-1000',
        'https://www.apartments.com/saint-clair-shores-mi-48082/400-to-1000',
        'https://www.apartments.com/las-cruces-nm-88007/400-to-1000',
        'https://www.apartments.com/kinston-nc-28501/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19148/319-to-478',
        'https://www.apartments.com/louisville-ky-40217/320-to-838',
        'https://www.apartments.com/urbana-oh-43078/320-to-838',
        'https://www.apartments.com/baton-rouge-la-70805/400-to-1000',
        'https://www.apartments.com/pontiac-mi-48340/560-to-1198',
        'https://www.apartments.com/jefferson-tx-75657/320-to-838',
        'https://www.apartments.com/nan-nan-33929/400-to-1000',
        'https://www.apartments.com/enid-ok-73701/320-to-838',
        'https://www.apartments.com/lincoln-ne-68503/400-to-1000',
        'https://www.apartments.com/durham-nc-27703/400-to-1000',
        'https://www.apartments.com/henderson-nc-27536/319-to-478',
        'https://www.apartments.com/dublin-ga-31021/319-to-478',
        'https://www.apartments.com/tulsa-ok-74103/319-to-478',
        'https://www.apartments.com/bakersfield-ca-93306/319-to-478',
        'https://www.apartments.com/palm-bay-fl-32907/560-to-1198',
        'https://www.apartments.com/hayden-al-35079/400-to-1000',
        'https://www.apartments.com/el-paso-tx-79936/400-to-1000',
        'https://www.apartments.com/pittsfield-ma-1201/400-to-1000',
        'https://www.apartments.com/burlington-ia-52601/400-to-1000',
        'https://www.apartments.com/jacksonville-fl-32202/319-to-478',
        'https://www.apartments.com/dallas-tx-75228/560-to-1198',
        'https://www.apartments.com/nan-nan-40641/320-to-838',
        'https://www.apartments.com/mount-morris-mi-48458/400-to-1000',
        'https://www.apartments.com/austin-tx-78747/320-to-838',
        'https://www.apartments.com/hagerstown-md-21740/320-to-838',
        'https://www.apartments.com/cortez-co-81321/320-to-838',
        'https://www.apartments.com/valparaiso-in-46383/400-to-1000',
        'https://www.apartments.com/buffalo-ny-14209/320-to-838',
        'https://www.apartments.com/columbus-ms-39705/320-to-838',
        'https://www.apartments.com/keller-tx-76244/400-to-1000',
        'https://www.apartments.com/dillon-sc-29536/319-to-478',
        'https://www.apartments.com/las-vegas-nv-89117/400-to-1000',
        'https://www.apartments.com/butte-mt-59701/560-to-1198',
        'https://www.apartments.com/harrisburg-pa-17109/400-to-1000',
        'https://www.apartments.com/nan-nan-37668/400-to-1000',
        'https://www.apartments.com/new-castle-de-19720/400-to-1000',
        'https://www.apartments.com/tobyhanna-pa-18466/1000-to-1200',
        'https://www.apartments.com/bothell-wa-98011/1000-to-1200',
        'https://www.apartments.com/philadelphia-pa-19146/320-to-838',
        'https://www.apartments.com/south-elgin-il-60177/560-to-1198',
        'https://www.apartments.com/hampton-va-23666/400-to-1000',
        'https://www.apartments.com/casselberry-fl-32707/400-to-1000',
        'https://www.apartments.com/tulsa-ok-74106/320-to-838',
        'https://www.apartments.com/massillon-oh-44646/320-to-838',
        'https://www.apartments.com/dale-in-47523/320-to-838',
        'https://www.apartments.com/apple-valley-ca-92307/400-to-1000',
        'https://www.apartments.com/albuquerque-nm-87108/400-to-1000',
        'https://www.apartments.com/kingston-pa-18704/560-to-1198',
        'https://www.apartments.com/salt-lake-city-ut-84119/400-to-1000',
        'https://www.apartments.com/orlando-fl-32801/1000-to-1200',
        'https://www.apartments.com/clearwater-fl-33755/400-to-1000',
        'https://www.apartments.com/texas-city-tx-77590/320-to-838',
        'https://www.apartments.com/kellyville-ok-74039/320-to-838',
        'https://www.apartments.com/baytown-tx-77520/400-to-1000',
        'https://www.apartments.com/cleveland-oh-44111/400-to-1000',
        'https://www.apartments.com/fruita-co-81521/560-to-1198',
        'https://www.apartments.com/lake-wales-fl-33853/320-to-838',
        'https://www.apartments.com/clarksville-tn-37040/400-to-1000',
        'https://www.apartments.com/phoenix-az-85040/400-to-1000',
        'https://www.apartments.com/la-vista-ne-68128/320-to-838',
        'https://www.apartments.com/garland-tx-75043/320-to-838',
        'https://www.apartments.com/citrus-heights-ca-95610/1000-to-1200',
        'https://www.apartments.com/pomona-ca-91767/320-to-838',
        'https://www.apartments.com/lubbock-tx-79401/560-to-1198',
        'https://www.apartments.com/seffner-fl-33584/400-to-1000',
        'https://www.apartments.com/kansas-city-mo-64106/320-to-838',
        'https://www.apartments.com/columbus-oh-43207/400-to-1000',
        'https://www.apartments.com/tucson-az-85739/1000-to-1200',
        'https://www.apartments.com/riverdale-il-60827/400-to-1000',
        'https://www.apartments.com/jacksonville-ar-72076/320-to-838',
        'https://www.apartments.com/star-nc-27356/400-to-1000',
        'https://www.apartments.com/nan-nan-24774/320-to-838',
        'https://www.apartments.com/humboldt-tn-0/400-to-1000',
        'https://www.apartments.com/nan-nan-33758/400-to-1000',
        'https://www.apartments.com/stockton-ca-95203/319-to-478',
        'https://www.apartments.com/flint-mi-48507/320-to-838',
        'https://www.apartments.com/charlotte-nc-28215/400-to-1000',
        'https://www.apartments.com/phoenix-az-85041/400-to-1000',
        'https://www.apartments.com/memphis-tn-38114/560-to-1198',
        'https://www.apartments.com/newark-nj-7106/400-to-1000',
        'https://www.apartments.com/fayetteville-nc-28301/400-to-1000',
        'https://www.apartments.com/stafford-springs-ct-6076/400-to-1000',
        'https://www.apartments.com/potts-camp-ms-38659/400-to-1000',
        'https://www.apartments.com/alpena-mi-49707/319-to-478',
        'https://www.apartments.com/maysville-ky-41056/400-to-1000',
        'https://www.apartments.com/sioux-city-ia-51105/400-to-1000',
        'https://www.apartments.com/twentynine-palms-ca-92277/400-to-1000',
        'https://www.apartments.com/pembroke-nc-28372/320-to-838',
        'https://www.apartments.com/oklahoma-city-ok-73129/560-to-1198',
        'https://www.apartments.com/lynchburg-va-24501/320-to-838',
        'https://www.apartments.com/waverly-oh-45690/400-to-1000',
        'https://www.apartments.com/hampton-va-23663/400-to-1000',
        'https://www.apartments.com/dorchester-ma-2121/319-to-478',
        'https://www.apartments.com/harrison-ar-72601/320-to-838',
        'https://www.apartments.com/kenosha-wi-53142/560-to-1198',
        'https://www.apartments.com/punta-gorda-fl-33983/400-to-1000',
        'https://www.apartments.com/rio-linda-ca-95673/400-to-1000',
        'https://www.apartments.com/greeley-co-80634/320-to-838',
        'https://www.apartments.com/corpus-christi-tx-78407/560-to-1198',
        'https://www.apartments.com/saint-george-ut-84790/400-to-1000',
        'https://www.apartments.com/nan-nan-62137/319-to-478',
        'https://www.apartments.com/killeen-tx-76542/400-to-1000',
        'https://www.apartments.com/saint-louis-mo-63118/400-to-1000',
        'https://www.apartments.com/snow-camp-nc-27349/319-to-478',
        'https://www.apartments.com/sharon-pa-16146/400-to-1000',
        'https://www.apartments.com/port-jervis-ny-12771/560-to-1198',
        'https://www.apartments.com/oxford-ms-38655/320-to-838',
        'https://www.apartments.com/cleveland-oh-44144/320-to-838',
        'https://www.apartments.com/bessemer-city-nc-28016/400-to-1000',
        'https://www.apartments.com/rocky-mount-nc-27801/400-to-1000',
        'https://www.apartments.com/terryville-ct-6786/320-to-838',
        'https://www.apartments.com/port-aransas-tx-78373/320-to-838',
        'https://www.apartments.com/graham-tx-76450/320-to-838',
        'https://www.apartments.com/sweetwater-tn-37874/319-to-478',
        'https://www.apartments.com/saint-petersburg-fl-33707/400-to-1000',
        'https://www.apartments.com/lawrenceville-ga-30044/400-to-1000',
        'https://www.apartments.com/fullerton-ca-92831/400-to-1000',
        'https://www.apartments.com/mount-laurel-nj-8054/1000-to-1200',
        'https://www.apartments.com/conyers-ga-30013/560-to-1198',
        'https://www.apartments.com/portland-or-97203/400-to-1000',
        'https://www.apartments.com/sparta-tn-38583/320-to-838',
        'https://www.apartments.com/chehalis-wa-98532/320-to-838',
        'https://www.apartments.com/fort-worth-tx-76105/400-to-1000',
        'https://www.apartments.com/graham-nc-27253/319-to-478',
        'https://www.apartments.com/albuquerque-nm-87105/320-to-838',
        'https://www.apartments.com/toledo-oh-43617/320-to-838',
        'https://www.apartments.com/nan-nan-228/560-to-1198',
        'https://www.apartments.com/lincoln-ca-95648/400-to-1000',
        'https://www.apartments.com/chesapeake-va-23321/400-to-1000',
        'https://www.apartments.com/killeen-tx-76541/560-to-1198',
        'https://www.apartments.com/pea-ridge-ar-72751/560-to-1198',
        'https://www.apartments.com/asheville-nc-28804/320-to-838',
        'https://www.apartments.com/memphis-tn-38112/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19102/560-to-1198',
        'https://www.apartments.com/cleveland-oh-44120/400-to-1000',
        'https://www.apartments.com/palm-springs-ca-92262/1000-to-1200',
        'https://www.apartments.com/asheville-nc-28806/560-to-1198',
        'https://www.apartments.com/birmingham-al-35208/400-to-1000',
        'https://www.apartments.com/gainesville-fl-32601/320-to-838',
        'https://www.apartments.com/fort-worth-tx-76133/400-to-1000',
        'https://www.apartments.com/port-saint-lucie-fl-34953/400-to-1000',
        'https://www.apartments.com/farmersville-tx-75442/560-to-1198',
        'https://www.apartments.com/taylor-mi-48180/400-to-1000',
        'https://www.apartments.com/mackville-ky-40040/319-to-478',
        'https://www.apartments.com/pasadena-tx-77503/1000-to-1200',
        'https://www.apartments.com/mooresville-in-46158/400-to-1000',
        'https://www.apartments.com/las-vegas-nv-89123/400-to-1000',
        'https://www.apartments.com/tucson-az-85706/560-to-1198',
        'https://www.apartments.com/greeneville-tn-37743/319-to-478',
        'https://www.apartments.com/lexington-ky-40511/560-to-1198',
        'https://www.apartments.com/nacogdoches-tx-75964/320-to-838',
        'https://www.apartments.com/philadelphia-pa-19140/560-to-1198',
        'https://www.apartments.com/stephens-city-va-22655/400-to-1000',
        'https://www.apartments.com/milwaukee-wi-53223/320-to-838',
        'https://www.apartments.com/wildwood-nj-8260/560-to-1198',
        'https://www.apartments.com/madisonville-la-70447/400-to-1000',
        'https://www.apartments.com/wallkill-ny-12589/400-to-1000',
        'https://www.apartments.com/chester-sc-29706/320-to-838',
        'https://www.apartments.com/sacramento-ca-95823/400-to-1000',
        'https://www.apartments.com/wilmington-nc-28405/400-to-1000',
        'https://www.apartments.com/supply-nc-28462/400-to-1000',
        'https://www.apartments.com/douglasville-ga-30135/400-to-1000',
        'https://www.apartments.com/middletown-oh-45042/400-to-1000',
        'https://www.apartments.com/humble-tx-77338/400-to-1000',
        'https://www.apartments.com/tampa-fl-33604/400-to-1000',
        'https://www.apartments.com/new-bloomfield-pa-17068/400-to-1000',
        'https://www.apartments.com/englewood-co-80113/400-to-1000',
        'https://www.apartments.com/winston-salem-nc-27106/320-to-838',
        'https://www.apartments.com/lancaster-pa-17603/319-to-478',
        'https://www.apartments.com/acton-ma-1720/400-to-1000',
        'https://www.apartments.com/edinburg-tx-78541/400-to-1000',
        'https://www.apartments.com/tualatin-or-97062/1000-to-1200',
        'https://www.apartments.com/spokane-wa-99212/1000-to-1200',
        'https://www.apartments.com/atlanta-ga-30331/320-to-838',
        'https://www.apartments.com/sanford-nc-27330/400-to-1000',
        'https://www.apartments.com/new-york-ny-10001/1000-to-1200',
        'https://www.apartments.com/tucson-az-85746/400-to-1000',
        'https://www.apartments.com/kaysville-ut-84037/560-to-1198',
        'https://www.apartments.com/bakersfield-ca-93304/1000-to-1200',
        'https://www.apartments.com/detroit-mi-48228/320-to-838',
        'https://www.apartments.com/tucson-az-85713/400-to-1000',
        'https://www.apartments.com/amarillo-tx-79106/400-to-1000',
        'https://www.apartments.com/rossville-ga-30741/320-to-838',
        'https://www.apartments.com/milwaukee-wi-53204/320-to-838',
        'https://www.apartments.com/columbia-md-21045/560-to-1198',
        'https://www.apartments.com/santa-barbara-ca-93101/400-to-1000',
        'https://www.apartments.com/nan-nan-5340/400-to-1000',
        'https://www.apartments.com/concord-nc-28027/400-to-1000',
        'https://www.apartments.com/griffin-ga-30223/560-to-1198',
        'https://www.apartments.com/appleton-wi-54914/400-to-1000',
        'https://www.apartments.com/austin-tx-78753/400-to-1000',
        'https://www.apartments.com/phenix-city-al-36869/400-to-1000',
        'https://www.apartments.com/brooklyn-ny-11221/400-to-1000',
        'https://www.apartments.com/springfield-mo-65807/320-to-838',
        'https://www.apartments.com/murrieta-ca-92563/400-to-1000',
        'https://www.apartments.com/oakland-ca-94612/400-to-1000',
        'https://www.apartments.com/nan-nan-86304/400-to-1000',
        'https://www.apartments.com/new-london-wi-54961/400-to-1000',
        'https://www.apartments.com/san-antonio-tx-78213/400-to-1000',
        'https://www.apartments.com/glassboro-nj-8028/400-to-1000',
        'https://www.apartments.com/richmond-va-23223/400-to-1000',
        'https://www.apartments.com/antioch-ca-94531/400-to-1000',
        'https://www.apartments.com/baltimore-md-21217/400-to-1000',
        'https://www.apartments.com/edmonds-wa-98026/400-to-1000',
        'https://www.apartments.com/tulare-ca-93274/319-to-478',
        'https://www.apartments.com/columbia-mo-65203/320-to-838',
        'https://www.apartments.com/little-sioux-ia-51545/400-to-1000',
        'https://www.apartments.com/joshua-tree-ca-92252/400-to-1000',
        'https://www.apartments.com/la-vernia-tx-78121/400-to-1000',
        'https://www.apartments.com/deltona-fl-32725/560-to-1198',
        'https://www.apartments.com/marco-island-fl-34145/1000-to-1200',
        'https://www.apartments.com/chicago-il-60620/400-to-1000',
        'https://www.apartments.com/middletown-ct-6457/400-to-1000',
        'https://www.apartments.com/leesburg-fl-34748/400-to-1000',
        'https://www.apartments.com/north-fort-myers-fl-33903/400-to-1000',
        'https://www.apartments.com/carrollton-ga-30117/400-to-1000',
        'https://www.apartments.com/tacoma-wa-98409/319-to-478',
        'https://www.apartments.com/aiken-sc-29803/400-to-1000',
        'https://www.apartments.com/grand-rapids-mi-49512/320-to-838',
        'https://www.apartments.com/nan-nan-64115/400-to-1000',
        'https://www.apartments.com/upper-marlboro-md-20774/400-to-1000',
        'https://www.apartments.com/oakland-ca-94606/400-to-1000',
        'https://www.apartments.com/brunswick-ga-31525/400-to-1000',
        'https://www.apartments.com/pensacola-fl-32506/400-to-1000',
        'https://www.apartments.com/lynn-haven-fl-32444/400-to-1000',
        'https://www.apartments.com/kaufman-tx-75142/400-to-1000',
        'https://www.apartments.com/albuquerque-nm-87106/400-to-1000',
        'https://www.apartments.com/yuba-city-ca-95991/400-to-1000',
        'https://www.apartments.com/saint-petersburg-fl-33710/400-to-1000',
        'https://www.apartments.com/santa-paula-ca-93060/1000-to-1200',
        'https://www.apartments.com/hollywood-fl-33020/400-to-1000',
        'https://www.apartments.com/colorado-springs-co-80925/400-to-1000',
        'https://www.apartments.com/apopka-fl-32703/400-to-1000',
        'https://www.apartments.com/farmington-mo-63640/560-to-1198',
        'https://www.apartments.com/fort-worth-tx-76137/400-to-1000',
        'https://www.apartments.com/nan-nan-95424/400-to-1000',
        'https://www.apartments.com/mcminnville-or-97128/319-to-478',
        'https://www.apartments.com/waycross-ga-31501/400-to-1000',
        'https://www.apartments.com/goldsboro-nc-27530/320-to-838',
        'https://www.apartments.com/salisbury-nc-28146/560-to-1198',
        'https://www.apartments.com/sacramento-ca-95827/400-to-1000',
        'https://www.apartments.com/birmingham-al-35203/400-to-1000',
        'https://www.apartments.com/lancaster-ca-93535/400-to-1000',
        'https://www.apartments.com/mitchell-sd-57301/400-to-1000',
        'https://www.apartments.com/bethlehem-pa-18020/319-to-478',
        'https://www.apartments.com/delano-ca-93215/320-to-838',
        'https://www.apartments.com/bullhead-city-az-86442/320-to-838',
        'https://www.apartments.com/kansas-ok-74347/400-to-1000',
        'https://www.apartments.com/tahlequah-ok-74464/320-to-838'



        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
