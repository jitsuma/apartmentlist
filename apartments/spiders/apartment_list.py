import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/statesville-nc-28625/560-to-1198',
        'https://www.apartments.com/portsmouth-va-23703/560-to-1198',
        'https://www.apartments.com/bedford-tx-76021/560-to-1198',
        'https://www.apartments.com/cookeville-tn-38501/560-to-1198',
        'https://www.apartments.com/columbus-ga-31904/320-to-838',
        'https://www.apartments.com/wilmington-de-0/400-to-1000',
        'https://www.apartments.com/milwaukee-wi-53221/1000-to-1200',
        'https://www.apartments.com/fayetteville-nc-28314/320-to-838',
        'https://www.apartments.com/fort-worth-tx-76179/560-to-1198',
        'https://www.apartments.com/conway-ar-72034/560-to-1198',
        'https://www.apartments.com/port-richey-fl-34668/320-to-838',
        'https://www.apartments.com/holland-mi-49424/560-to-1198',
        'https://www.apartments.com/stuarts-draft-va-24477/320-to-838',
        'https://www.apartments.com/siler-city-nc-27344/560-to-1198',
        'https://www.apartments.com/cleveland-oh-44108/320-to-838',
        'https://www.apartments.com/higginsville-mo-64037/560-to-1198',
        'https://www.apartments.com/pasadena-ca-91103/560-to-1198',
        'https://www.apartments.com/dublin-ga-31021/319-to-478',
        'https://www.apartments.com/richmond-va-23223/319-to-478',
        'https://www.apartments.com/lenoir-city-tn-37771/560-to-1198',
        'https://www.apartments.com/butler-pa-16002/320-to-838',
        'https://www.apartments.com/athens-al-35613/560-to-1198',
        'https://www.apartments.com/wyncote-pa-19095/560-to-1198',
        'https://www.apartments.com/crestview-fl-32536/320-to-838',
        'https://www.apartments.com/defiance-oh-43512/320-to-838',
        'https://www.apartments.com/nan-nan-36838/320-to-838',
        'https://www.apartments.com/mason-city-ia-50401/320-to-838',
        'https://www.apartments.com/peoria-il-61604/320-to-838',
        'https://www.apartments.com/bunnell-fl-32110/560-to-1198',
        'https://www.apartments.com/glendale-az-85308/320-to-838',
        'https://www.apartments.com/fort-wayne-in-46808/320-to-838',
        'https://www.apartments.com/columbia-sc-29223/320-to-838',
        'https://www.apartments.com/toledo-oh-43611/320-to-838',
        'https://www.apartments.com/essex-md-21221/320-to-838',
        'https://www.apartments.com/waterford-mi-48328/319-to-478',
        'https://www.apartments.com/nashville-tn-37218/320-to-838',
        'https://www.apartments.com/hastings-on-hudson-ny-10706/319-to-478',
        'https://www.apartments.com/orlando-fl-32817/1000-to-1200',
        'https://www.apartments.com/atlanta-ga-30339/320-to-838',
        'https://www.apartments.com/west-monroe-la-71291/320-to-838',
        'https://www.apartments.com/phoenix-az-85021/560-to-1198',
        'https://www.apartments.com/inkster-mi-48141/320-to-838',
        'https://www.apartments.com/memphis-tn-38106/320-to-838',
        'https://www.apartments.com/chicago-il-60621/320-to-838',
        'https://www.apartments.com/fountain-inn-sc-29644/319-to-478',
        'https://www.apartments.com/hammond-la-70401/320-to-838',
        'https://www.apartments.com/davenport-ia-52807/320-to-838',
        'https://www.apartments.com/texarkana-ar-71854/320-to-838',
        'https://www.apartments.com/dayton-tx-77535/320-to-838',
        'https://www.apartments.com/valdosta-ga-31602/560-to-1198',
        'https://www.apartments.com/buffalo-ny-14213/560-to-1198',
        'https://www.apartments.com/norfolk-va-23508/1000-to-1200',
        'https://www.apartments.com/philadelphia-pa-19150/1000-to-1200',
        'https://www.apartments.com/lufkin-tx-75904/320-to-838',
        'https://www.apartments.com/baltimore-md-21215/560-to-1198',
        'https://www.apartments.com/chicago-il-60638/320-to-838',
        'https://www.apartments.com/shelbyville-in-46176/560-to-1198',
        'https://www.apartments.com/conyers-ga-30094/560-to-1198',
        'https://www.apartments.com/miami-fl-33162/560-to-1198',
        'https://www.apartments.com/conroe-tx-77302/560-to-1198',
        'https://www.apartments.com/jacksonville-fl-32204/319-to-478',
        'https://www.apartments.com/north-augusta-sc-29841/560-to-1198',
        'https://www.apartments.com/macon-ga-31204/560-to-1198',
        'https://www.apartments.com/clayton-nc-27527/319-to-478',
        'https://www.apartments.com/new-carlisle-oh-45344/320-to-838',
        'https://www.apartments.com/lathrop-ca-95330/1000-to-1200',
        'https://www.apartments.com/panama-city-fl-32408/319-to-478',
        'https://www.apartments.com/fort-worth-tx-76116/560-to-1198',
        'https://www.apartments.com/indianapolis-in-46234/320-to-838',
        'https://www.apartments.com/hazlehurst-ga-31539/319-to-478',
        'https://www.apartments.com/mobile-al-36607/320-to-838',
        'https://www.apartments.com/houston-tx-77029/320-to-838',
        'https://www.apartments.com/chester-pa-19013/319-to-478',
        'https://www.apartments.com/scottsboro-al-35768/319-to-478',
        'https://www.apartments.com/philadelphia-pa-19142/560-to-1198',
        'https://www.apartments.com/clearwater-fl-33765/319-to-478',
        'https://www.apartments.com/indianapolis-in-46235/560-to-1198',
        'https://www.apartments.com/little-rock-ar-72206/560-to-1198',
        'https://www.apartments.com/tampa-fl-33602/320-to-838',
        'https://www.apartments.com/atlanta-ga-30349/560-to-1198',
        'https://www.apartments.com/hartford-ct-6105/560-to-1198',
        'https://www.apartments.com/greensboro-nc-27403/320-to-838',
        'https://www.apartments.com/kalamazoo-mi-49004/560-to-1198',
        'https://www.apartments.com/heflin-la-71039/320-to-838',
        'https://www.apartments.com/myrtle-beach-sc-29577/320-to-838',
        'https://www.apartments.com/beaufort-sc-29906/320-to-838',
        'https://www.apartments.com/augusta-ga-30906/560-to-1198',
        'https://www.apartments.com/sacramento-ca-95823/320-to-838',
        'https://www.apartments.com/springfield-mo-65802/320-to-838',
        'https://www.apartments.com/valdosta-ga-31601/1000-to-1200',
        'https://www.apartments.com/plainview-tx-79072/319-to-478',
        'https://www.apartments.com/toledo-oh-43612/320-to-838',
        'https://www.apartments.com/sumter-sc-29150/319-to-478',
        'https://www.apartments.com/detroit-mi-48234/320-to-838',
        'https://www.apartments.com/grand-island-ne-68803/320-to-838',
        'https://www.apartments.com/washington-mo-63090/320-to-838',
        'https://www.apartments.com/temple-tx-76504/319-to-478',
        'https://www.apartments.com/rutherfordton-nc-28139/319-to-478',
        'https://www.apartments.com/downers-grove-il-60515/560-to-1198',
        'https://www.apartments.com/washington-dc-20032/320-to-838',
        'https://www.apartments.com/pensacola-fl-32514/1000-to-1200',
        'https://www.apartments.com/mount-morris-mi-48458/320-to-838',
        'https://www.apartments.com/reno-nv-89510/320-to-838',
        'https://www.apartments.com/charlotte-nc-28269/320-to-838',
        'https://www.apartments.com/pelham-al-35124/320-to-838',
        'https://www.apartments.com/aztec-nm-87410/319-to-478',
        'https://www.apartments.com/enfield-ct-6082/320-to-838',
        'https://www.apartments.com/monroe-la-71202/320-to-838',
        'https://www.apartments.com/scranton-pa-18509/560-to-1198',
        'https://www.apartments.com/alice-tx-78332/560-to-1198',
        'https://www.apartments.com/hephzibah-ga-30815/320-to-838',
        'https://www.apartments.com/independence-mo-64052/319-to-478',
        'https://www.apartments.com/fresno-ca-93711/319-to-478',
        'https://www.apartments.com/springfield-oh-45505/319-to-478',
        'https://www.apartments.com/garner-nc-27529/320-to-838',
        'https://www.apartments.com/houston-tx-77088/320-to-838',
        'https://www.apartments.com/lithonia-ga-30038/560-to-1198',
        'https://www.apartments.com/douglasville-ga-30134/1000-to-1200',
        'https://www.apartments.com/north-aurora-il-60542/560-to-1198',
        'https://www.apartments.com/ocala-fl-34472/320-to-838',
        'https://www.apartments.com/frisco-tx-75034/320-to-838',
        'https://www.apartments.com/toledo-oh-43615/320-to-838',
        'https://www.apartments.com/albuquerque-nm-87106/320-to-838',
        'https://www.apartments.com/gaffney-sc-29341/319-to-478',
        'https://www.apartments.com/horn-lake-ms-38637/560-to-1198',
        'https://www.apartments.com/muskogee-ok-74403/319-to-478',
        'https://www.apartments.com/moreno-valley-ca-92557/1000-to-1200',
        'https://www.apartments.com/barberton-oh-44203/320-to-838',
        'https://www.apartments.com/salinas-ca-93907/1000-to-1200',
        'https://www.apartments.com/indianapolis-in-46222/319-to-478',
        'https://www.apartments.com/daytona-beach-fl-32117/319-to-478',
        'https://www.apartments.com/winston-salem-nc-27106/320-to-838',
        'https://www.apartments.com/baton-rouge-la-70805/320-to-838',
        'https://www.apartments.com/deland-fl-32720/1000-to-1200',
        'https://www.apartments.com/clarksville-tn-37040/560-to-1198',
        'https://www.apartments.com/fort-lauderdale-fl-33324/1000-to-1200',
        'https://www.apartments.com/brookfield-ma-1506/1000-to-1200',
        'https://www.apartments.com/harrisburg-pa-17103/320-to-838',
        'https://www.apartments.com/morrilton-ar-72110/320-to-838',
        'https://www.apartments.com/albuquerque-nm-87110/320-to-838',
        'https://www.apartments.com/woodbridge-nj-7095/320-to-838',
        'https://www.apartments.com/troy-ny-12180/560-to-1198',
        'https://www.apartments.com/allentown-pa-18109/1000-to-1200',
        'https://www.apartments.com/newark-nj-7102/320-to-838',
        'https://www.apartments.com/cedar-rapids-ia-52403/320-to-838',
        'https://www.apartments.com/mesa-az-85202/560-to-1198',
        'https://www.apartments.com/jacksonville-nc-28540/560-to-1198',
        'https://www.apartments.com/abilene-tx-79603/560-to-1198',
        'https://www.apartments.com/auburn-ca-95603/320-to-838',
        'https://www.apartments.com/elizabeth-city-nc-27909/320-to-838',
        'https://www.apartments.com/carson-city-nv-89701/560-to-1198',
        'https://www.apartments.com/santa-cruz-ca-95060/560-to-1198',
        'https://www.apartments.com/westland-mi-48186/560-to-1198',
        'https://www.apartments.com/detroit-mi-48238/320-to-838',
        'https://www.apartments.com/covington-ga-30016/320-to-838',
        'https://www.apartments.com/bloomfield-nm-87413/320-to-838',
        'https://www.apartments.com/york-pa-17404/320-to-838',
        'https://www.apartments.com/roseburg-or-97470/560-to-1198',
        'https://www.apartments.com/lima-oh-45804/320-to-838',
        'https://www.apartments.com/pensacola-fl-32505/320-to-838',
        'https://www.apartments.com/ogden-ut-84404/1000-to-1200',
        'https://www.apartments.com/bell-buckle-tn-37020/560-to-1198',
        'https://www.apartments.com/san-antonio-tx-78220/320-to-838',
        'https://www.apartments.com/salt-lake-city-ut-84119/1000-to-1200',
        'https://www.apartments.com/baltimore-md-21224/319-to-478',
        'https://www.apartments.com/tinley-park-il-60477/320-to-838',
        'https://www.apartments.com/brockton-ma-2301/560-to-1198',
        'https://www.apartments.com/las-vegas-nv-89101/560-to-1198',
        'https://www.apartments.com/memphis-tn-38134/320-to-838',
        'https://www.apartments.com/nan-nan-9/320-to-838',
        'https://www.apartments.com/springfield-ma-1108/560-to-1198',
        'https://www.apartments.com/hemet-ca-92544/1000-to-1200',
        'https://www.apartments.com/long-beach-ca-90802/320-to-838',
        'https://www.apartments.com/great-falls-mt-59401/320-to-838',
        'https://www.apartments.com/south-milwaukee-wi-53172/320-to-838',
        'https://www.apartments.com/perth-amboy-nj-8861/560-to-1198',
        'https://www.apartments.com/mesa-az-85203/1000-to-1200',
        'https://www.apartments.com/seattle-wa-98166/320-to-838',
        'https://www.apartments.com/martinsville-va-24112/320-to-838',
        'https://www.apartments.com/dallas-tx-75232/320-to-838',
        'https://www.apartments.com/kansas-city-mo-64127/319-to-478',
        'https://www.apartments.com/las-vegas-nv-89156/1000-to-1200',
        'https://www.apartments.com/reading-pa-19607/320-to-838',
        'https://www.apartments.com/nashville-tn-37207/320-to-838',
        'https://www.apartments.com/marshalltown-ia-50158/320-to-838',
        'https://www.apartments.com/hewitt-tx-76643/1000-to-1200',
        'https://www.apartments.com/san-diego-ca-92128/1000-to-1200',
        'https://www.apartments.com/jacksonville-ar-72076/319-to-478',
        'https://www.apartments.com/hagerstown-md-21740/320-to-838',
        'https://www.apartments.com/carle-place-ny-11514/560-to-1198',
        'https://www.apartments.com/baton-rouge-la-70811/320-to-838',
        'https://www.apartments.com/nashville-tn-37203/319-to-478',
        'https://www.apartments.com/warminster-pa-18974/320-to-838',
        'https://www.apartments.com/whitney-tx-76692/320-to-838',
        'https://www.apartments.com/lawton-ok-73505/320-to-838',
        'https://www.apartments.com/south-bend-in-46613/560-to-1198',
        'https://www.apartments.com/seattle-wa-98198/560-to-1198',
        'https://www.apartments.com/bowie-md-20721/319-to-478',
        'https://www.apartments.com/hampton-va-23664/320-to-838',
        'https://www.apartments.com/omaha-ne-68111/320-to-838',
        'https://www.apartments.com/easley-sc-29642/319-to-478',
        'https://www.apartments.com/marion-in-46953/319-to-478',
        'https://www.apartments.com/tucson-az-85719/320-to-838',
        'https://www.apartments.com/dover-de-19904/320-to-838',
        'https://www.apartments.com/fenton-mo-63026/560-to-1198',
        'https://www.apartments.com/fairbanks-ak-99701/320-to-838',
        'https://www.apartments.com/charlotte-nc-28273/319-to-478',
        'https://www.apartments.com/athens-al-35611/320-to-838',
        'https://www.apartments.com/hutchinson-ks-67502/320-to-838',
        'https://www.apartments.com/cynthiana-ky-41031/320-to-838',
        'https://www.apartments.com/niles-oh-44446/320-to-838',
        'https://www.apartments.com/fountain-fl-32438/560-to-1198',
        'https://www.apartments.com/soledad-ca-93960/560-to-1198',
        'https://www.apartments.com/cleveland-oh-44134/560-to-1198',
        'https://www.apartments.com/jacksonville-fl-32209/320-to-838',
        'https://www.apartments.com/dallas-tx-75215/560-to-1198',
        'https://www.apartments.com/anderson-in-46016/320-to-838',
        'https://www.apartments.com/wichita-ks-67214/320-to-838',
        'https://www.apartments.com/knoxville-tn-37922/320-to-838',
        'https://www.apartments.com/burleson-tx-76028/320-to-838',
        'https://www.apartments.com/portland-or-97223/319-to-478',
        'https://www.apartments.com/kittanning-pa-16201/560-to-1198',
        'https://www.apartments.com/matteson-il-60443/560-to-1198',
        'https://www.apartments.com/hollywood-fl-33024/560-to-1198',
        'https://www.apartments.com/toledo-oh-43607/320-to-838',
        'https://www.apartments.com/nan-nan-4327/319-to-478',
        'https://www.apartments.com/chambersburg-pa-17202/319-to-478',
        'https://www.apartments.com/plant-city-fl-33563/319-to-478',
        'https://www.apartments.com/bakersfield-ca-93304/319-to-478',
        'https://www.apartments.com/randolph-al-36792/319-to-478',
        'https://www.apartments.com/chicago-il-60612/320-to-838',
        'https://www.apartments.com/wildwood-fl-34785/560-to-1198',
        'https://www.apartments.com/boise-id-83702/560-to-1198',
        'https://www.apartments.com/montgomery-al-36117/320-to-838',
        'https://www.apartments.com/baltimore-md-21229/319-to-478',
        'https://www.apartments.com/dania-fl-33004/320-to-838',
        'https://www.apartments.com/haines-city-fl-33844/1000-to-1200',
        'https://www.apartments.com/laurel-md-20707/560-to-1198',
        'https://www.apartments.com/park-forest-il-60466/320-to-838',
        'https://www.apartments.com/saint-paul-mn-55106/320-to-838',
        'https://www.apartments.com/hannibal-mo-63401/320-to-838',
        'https://www.apartments.com/virginia-beach-va-23452/560-to-1198',
        'https://www.apartments.com/calumet-mi-49913/319-to-478',
        'https://www.apartments.com/mesquite-tx-75150/320-to-838',
        'https://www.apartments.com/dewitt-va-23840/1000-to-1200',
        'https://www.apartments.com/clackamas-or-97015/320-to-838',
        'https://www.apartments.com/tampa-fl-33609/320-to-838',
        'https://www.apartments.com/webster-tx-77598/1000-to-1200',
        'https://www.apartments.com/baton-rouge-la-70815/560-to-1198',
        'https://www.apartments.com/flint-mi-48506/319-to-478',
        'https://www.apartments.com/kannapolis-nc-28083/319-to-478',
        'https://www.apartments.com/milwaukee-wi-53224/320-to-838',
        'https://www.apartments.com/largo-fl-33770/560-to-1198',
        'https://www.apartments.com/rochester-ny-14615/320-to-838',
        'https://www.apartments.com/lorain-oh-44052/320-to-838',
        'https://www.apartments.com/winter-haven-fl-33880/320-to-838',
        'https://www.apartments.com/fort-worth-tx-76114/319-to-478',
        'https://www.apartments.com/saint-louis-mo-63146/560-to-1198',
        'https://www.apartments.com/palm-coast-fl-32137/1000-to-1200',
        'https://www.apartments.com/everett-wa-98201/319-to-478',
        'https://www.apartments.com/hillsboro-or-97123/560-to-1198',
        'https://www.apartments.com/raleigh-nc-27604/560-to-1198',
        'https://www.apartments.com/birmingham-al-35209/319-to-478',
        'https://www.apartments.com/caldwell-id-83607/319-to-478',
        'https://www.apartments.com/hopkinsville-ky-42240/560-to-1198',
        'https://www.apartments.com/baytown-tx-77521/320-to-838',
        'https://www.apartments.com/jesup-ga-31546/560-to-1198',
        'https://www.apartments.com/prescott-valley-az-86315/320-to-838',
        'https://www.apartments.com/lowell-ma-1852/560-to-1198',
        'https://www.apartments.com/denver-co-80231/320-to-838',
        'https://www.apartments.com/oakland-ca-94601/1000-to-1200',
        'https://www.apartments.com/redding-ca-96002/320-to-838',
        'https://www.apartments.com/grand-rapids-mi-49505/320-to-838',
        'https://www.apartments.com/denver-co-80219/320-to-838',
        'https://www.apartments.com/memphis-tn-38115/560-to-1198',
        'https://www.apartments.com/richmond-va-23235/319-to-478',
        'https://www.apartments.com/clintonville-wi-54929/320-to-838',
        'https://www.apartments.com/thibodaux-la-70301/560-to-1198',
        'https://www.apartments.com/jonesborough-tn-37659/560-to-1198',
        'https://www.apartments.com/columbus-ga-31907/320-to-838',
        'https://www.apartments.com/augusta-ga-30909/320-to-838',
        'https://www.apartments.com/mesa-az-85201/560-to-1198'

        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
