import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/atlanta-ga-30314/400-to-1000',
        'https://www.apartments.com/pottsville-pa-17901/400-to-1000',
        'https://www.apartments.com/fort-worth-tx-76116/400-to-1000',
        'https://www.apartments.com/sacramento-ca-95826/400-to-1000',
        'https://www.apartments.com/bloomington-il-61701/320-to-838',
        'https://www.apartments.com/martinsburg-wv-25404/400-to-1000',
        'https://www.apartments.com/irving-tx-75060/320-to-838',
        'https://www.apartments.com/irvington-nj-7111/560-to-1198',
        'https://www.apartments.com/shelton-wa-98584/1000-to-1200',
        'https://www.apartments.com/nan-nan-34106/400-to-1000',
        'https://www.apartments.com/milton-fl-32570/400-to-1000',
        'https://www.apartments.com/endicott-ny-13760/400-to-1000',
        'https://www.apartments.com/dover-nh-3820/400-to-1000',
        'https://www.apartments.com/greencastle-in-46135/400-to-1000',
        'https://www.apartments.com/dallas-tx-75231/400-to-1000',
        'https://www.apartments.com/norman-ok-73019/320-to-838',
        'https://www.apartments.com/lanham-md-20706/400-to-1000',
        'https://www.apartments.com/marrero-la-70072/400-to-1000',
        'https://www.apartments.com/norwich-ct-6360/560-to-1198',
        'https://www.apartments.com/elizabethton-tn-37643/400-to-1000',
        'https://www.apartments.com/norwood-ma-0/400-to-1000',
        'https://www.apartments.com/new-baltimore-mi-48051/320-to-838',
        'https://www.apartments.com/jackson-ms-39209/319-to-478',
        'https://www.apartments.com/jacksonville-fl-32256/400-to-1000',
        'https://www.apartments.com/san-bernardino-ca-92411/400-to-1000',
        'https://www.apartments.com/port-richey-fl-34668/320-to-838',
        'https://www.apartments.com/richmond-va-23230/560-to-1198',
        'https://www.apartments.com/newport-news-va-23607/400-to-1000',
        'https://www.apartments.com/pawtucket-ri-2860/400-to-1000',
        'https://www.apartments.com/passaic-nj-7055/1000-to-1200',
        'https://www.apartments.com/niles-mi-49120/1000-to-1200',
        'https://www.apartments.com/waterford-mi-48328/400-to-1000',
        'https://www.apartments.com/richmond-va-23236/400-to-1000',
        'https://www.apartments.com/schenectady-ny-12303/320-to-838',
        'https://www.apartments.com/gastonia-nc-28052/320-to-838',
        'https://www.apartments.com/hampton-va-23664/400-to-1000',
        'https://www.apartments.com/capitol-heights-md-20743/1000-to-1200',
        'https://www.apartments.com/sedalia-mo-65301/320-to-838',
        'https://www.apartments.com/santa-ana-ca-92705/320-to-838',
        'https://www.apartments.com/columbus-oh-43201/320-to-838',
        'https://www.apartments.com/rhinelander-wi-54501/319-to-478',
        'https://www.apartments.com/gastonia-nc-28054/560-to-1198',
        'https://www.apartments.com/reading-pa-19601/320-to-838',
        'https://www.apartments.com/morrisville-pa-19067/1000-to-1200',
        'https://www.apartments.com/concord-nc-28025/400-to-1000',
        'https://www.apartments.com/riverside-ca-92507/400-to-1000',
        'https://www.apartments.com/scranton-pa-18503/560-to-1198',
        'https://www.apartments.com/mingo-junction-oh-43938/400-to-1000',
        'https://www.apartments.com/columbia-sc-29206/400-to-1000',
        'https://www.apartments.com/sperry-ok-74073/400-to-1000',
        'https://www.apartments.com/new-orleans-la-70116/400-to-1000',
        'https://www.apartments.com/burlington-ia-52601/400-to-1000',
        'https://www.apartments.com/macon-ga-31201/320-to-838',
        'https://www.apartments.com/lincoln-ne-68502/400-to-1000',
        'https://www.apartments.com/syracuse-ny-13206/320-to-838',
        'https://www.apartments.com/albemarle-nc-28001/320-to-838',
        'https://www.apartments.com/grand-rapids-mi-49508/400-to-1000',
        'https://www.apartments.com/east-flat-rock-nc-28726/400-to-1000',
        'https://www.apartments.com/modesto-ca-95350/400-to-1000',
        'https://www.apartments.com/cleveland-oh-44109/400-to-1000',
        'https://www.apartments.com/harvey-la-70058/400-to-1000',
        'https://www.apartments.com/indianapolis-in-46227/400-to-1000',
        'https://www.apartments.com/canton-oh-44710/1000-to-1200',
        'https://www.apartments.com/seminole-fl-33772/560-to-1198',
        'https://www.apartments.com/las-vegas-nv-89139/1000-to-1200',
        'https://www.apartments.com/springfield-mo-65803/320-to-838',
        'https://www.apartments.com/jacksonville-fl-32206/320-to-838',
        'https://www.apartments.com/sherman-tx-75092/400-to-1000',
        'https://www.apartments.com/henderson-nv-89074/1000-to-1200',
        'https://www.apartments.com/lamar-sc-29069/400-to-1000',
        'https://www.apartments.com/ripley-tn-38063/400-to-1000',
        'https://www.apartments.com/houston-tx-77095/400-to-1000',
        'https://www.apartments.com/oak-park-mi-48237/560-to-1198',
        'https://www.apartments.com/louisville-co-80027/320-to-838',
        'https://www.apartments.com/winston-salem-nc-27127/560-to-1198',
        'https://www.apartments.com/nashville-tn-37211/400-to-1000',
        'https://www.apartments.com/tampa-fl-33647/400-to-1000',
        'https://www.apartments.com/aledo-tx-76008/1000-to-1200',
        'https://www.apartments.com/los-angeles-ca-90047/400-to-1000',
        'https://www.apartments.com/sheboygan-wi-53081/560-to-1198',
        'https://www.apartments.com/everett-wa-98201/1000-to-1200',
        'https://www.apartments.com/plant-city-fl-33566/400-to-1000',
        'https://www.apartments.com/detroit-mi-48206/400-to-1000',
        'https://www.apartments.com/philadelphia-pa-19138/400-to-1000',
        'https://www.apartments.com/menomonie-wi-54751/320-to-838',
        'https://www.apartments.com/birmingham-al-35211/400-to-1000',
        'https://www.apartments.com/marion-oh-43302/400-to-1000',
        'https://www.apartments.com/spring-city-tn-37381/320-to-838',
        'https://www.apartments.com/vero-beach-fl-32966/400-to-1000',
        'https://www.apartments.com/hampton-ga-30228/400-to-1000',
        'https://www.apartments.com/tampa-fl-33615/400-to-1000',
        'https://www.apartments.com/homeland-ca-92548/400-to-1000',
        'https://www.apartments.com/lansing-mi-48911/400-to-1000',
        'https://www.apartments.com/jacksonville-fl-32216/560-to-1198',
        'https://www.apartments.com/charles-town-wv-25414/320-to-838',
        'https://www.apartments.com/thomasville-nc-27360/320-to-838',
        'https://www.apartments.com/lancaster-sc-29720/319-to-478',
        'https://www.apartments.com/colon-mi-49040/400-to-1000',
        'https://www.apartments.com/charlotte-nc-28215/560-to-1198',
        'https://www.apartments.com/marietta-oh-45750/319-to-478',
        'https://www.apartments.com/livingston-manor-ny-12758/400-to-1000',
        'https://www.apartments.com/augusta-ga-30907/320-to-838',
        'https://www.apartments.com/eatonton-ga-31024/400-to-1000',
        'https://www.apartments.com/colorado-springs-co-80907/400-to-1000',
        'https://www.apartments.com/grand-junction-co-81501/1000-to-1200',
        'https://www.apartments.com/el-sobrante-ca-94803/560-to-1198',
        'https://www.apartments.com/new-york-ny-10001/320-to-838',
        'https://www.apartments.com/columbus-oh-43207/400-to-1000',
        'https://www.apartments.com/baltimore-md-21217/400-to-1000',
        'https://www.apartments.com/fairfield-ia-52556/400-to-1000',
        'https://www.apartments.com/zelienople-pa-16063/560-to-1198',
        'https://www.apartments.com/seguin-tx-78155/560-to-1198',
        'https://www.apartments.com/lakeland-fl-33801/320-to-838',
        'https://www.apartments.com/sacramento-ca-95833/400-to-1000',
        'https://www.apartments.com/detroit-mi-48223/400-to-1000',
        'https://www.apartments.com/penfield-ny-14526/400-to-1000',
        'https://www.apartments.com/norfolk-va-23509/400-to-1000',
        'https://www.apartments.com/belton-tx-76513/320-to-838',
        'https://www.apartments.com/augusta-me-4330/560-to-1198',
        'https://www.apartments.com/nan-nan-87128/400-to-1000',
        'https://www.apartments.com/monroe-la-71201/320-to-838',
        'https://www.apartments.com/oshkosh-wi-54901/400-to-1000',
        'https://www.apartments.com/harrisburg-pa-17101/319-to-478',
        'https://www.apartments.com/southfield-mi-48033/400-to-1000',
        'https://www.apartments.com/west-palm-beach-fl-33401/400-to-1000',
        'https://www.apartments.com/phoenix-az-85014/400-to-1000',
        'https://www.apartments.com/decatur-ga-30035/560-to-1198',
        'https://www.apartments.com/hartford-ct-6106/320-to-838',
        'https://www.apartments.com/milwaukee-wi-53208/560-to-1198',
        'https://www.apartments.com/homestead-fl-33033/400-to-1000',
        'https://www.apartments.com/baton-rouge-la-70816/400-to-1000',
        'https://www.apartments.com/baton-rouge-la-70805/400-to-1000',
        'https://www.apartments.com/crosby-tx-77532/320-to-838',
        'https://www.apartments.com/griffin-ga-30224/400-to-1000',
        'https://www.apartments.com/goodyear-az-85338/400-to-1000',
        'https://www.apartments.com/fort-lauderdale-fl-33311/400-to-1000',
        'https://www.apartments.com/caldwell-id-83605/320-to-838',
        'https://www.apartments.com/turlock-ca-95380/560-to-1198',
        'https://www.apartments.com/el-paso-tx-79901/560-to-1198',
        'https://www.apartments.com/las-vegas-nv-89104/400-to-1000',
        'https://www.apartments.com/cincinnati-oh-45217/400-to-1000',
        'https://www.apartments.com/lexington-ky-40505/400-to-1000',
        'https://www.apartments.com/rock-hill-sc-29730/319-to-478',
        'https://www.apartments.com/sacramento-ca-95823/400-to-1000',
        'https://www.apartments.com/san-antonio-tx-78247/400-to-1000',
        'https://www.apartments.com/pineville-la-71360/320-to-838',
        'https://www.apartments.com/palm-springs-ca-92262/400-to-1000',
        'https://www.apartments.com/mount-pleasant-mi-48858/320-to-838',
        'https://www.apartments.com/edinburg-va-22824/320-to-838',
        'https://www.apartments.com/greenville-sc-29617/320-to-838',
        'https://www.apartments.com/boca-raton-fl-33431/400-to-1000',
        'https://www.apartments.com/feasterville-trevose-pa-19053/400-to-1000',
        'https://www.apartments.com/sacramento-ca-95815/400-to-1000',
        'https://www.apartments.com/eureka-ca-95503/320-to-838',
        'https://www.apartments.com/franklin-ky-42134/400-to-1000',
        'https://www.apartments.com/memphis-tn-38122/320-to-838',
        'https://www.apartments.com/springfield-oh-45504/400-to-1000',
        'https://www.apartments.com/farmington-nm-87401/560-to-1198',
        'https://www.apartments.com/pomona-ca-91767/400-to-1000',
        'https://www.apartments.com/nan-nan-33465/400-to-1000',
        'https://www.apartments.com/tulsa-ok-74110/400-to-1000',
        'https://www.apartments.com/philadelphia-pa-19150/320-to-838',
        'https://www.apartments.com/san-jose-ca-95112/400-to-1000',
        'https://www.apartments.com/harrisonburg-va-22802/320-to-838',
        'https://www.apartments.com/yuba-city-ca-95991/400-to-1000',
        'https://www.apartments.com/auburndale-fl-33823/400-to-1000',
        'https://www.apartments.com/pacoima-ca-91331/400-to-1000',
        'https://www.apartments.com/chesapeake-va-23324/400-to-1000',
        'https://www.apartments.com/graham-nc-27253/560-to-1198',
        'https://www.apartments.com/port-orange-fl-32128/400-to-1000',
        'https://www.apartments.com/philadelphia-pa-19133/400-to-1000',
        'https://www.apartments.com/yakima-wa-98908/560-to-1198',
        'https://www.apartments.com/pocatello-id-83201/319-to-478',
        'https://www.apartments.com/leominster-ma-1453/400-to-1000',
        'https://www.apartments.com/afton-ok-74331/400-to-1000',
        'https://www.apartments.com/yukon-ok-73099/320-to-838',
        'https://www.apartments.com/woodland-ca-95695/400-to-1000',
        'https://www.apartments.com/cincinnati-oh-45231/400-to-1000',
        'https://www.apartments.com/billings-mt-59101/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30308/400-to-1000',
        'https://www.apartments.com/jacksonville-ar-72076/400-to-1000',
        'https://www.apartments.com/washington-dc-20019/560-to-1198',
        'https://www.apartments.com/angola-in-46703/560-to-1198',
        'https://www.apartments.com/mason-oh-45040/320-to-838',
        'https://www.apartments.com/denver-co-80226/400-to-1000',
        'https://www.apartments.com/burlington-wi-53105/400-to-1000',
        'https://www.apartments.com/north-versailles-pa-15137/400-to-1000',
        'https://www.apartments.com/springfield-oh-45503/400-to-1000',
        'https://www.apartments.com/getzville-ny-14068/400-to-1000',
        'https://www.apartments.com/rialto-ca-92376/320-to-838',
        'https://www.apartments.com/akron-oh-44301/560-to-1198',
        'https://www.apartments.com/sarasota-fl-34234/400-to-1000',
        'https://www.apartments.com/phoenix-az-85020/400-to-1000',
        'https://www.apartments.com/riverside-ca-92501/400-to-1000',
        'https://www.apartments.com/monroe-mi-48161/320-to-838',
        'https://www.apartments.com/ozark-mo-65721/320-to-838',
        'https://www.apartments.com/pasadena-tx-77506/560-to-1198',
        'https://www.apartments.com/palmetto-fl-34221/400-to-1000',
        'https://www.apartments.com/phenix-city-al-36867/400-to-1000',
        'https://www.apartments.com/orlando-fl-32826/400-to-1000',
        'https://www.apartments.com/gretna-la-70053/400-to-1000',
        'https://www.apartments.com/fort-wayne-in-46806/400-to-1000',
        'https://www.apartments.com/inkster-mi-48141/400-to-1000',
        'https://www.apartments.com/atlanta-ga-30349/400-to-1000',
        'https://www.apartments.com/sarasota-fl-34239/400-to-1000',
        'https://www.apartments.com/garner-nc-27529/400-to-1000',
        'https://www.apartments.com/sierra-vista-az-85635/560-to-1198',
        'https://www.apartments.com/aliquippa-pa-15001/400-to-1000',
        'https://www.apartments.com/sherman-tx-75090/400-to-1000',
        'https://www.apartments.com/huntsville-al-35811/319-to-478',
        'https://www.apartments.com/las-vegas-nv-89169/400-to-1000',
        'https://www.apartments.com/bloomington-in-47403/1000-to-1200',
        'https://www.apartments.com/lancaster-ca-93534/400-to-1000',
        'https://www.apartments.com/lancaster-tx-75134/560-to-1198',
        'https://www.apartments.com/benton-harbor-mi-49022/320-to-838',
        'https://www.apartments.com/portage-in-46368/400-to-1000',
        'https://www.apartments.com/las-vegas-nv-89130/1000-to-1200',
        'https://www.apartments.com/cathedral-city-ca-92234/400-to-1000',
        'https://www.apartments.com/miami-fl-33132/400-to-1000',
        'https://www.apartments.com/glendale-az-85301/320-to-838',
        'https://www.apartments.com/dothan-al-36301/319-to-478',
        'https://www.apartments.com/arlington-tx-76001/400-to-1000',
        'https://www.apartments.com/oakland-ca-94601/560-to-1198',
        'https://www.apartments.com/bakersfield-ca-93304/400-to-1000',
        'https://www.apartments.com/lansdale-pa-19446/320-to-838',
        'https://www.apartments.com/chattanooga-tn-37402/320-to-838',
        'https://www.apartments.com/san-antonio-tx-78228/1000-to-1200',
        'https://www.apartments.com/taft-ca-93268/400-to-1000',
        'https://www.apartments.com/jacksonville-fl-32207/400-to-1000',
        'https://www.apartments.com/sacramento-ca-95828/560-to-1198',
        'https://www.apartments.com/north-port-fl-34287/320-to-838',
        'https://www.apartments.com/troy-al-36079/319-to-478',
        'https://www.apartments.com/tahlequah-ok-74464/400-to-1000',
        'https://www.apartments.com/powder-springs-ga-30127/320-to-838',
        'https://www.apartments.com/oklahoma-city-ok-73109/400-to-1000',
        'https://www.apartments.com/albany-ga-31705/400-to-1000',
        'https://www.apartments.com/birmingham-al-35206/400-to-1000',
        'https://www.apartments.com/phoenix-az-85028/400-to-1000',
        'https://www.apartments.com/alvarado-tx-76009/1000-to-1200',
        'https://www.apartments.com/miami-fl-33147/400-to-1000',
        'https://www.apartments.com/high-point-nc-27260/320-to-838',
        'https://www.apartments.com/corpus-christi-tx-78418/400-to-1000',
        'https://www.apartments.com/newark-nj-7102/560-to-1198',
        'https://www.apartments.com/cleveland-tn-37311/400-to-1000',
        'https://www.apartments.com/roseville-ca-95661/1000-to-1200',
        'https://www.apartments.com/houston-tx-77033/320-to-838',
        'https://www.apartments.com/dallas-tx-75228/1000-to-1200',
        'https://www.apartments.com/gulfport-ms-39501/320-to-838',
        'https://www.apartments.com/birmingham-al-35203/320-to-838',
        'https://www.apartments.com/lakeland-fl-33811/560-to-1198',
        'https://www.apartments.com/aberdeen-wa-98520/400-to-1000'



        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
