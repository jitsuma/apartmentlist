import scrapy


class ApartmentListSpider(scrapy.Spider):
    name = 'apartment_list'
    allowed_domains = ['https://www.apartments.com']
    
    start_urls = [
        'https://www.apartments.com/wilkesboro-nc-28697/500-to-1500',
        'https://www.apartments.com/henderson-nc-27537/500-to-1500',
        'https://www.apartments.com/brevard-nc-28712/500-to-1500',
        'https://www.apartments.com/bonita-springs-fl-34135/500-to-1500',
        'https://www.apartments.com/texarkana-ar-71854/500-to-1500',
        'https://www.apartments.com/los-angeles-ca-0/500-to-1500',
        'https://www.apartments.com/lithonia-ga-30038/500-to-1500',
        'https://www.apartments.com/huntersville-nc-28078/500-to-1500',
        'https://www.apartments.com/new-port-richey-fl-34654/500-to-1500',
        'https://www.apartments.com/gainesville-ga-30504/500-to-1500',
        'https://www.apartments.com/palatka-fl-32177/500-to-1500',
        'https://www.apartments.com/danielson-ct-6239/500-to-1500',
        'https://www.apartments.com/hendersonville-nc-28739/500-to-1500',
        'https://www.apartments.com/canton-nc-28716/500-to-1500',
        'https://www.apartments.com/starke-fl-32091/500-to-1500',
        'https://www.apartments.com/portland-or-97213/500-to-1500',
        'https://www.apartments.com/stockbridge-ga-30281/500-to-1500',
        'https://www.apartments.com/pontiac-mi-48342/500-to-1500',
        'https://www.apartments.com/jacksonville-fl-32209/500-to-1500',
        'https://www.apartments.com/colorado-springs-co-80916/500-to-1500',
        'https://www.apartments.com/indianola-ms-38751/500-to-1500',
        'https://www.apartments.com/jacksonville-fl-32226/500-to-1500',
        'https://www.apartments.com/nan-nan-28381/500-to-1500',
        'https://www.apartments.com/cumming-ga-30041/500-to-1500',
        'https://www.apartments.com/los-angeles-ca-90016/500-to-1500',
        'https://www.apartments.com/indianapolis-in-46205/500-to-1500',
        'https://www.apartments.com/tallahassee-fl-32301/500-to-1500',
        'https://www.apartments.com/davenport-ia-52802/500-to-1500',
        'https://www.apartments.com/bethel-springs-tn-38315/500-to-1500',
        'https://www.apartments.com/muskegon-mi-49442/500-to-1500',
        'https://www.apartments.com/greenwood-de-19950/500-to-1500',
        'https://www.apartments.com/etters-pa-17319/500-to-1500',
        'https://www.apartments.com/butte-mt-59701/500-to-1500',
        'https://www.apartments.com/pittsburgh-pa-15208/500-to-1500',
        'https://www.apartments.com/indianapolis-in-46201/500-to-1500',
        'https://www.apartments.com/lincolnton-nc-28092/500-to-1500',
        'https://www.apartments.com/cleveland-oh-44102/500-to-1500',
        'https://www.apartments.com/bridgeport-ct-6604/500-to-1500',
        'https://www.apartments.com/clearwater-fl-33755/500-to-1500',
        'https://www.apartments.com/slidell-la-70461/500-to-1500',
        'https://www.apartments.com/grand-prairie-tx-75050/500-to-1500',
        'https://www.apartments.com/northern-cambria-pa-15714/500-to-1500',
        'https://www.apartments.com/royersford-pa-19468/500-to-1500',
        'https://www.apartments.com/mount-airy-nc-27030/500-to-1500',
        'https://www.apartments.com/houston-tx-77036/500-to-1500',
        'https://www.apartments.com/nan-nan-34451/500-to-1500',
        'https://www.apartments.com/poughkeepsie-ny-12603/500-to-1500',
        'https://www.apartments.com/san-bernardino-ca-92404/500-to-1500',
        'https://www.apartments.com/deland-fl-32724/500-to-1500',
        'https://www.apartments.com/hopewell-va-23860/500-to-1500',
        'https://www.apartments.com/houston-tx-77026/500-to-1500',
        'https://www.apartments.com/elkton-md-21921/500-to-1500',
        'https://www.apartments.com/charlotte-nc-28208/500-to-1500',
        'https://www.apartments.com/houston-tx-77023/500-to-1500',
        'https://www.apartments.com/detroit-mi-48207/500-to-1500',
        'https://www.apartments.com/bolivar-mo-65613/500-to-1500',
        'https://www.apartments.com/conyers-ga-30012/500-to-1500',
        'https://www.apartments.com/harrison-oh-45030/500-to-1500',
        'https://www.apartments.com/toms-river-nj-8757/500-to-1500',
        'https://www.apartments.com/china-grove-nc-28023/500-to-1500',
        'https://www.apartments.com/marion-oh-43302/500-to-1500',
        'https://www.apartments.com/columbia-pa-17512/500-to-1500',
        'https://www.apartments.com/newark-nj-7106/500-to-1500',
        'https://www.apartments.com/hyattsville-md-20783/500-to-1500',
        'https://www.apartments.com/commerce-ga-30529/500-to-1500',
        'https://www.apartments.com/phoenix-az-85006/500-to-1500',
        'https://www.apartments.com/san-antonio-tx-78207/500-to-1500',
        'https://www.apartments.com/beaverton-or-97007/500-to-1500',
        'https://www.apartments.com/hyannis-ma-2601/500-to-1500',
        'https://www.apartments.com/durant-ok-74701/500-to-1500',
        'https://www.apartments.com/chester-pa-19013/500-to-1500',
        'https://www.apartments.com/indianapolis-in-46254/500-to-1500',
        'https://www.apartments.com/albuquerque-nm-87108/500-to-1500',
        'https://www.apartments.com/beaumont-tx-77703/500-to-1500',
        'https://www.apartments.com/memphis-tn-38111/500-to-1500',
        'https://www.apartments.com/topeka-ks-66605/500-to-1500',
        'https://www.apartments.com/laurinburg-nc-28352/500-to-1500',
        'https://www.apartments.com/beverly-hills-fl-34465/500-to-1500',
        'https://www.apartments.com/rogersville-tn-37857/500-to-1500',
        'https://www.apartments.com/elizabethton-tn-37643/500-to-1500',
        'https://www.apartments.com/silver-spring-md-20904/500-to-1500',
        'https://www.apartments.com/roanoke-va-24016/500-to-1500',
        'https://www.apartments.com/houston-tx-77048/500-to-1500',
        'https://www.apartments.com/bangor-me-4401/500-to-1500',
        'https://www.apartments.com/kansas-city-mo-64133/500-to-1500',
        'https://www.apartments.com/cedar-city-ut-84721/500-to-1500',
        'https://www.apartments.com/anita-pa-15711/500-to-1500',
        'https://www.apartments.com/pittsburg-ca-94565/500-to-1500',
        'https://www.apartments.com/memphis-tn-38122/500-to-1500',
        'https://www.apartments.com/hanover-pa-17331/500-to-1500',
        'https://www.apartments.com/cleveland-tn-37311/500-to-1500',
        'https://www.apartments.com/athens-tx-75751/500-to-1500',
        'https://www.apartments.com/panama-city-fl-32404/500-to-1500',
        'https://www.apartments.com/cincinnati-oh-45219/500-to-1500',
        'https://www.apartments.com/waynesboro-pa-17268/500-to-1500',
        'https://www.apartments.com/aurora-co-80011/500-to-1500',
        'https://www.apartments.com/savannah-ga-31410/500-to-1500',
        'https://www.apartments.com/garland-tx-75043/500-to-1500',
        'https://www.apartments.com/idaho-falls-id-83402/500-to-1500',
        'https://www.apartments.com/casa-grande-az-85122/500-to-1500',
        'https://www.apartments.com/montebello-ca-90640/500-to-1500',
        'https://www.apartments.com/memphis-tn-38116/500-to-1500',
        'https://www.apartments.com/jacksonville-nc-28546/500-to-1500',
        'https://www.apartments.com/leesburg-fl-34788/500-to-1500',
        'https://www.apartments.com/manchester-nh-3103/500-to-1500',
        'https://www.apartments.com/pittston-pa-18640/500-to-1500',
        'https://www.apartments.com/las-vegas-nv-89101/500-to-1500',
        'https://www.apartments.com/saint-petersburg-fl-33712/500-to-1500',
        'https://www.apartments.com/marietta-ga-30060/500-to-1500',
        'https://www.apartments.com/altamonte-springs-fl-32714/500-to-1500',
        'https://www.apartments.com/cape-coral-fl-33990/500-to-1500',
        'https://www.apartments.com/mount-holly-nc-28120/500-to-1500',
        'https://www.apartments.com/albertville-al-35950/500-to-1500',
        'https://www.apartments.com/matthews-nc-28105/500-to-1500',
        'https://www.apartments.com/carmichael-ca-95608/500-to-1500',
        'https://www.apartments.com/dallas-tx-75218/500-to-1500',
        'https://www.apartments.com/boerne-tx-78006/500-to-1500',
        'https://www.apartments.com/chicago-il-60608/500-to-1500',
        'https://www.apartments.com/saginaw-mi-48604/500-to-1500',
        'https://www.apartments.com/lexington-ky-40517/500-to-1500',
        'https://www.apartments.com/milwaukee-wi-53215/500-to-1500',
        'https://www.apartments.com/conway-ar-72034/500-to-1500',
        'https://www.apartments.com/alexander-city-al-35010/500-to-1500',
        'https://www.apartments.com/new-orleans-la-70119/500-to-1500',
        'https://www.apartments.com/dry-ridge-ky-41035/500-to-1500',
        'https://www.apartments.com/greensboro-nc-27405/500-to-1500',
        'https://www.apartments.com/turlock-ca-95380/500-to-1500',
        'https://www.apartments.com/kershaw-sc-29067/500-to-1500',
        'https://www.apartments.com/albuquerque-nm-87107/500-to-1500',
        'https://www.apartments.com/plattsburgh-ny-12901/500-to-1500',
        'https://www.apartments.com/lafayette-la-70501/500-to-1500',
        'https://www.apartments.com/albuquerque-nm-87121/500-to-1500',
        'https://www.apartments.com/milan-mi-48160/500-to-1500',
        'https://www.apartments.com/buffalo-ny-14220/500-to-1500',
        'https://www.apartments.com/whittier-ca-90606/500-to-1500',
        'https://www.apartments.com/durham-nc-27703/500-to-1500',
        'https://www.apartments.com/danville-pa-17821/500-to-1500',
        'https://www.apartments.com/wilkes-barre-pa-18706/500-to-1500',
        'https://www.apartments.com/colton-ca-92324/500-to-1500',
        'https://www.apartments.com/milwaukee-wi-53209/500-to-1500',
        'https://www.apartments.com/old-fort-nc-28762/500-to-1500',
        'https://www.apartments.com/hazleton-pa-18201/500-to-1500',
        'https://www.apartments.com/branson-mo-65616/500-to-1500',
        'https://www.apartments.com/fredericktown-mo-63645/500-to-1500',
        'https://www.apartments.com/fort-myers-fl-33916/500-to-1500',
        'https://www.apartments.com/citrus-heights-ca-95621/500-to-1500',
        'https://www.apartments.com/harrisburg-pa-17113/500-to-1500',
        'https://www.apartments.com/gulfport-ms-39501/500-to-1500',
        'https://www.apartments.com/albany-ga-31721/500-to-1500',
        'https://www.apartments.com/west-wareham-ma-2576/500-to-1500',
        'https://www.apartments.com/saint-petersburg-fl-33701/500-to-1500',
        'https://www.apartments.com/fairfield-ca-94533/500-to-1500',
        'https://www.apartments.com/federal-way-wa-98003/500-to-1500',
        'https://www.apartments.com/rochester-ny-14608/500-to-1500',
        'https://www.apartments.com/altamonte-springs-fl-32701/500-to-1500',
        'https://www.apartments.com/lemon-grove-ca-91945/500-to-1500',
        'https://www.apartments.com/jacksonville-fl-32208/500-to-1500',
        'https://www.apartments.com/birmingham-al-35235/500-to-1500',
        'https://www.apartments.com/ellenwood-ga-30294/500-to-1500',
        'https://www.apartments.com/bonne-terre-mo-63628/500-to-1500',
        'https://www.apartments.com/tampa-fl-33617/500-to-1500',
        'https://www.apartments.com/los-angeles-ca-90011/500-to-1500',
        'https://www.apartments.com/savannah-ga-31404/500-to-1500',
        'https://www.apartments.com/alamogordo-nm-88310/500-to-1500',
        'https://www.apartments.com/north-hills-ca-91343/500-to-1500',
        'https://www.apartments.com/philadelphia-pa-19124/500-to-1500',
        'https://www.apartments.com/cleveland-oh-44112/500-to-1500',
        'https://www.apartments.com/glendale-az-85307/500-to-1500',
        'https://www.apartments.com/tulare-ca-93274/500-to-1500',
        'https://www.apartments.com/milwaukee-wi-53206/500-to-1500',
        'https://www.apartments.com/charlotte-nc-28206/500-to-1500',
        'https://www.apartments.com/allentown-pa-18102/500-to-1500',
        'https://www.apartments.com/monroe-nc-28112/500-to-1500',
        'https://www.apartments.com/middlebranch-oh-44652/500-to-1500',
        'https://www.apartments.com/edmond-ok-73012/500-to-1500',
        'https://www.apartments.com/charlotte-nc-28205/500-to-1500',
        'https://www.apartments.com/hephzibah-ga-30815/500-to-1500',
        'https://www.apartments.com/washington-dc-20019/500-to-1500',
        'https://www.apartments.com/dalton-ga-30721/500-to-1500',
        'https://www.apartments.com/tucson-az-85710/500-to-1500',
        'https://www.apartments.com/vallejo-ca-94590/500-to-1500',
        'https://www.apartments.com/syracuse-ny-13204/500-to-1500',
        'https://www.apartments.com/watertown-ma-2472/500-to-1500',
        'https://www.apartments.com/camp-verde-az-86322/500-to-1500',
        'https://www.apartments.com/dallas-tx-75210/500-to-1500',
        'https://www.apartments.com/minden-nv-89423/500-to-1500',
        'https://www.apartments.com/dacula-ga-30019/500-to-1500',
        'https://www.apartments.com/kittanning-pa-16201/500-to-1500',
        'https://www.apartments.com/houston-tx-77014/500-to-1500',
        'https://www.apartments.com/metairie-la-70001/500-to-1500',
        'https://www.apartments.com/tucson-az-85713/500-to-1500',
        'https://www.apartments.com/booneville-ms-38829/500-to-1500',
        'https://www.apartments.com/houston-tx-77037/500-to-1500',
        'https://www.apartments.com/anniston-al-36207/500-to-1500',
        'https://www.apartments.com/middleburg-fl-32068/500-to-1500',
        'https://www.apartments.com/north-highlands-ca-95660/500-to-1500',
        'https://www.apartments.com/longview-tx-75602/500-to-1500',
        'https://www.apartments.com/lawrence-ma-1843/500-to-1500',
        'https://www.apartments.com/pasadena-ca-91104/500-to-1500',
        'https://www.apartments.com/salinas-ca-93907/500-to-1500',
        'https://www.apartments.com/springville-ny-14141/500-to-1500',
        'https://www.apartments.com/fresno-ca-93711/500-to-1500',
        'https://www.apartments.com/rochester-ny-14621/500-to-1500',
        'https://www.apartments.com/rockledge-fl-32955/500-to-1500',
        'https://www.apartments.com/woodbridge-va-22192/500-to-1500',
        'https://www.apartments.com/pflugerville-tx-78660/500-to-1500',
        'https://www.apartments.com/florissant-mo-63033/500-to-1500',
        'https://www.apartments.com/ocoee-fl-34761/500-to-1500',
        'https://www.apartments.com/houston-tx-77073/500-to-1500',
        'https://www.apartments.com/eugene-or-97402/500-to-1500',
        'https://www.apartments.com/eureka-ca-95503/500-to-1500',
        'https://www.apartments.com/hot-springs-national-park-ar-71901/500-to-1500',
        'https://www.apartments.com/albuquerque-nm-87110/500-to-1500',
        'https://www.apartments.com/estacada-or-97023/500-to-1500',
        'https://www.apartments.com/memphis-tn-38125/500-to-1500',
        'https://www.apartments.com/jacksonville-fl-32210/500-to-1500',
        'https://www.apartments.com/kissimmee-fl-34741/500-to-1500',
        'https://www.apartments.com/san-angelo-tx-76903/500-to-1500',
        'https://www.apartments.com/north-little-rock-ar-72118/500-to-1500',
        'https://www.apartments.com/richmond-tx-77406/500-to-1500',
        'https://www.apartments.com/kansas-city-mo-64116/500-to-1500',
        'https://www.apartments.com/amery-wi-54001/500-to-1500',
        'https://www.apartments.com/savannah-ga-31401/500-to-1500',
        'https://www.apartments.com/marietta-pa-17547/500-to-1500',
        'https://www.apartments.com/akron-oh-44314/500-to-1500',
        'https://www.apartments.com/waukegan-il-60087/500-to-1500',
        'https://www.apartments.com/killeen-tx-76549/500-to-1500',
        'https://www.apartments.com/allegan-mi-49010/500-to-1500',
        'https://www.apartments.com/homosassa-fl-34446/500-to-1500',
        'https://www.apartments.com/exeter-nh-3833/500-to-1500',
        'https://www.apartments.com/memphis-tn-38134/500-to-1500',
        'https://www.apartments.com/troup-tx-75789/500-to-1500',
        'https://www.apartments.com/conroe-tx-77304/500-to-1500',
        'https://www.apartments.com/cleveland-oh-44125/500-to-1500',
        'https://www.apartments.com/detroit-mi-48221/500-to-1500',
        'https://www.apartments.com/casselberry-fl-32707/500-to-1500',
        'https://www.apartments.com/saint-james-mo-65559/500-to-1500',
        'https://www.apartments.com/caldwell-id-83605/500-to-1500',
        'https://www.apartments.com/red-bluff-ca-96080/500-to-1500',
        'https://www.apartments.com/dothan-al-36303/500-to-1500',
        'https://www.apartments.com/chicago-il-60619/500-to-1500',
        'https://www.apartments.com/portland-me-4101/500-to-1500',
        'https://www.apartments.com/el-paso-tx-79938/500-to-1500',
        'https://www.apartments.com/cape-girardeau-mo-63703/500-to-1500',
        'https://www.apartments.com/jackson-ms-39212/500-to-1500',
        'https://www.apartments.com/phoenix-az-85008/500-to-1500',
        'https://www.apartments.com/kaneohe-hi-96744/500-to-1500'



        
            ]

    def parse(self, response):
        print("procesing:"+response.url)
        #Extract data using css selectors
        propertyname = response.xpath("//div[@class='property-title']/span/text()").extract()
        address=response.xpath("//div[@class='property-address js-url']/text()").extract()
        phone_number=response.xpath("//div[@class='phone-wrapper']/a/span/text()").extract()
        link_url=response.xpath("//div[@class='property-information']/a/@href").extract()

        row_data=zip(propertyname,address,phone_number,link_url)

        #Making extracted data row wise
        for item in row_data:
            #create a dictionary to store the scraped info
            scraped_info = {
                #key:value
                'page':response.url,
                'name':item[0],
                'address' : item[1], #item[0] means product in the list and so on, index tells what value to assign
                'phone_number' : item[2],
                'link_url' : item[3]
            }

            #yield or give the scraped info to scrapy
            yield scraped_info
